import{s as an,P as Wt,e as b,c as x,b as X,f as v,p,i as z,Q as Gt,R as jt,S as Xt,k as Vl,_ as ze,U as nn,V as mn,a as oe,g as ie,h as C,W as Mt,z as ws,T as bo,$ as Bl,a0 as Ye,B as Ul,n as _e,a1 as zl,X as Jt,t as De,d as Ie,a2 as xo,a3 as wo,l as jn,a4 as Yl,a5 as ai,a6 as oi,r as pr,Y as ee,o as Co,a7 as rt,a8 as jr}from"../chunks/scheduler.DNdLcuuD.js";import{S as on,i as sn,a as me,t as ge,g as kn,c as Tn,f as Wl,h as Gl,b as Ae,d as Me,m as Ee,e as Pe,j as Xr}from"../chunks/index.BuXUJeS7.js";import{p as jl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.DeLMOYHc.js";import{w as Xl}from"../chunks/index.VWMLtH-B.js";function Zl(e,t){const n={},r={},a={$$scope:1};let o=e.length;for(;o--;){const i=e[o],s=t[o];if(s){for(const l in i)l in s||(r[l]=1);for(const l in s)a[l]||(n[l]=s[l],a[l]=1);e[o]=s}else for(const l in i)a[l]=1}for(const i in r)i in n||(n[i]=void 0);return n}function Kl(e){const t=e-1;return t*t*t+1}function ii(e,{delay:t=0,duration:n=400,easing:r=Kl,axis:a="y"}={}){const o=getComputedStyle(e),i=+o.opacity,s=a==="y"?"height":"width",l=parseFloat(o[s]),c=a==="y"?["top","bottom"]:["left","right"],u=c.map(S=>`${S[0].toUpperCase()}${S.slice(1)}`),f=parseFloat(o[`padding${u[0]}`]),d=parseFloat(o[`padding${u[1]}`]),h=parseFloat(o[`margin${u[0]}`]),_=parseFloat(o[`margin${u[1]}`]),g=parseFloat(o[`border${u[0]}Width`]),q=parseFloat(o[`border${u[1]}Width`]);return{delay:t,duration:n,easing:r,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*i};${s}: ${S*l}px;padding-${c[0]}: ${S*f}px;padding-${c[1]}: ${S*d}px;margin-${c[0]}: ${S*h}px;margin-${c[1]}: ${S*_}px;border-${c[0]}-width: ${S*g}px;border-${c[1]}-width: ${S*q}px;`}}function Ql(e){let t,n,r;const a=e[19].default,o=Wt(a,e,e[18],null);return{c(){t=b("div"),o&&o.c(),this.h()},l(i){t=x(i,"DIV",{class:!0,"data-testid":!0});var s=X(t);o&&o.l(s),s.forEach(v),this.h()},h(){p(t,"class",n="accordion "+e[0]),p(t,"data-testid","accordion")},m(i,s){z(i,t,s),o&&o.m(t,null),r=!0},p(i,[s]){o&&o.p&&(!r||s&262144)&&Gt(o,a,i,i[18],r?Xt(a,i[18],s,null):jt(i[18]),null),(!r||s&1&&n!==(n="accordion "+i[0]))&&p(t,"class",n)},i(i){r||(me(o,i),r=!0)},o(i){ge(o,i),r=!1},d(i){i&&v(t),o&&o.d(i)}}}function Jl(e,t,n){let r,a;Vl(e,jl,k=>n(20,a=k));let{$$slots:o={},$$scope:i}=t,{autocollapse:s=!1}=t,{width:l="w-full"}=t,{spacing:c="space-y-1"}=t,{disabled:u=!1}=t,{padding:f="py-2 px-4"}=t,{hover:d="hover:bg-primary-hover-token"}=t,{rounded:h="rounded-container-token"}=t,{caretOpen:_="rotate-180"}=t,{caretClosed:g=""}=t,{regionControl:q=""}=t,{regionPanel:S="space-y-4"}=t,{regionCaret:T=""}=t,{transitions:P=!a}=t,{transitionIn:E=ii}=t,{transitionInParams:y={duration:200}}=t,{transitionOut:w=ii}=t,{transitionOutParams:A={duration:200}}=t;const N=Xl(null);return ze("active",N),ze("autocollapse",s),ze("disabled",u),ze("padding",f),ze("hover",d),ze("rounded",h),ze("caretOpen",_),ze("caretClosed",g),ze("regionControl",q),ze("regionPanel",S),ze("regionCaret",T),ze("transitions",P),ze("transitionIn",E),ze("transitionInParams",y),ze("transitionOut",w),ze("transitionOutParams",A),e.$$set=k=>{n(22,t=nn(nn({},t),mn(k))),"autocollapse"in k&&n(1,s=k.autocollapse),"width"in k&&n(2,l=k.width),"spacing"in k&&n(3,c=k.spacing),"disabled"in k&&n(4,u=k.disabled),"padding"in k&&n(5,f=k.padding),"hover"in k&&n(6,d=k.hover),"rounded"in k&&n(7,h=k.rounded),"caretOpen"in k&&n(8,_=k.caretOpen),"caretClosed"in k&&n(9,g=k.caretClosed),"regionControl"in k&&n(10,q=k.regionControl),"regionPanel"in k&&n(11,S=k.regionPanel),"regionCaret"in k&&n(12,T=k.regionCaret),"transitions"in k&&n(13,P=k.transitions),"transitionIn"in k&&n(14,E=k.transitionIn),"transitionInParams"in k&&n(15,y=k.transitionInParams),"transitionOut"in k&&n(16,w=k.transitionOut),"transitionOutParams"in k&&n(17,A=k.transitionOutParams),"$$scope"in k&&n(18,i=k.$$scope)},e.$$.update=()=>{n(0,r=`${l} ${c} ${t.class??""}`)},t=mn(t),[r,s,l,c,u,f,d,h,_,g,q,S,T,P,E,y,w,A,i,o]}class en extends on{constructor(t){super(),sn(this,t,Jl,Ql,an,{autocollapse:1,width:2,spacing:3,disabled:4,padding:5,hover:6,rounded:7,caretOpen:8,caretClosed:9,regionControl:10,regionPanel:11,regionCaret:12,transitions:13,transitionIn:14,transitionInParams:15,transitionOut:16,transitionOutParams:17})}}function si(e,t){const{transition:n,params:r,enabled:a}=t;return a?n(e,r):"duration"in r?n(e,{duration:0}):{duration:0}}const ec=e=>({}),li=e=>({}),tc=e=>({}),ci=e=>({}),nc=e=>({}),ui=e=>({}),rc=e=>({}),fi=e=>({}),ac=e=>({}),di=e=>({});function hi(e){let t,n;const r=e[30].lead,a=Wt(r,e,e[29],di);return{c(){t=b("div"),a&&a.c(),this.h()},l(o){t=x(o,"DIV",{class:!0});var i=X(t);a&&a.l(i),i.forEach(v),this.h()},h(){p(t,"class","accordion-lead")},m(o,i){z(o,t,i),a&&a.m(t,null),n=!0},p(o,i){a&&a.p&&(!n||i[0]&536870912)&&Gt(a,r,o,o[29],n?Xt(r,o[29],i,ac):jt(o[29]),di)},i(o){n||(me(a,o),n=!0)},o(o){ge(a,o),n=!1},d(o){o&&v(t),a&&a.d(o)}}}function oc(e){let t;return{c(){t=De("(summary)")},l(n){t=Ie(n,"(summary)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function ic(e){let t,n,r;return{c(){t=b("div"),n=new xo(!1),this.h()},l(a){t=x(a,"DIV",{class:!0});var o=X(t);n=wo(o,!1),o.forEach(v),this.h()},h(){n.a=null,p(t,"class",r="accordion-summary-caret "+e[11])},m(a,o){z(a,t,o),n.m(e[14],t)},p(a,o){o[0]&2048&&r!==(r="accordion-summary-caret "+a[11])&&p(t,"class",r)},i:_e,o:_e,d(a){a&&v(t)}}}function sc(e){let t,n,r,a,o;const i=[cc,lc],s=[];function l(c,u){return c[8]?0:1}return n=l(e),r=s[n]=i[n](e),{c(){t=b("div"),r.c(),this.h()},l(c){t=x(c,"DIV",{class:!0});var u=X(t);r.l(u),u.forEach(v),this.h()},h(){p(t,"class",a="accordion-summary-icons "+e[10])},m(c,u){z(c,t,u),s[n].m(t,null),o=!0},p(c,u){let f=n;n=l(c),n===f?s[n].p(c,u):(kn(),ge(s[f],1,1,()=>{s[f]=null}),Tn(),r=s[n],r?r.p(c,u):(r=s[n]=i[n](c),r.c()),me(r,1),r.m(t,null)),(!o||u[0]&1024&&a!==(a="accordion-summary-icons "+c[10]))&&p(t,"class",a)},i(c){o||(me(r),o=!0)},o(c){ge(r),o=!1},d(c){c&&v(t),s[n].d()}}}function lc(e){let t;const n=e[30].iconOpen,r=Wt(n,e,e[29],ci),a=r||uc(e);return{c(){a&&a.c()},l(o){a&&a.l(o)},m(o,i){a&&a.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i[0]&536870912)&&Gt(r,n,o,o[29],t?Xt(n,o[29],i,tc):jt(o[29]),ci)},i(o){t||(me(a,o),t=!0)},o(o){ge(a,o),t=!1},d(o){a&&a.d(o)}}}function cc(e){let t;const n=e[30].iconClosed,r=Wt(n,e,e[29],ui),a=r||fc(e);return{c(){a&&a.c()},l(o){a&&a.l(o)},m(o,i){a&&a.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i[0]&536870912)&&Gt(r,n,o,o[29],t?Xt(n,o[29],i,nc):jt(o[29]),ui)},i(o){t||(me(a,o),t=!0)},o(o){ge(a,o),t=!1},d(o){a&&a.d(o)}}}function uc(e){let t,n;return{c(){t=new xo(!1),n=jn(),this.h()},l(r){t=wo(r,!1),n=jn(),this.h()},h(){t.a=n},m(r,a){t.m(e[14],r,a),z(r,n,a)},p:_e,d(r){r&&(v(n),t.d())}}}function fc(e){let t,n;return{c(){t=new xo(!1),n=jn(),this.h()},l(r){t=wo(r,!1),n=jn(),this.h()},h(){t.a=n},m(r,a){t.m(e[14],r,a),z(r,n,a)},p:_e,d(r){r&&(v(n),t.d())}}}function mi(e){let t,n,r,a,o,i,s;const l=e[30].content,c=Wt(l,e,e[29],li),u=c||dc();return{c(){t=b("div"),u&&u.c(),this.h()},l(f){t=x(f,"DIV",{class:!0,id:!0,role:!0,"aria-hidden":!0,"aria-labelledby":!0});var d=X(t);u&&u.l(d),d.forEach(v),this.h()},h(){p(t,"class",n="accordion-panel "+e[9]),p(t,"id",r="accordion-panel-"+e[0]),p(t,"role","region"),p(t,"aria-hidden",a=!e[8]),p(t,"aria-labelledby",e[0])},m(f,d){z(f,t,d),u&&u.m(t,null),s=!0},p(f,d){e=f,c&&c.p&&(!s||d[0]&536870912)&&Gt(c,l,e,e[29],s?Xt(l,e[29],d,ec):jt(e[29]),li),(!s||d[0]&512&&n!==(n="accordion-panel "+e[9]))&&p(t,"class",n),(!s||d[0]&1&&r!==(r="accordion-panel-"+e[0]))&&p(t,"id",r),(!s||d[0]&256&&a!==(a=!e[8]))&&p(t,"aria-hidden",a),(!s||d[0]&1)&&p(t,"aria-labelledby",e[0])},i(f){s||(me(u,f),f&&Ul(()=>{s&&(i&&i.end(1),o=Wl(t,si,{transition:e[4],params:e[5],enabled:e[3]}),o.start())}),s=!0)},o(f){ge(u,f),o&&o.invalidate(),f&&(i=Gl(t,si,{transition:e[6],params:e[7],enabled:e[3]})),s=!1},d(f){f&&v(t),u&&u.d(f),f&&i&&i.end()}}}function dc(e){let t;return{c(){t=De("(content)")},l(n){t=Ie(n,"(content)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function hc(e){let t,n,r,a,o,i,s,l,c,u,f,d,h,_,g=e[16].lead&&hi(e);const q=e[30].summary,S=Wt(q,e,e[29],fi),T=S||oc(),P=[sc,ic],E=[];function y(A,N){return A[16].iconClosed||A[16].iconOpen?0:1}i=y(e),s=E[i]=P[i](e);let w=e[8]&&mi(e);return{c(){t=b("div"),n=b("button"),g&&g.c(),r=oe(),a=b("div"),T&&T.c(),o=oe(),s.c(),u=oe(),w&&w.c(),this.h()},l(A){t=x(A,"DIV",{class:!0,"data-testid":!0});var N=X(t);n=x(N,"BUTTON",{type:!0,class:!0,id:!0,"aria-expanded":!0,"aria-controls":!0});var k=X(n);g&&g.l(k),r=ie(k),a=x(k,"DIV",{class:!0});var $=X(a);T&&T.l($),$.forEach(v),o=ie(k),s.l(k),k.forEach(v),u=ie(N),w&&w.l(N),N.forEach(v),this.h()},h(){p(a,"class","accordion-summary flex-1"),p(n,"type","button"),p(n,"class",l="accordion-control "+e[12]),p(n,"id",e[0]),p(n,"aria-expanded",e[8]),p(n,"aria-controls",c="accordion-panel-"+e[0]),n.disabled=e[2],p(t,"class",f="accordion-item "+e[13]),p(t,"data-testid","accordion-item")},m(A,N){z(A,t,N),C(t,n),g&&g.m(n,null),C(n,r),C(n,a),T&&T.m(a,null),C(n,o),E[i].m(n,null),C(t,u),w&&w.m(t,null),d=!0,h||(_=[Mt(n,"click",e[15]),Mt(n,"click",e[31]),Mt(n,"keydown",e[32]),Mt(n,"keyup",e[33]),Mt(n,"keypress",e[34])],h=!0)},p(A,N){A[16].lead?g?(g.p(A,N),N[0]&65536&&me(g,1)):(g=hi(A),g.c(),me(g,1),g.m(n,r)):g&&(kn(),ge(g,1,1,()=>{g=null}),Tn()),S&&S.p&&(!d||N[0]&536870912)&&Gt(S,q,A,A[29],d?Xt(q,A[29],N,rc):jt(A[29]),fi);let k=i;i=y(A),i===k?E[i].p(A,N):(kn(),ge(E[k],1,1,()=>{E[k]=null}),Tn(),s=E[i],s?s.p(A,N):(s=E[i]=P[i](A),s.c()),me(s,1),s.m(n,null)),(!d||N[0]&4096&&l!==(l="accordion-control "+A[12]))&&p(n,"class",l),(!d||N[0]&1)&&p(n,"id",A[0]),(!d||N[0]&256)&&p(n,"aria-expanded",A[8]),(!d||N[0]&1&&c!==(c="accordion-panel-"+A[0]))&&p(n,"aria-controls",c),(!d||N[0]&4)&&(n.disabled=A[2]),A[8]?w?(w.p(A,N),N[0]&256&&me(w,1)):(w=mi(A),w.c(),me(w,1),w.m(t,null)):w&&(kn(),ge(w,1,1,()=>{w=null}),Tn()),(!d||N[0]&8192&&f!==(f="accordion-item "+A[13]))&&p(t,"class",f)},i(A){d||(me(g),me(T,A),me(s),me(w),d=!0)},o(A){ge(g),ge(T,A),ge(s),ge(w),d=!1},d(A){A&&v(t),g&&g.d(),T&&T.d(A),E[i].d(),w&&w.d(),h=!1,ws(_)}}}const mc="",pc="text-start w-full flex items-center space-x-4",pi="fill-current w-3 transition-transform duration-[200ms]",gc="";function yc(e,t,n){let r,a,o,i,s,l,c,u,f=_e,d=()=>(f(),f=zl(E,m=>n(28,u=m)),E);e.$$.on_destroy.push(()=>f());let{$$slots:h={},$$scope:_}=t;const g=bo(h),q=Bl();let{open:S=!1}=t,{id:T=String(Math.random())}=t,{autocollapse:P=Ye("autocollapse")}=t,{active:E=Ye("active")}=t;d();let{disabled:y=Ye("disabled")}=t,{padding:w=Ye("padding")}=t,{hover:A=Ye("hover")}=t,{rounded:N=Ye("rounded")}=t,{caretOpen:k=Ye("caretOpen")}=t,{caretClosed:$=Ye("caretClosed")}=t,{regionControl:M=Ye("regionControl")}=t,{regionPanel:I=Ye("regionPanel")}=t,{regionCaret:R=Ye("regionCaret")}=t,{transitions:U=Ye("transitions")}=t,{transitionIn:Q=Ye("transitionIn")}=t,{transitionInParams:F=Ye("transitionInParams")}=t,{transitionOut:K=Ye("transitionOut")}=t,{transitionOutParams:L=Ye("transitionOutParams")}=t;const O=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function G(m){P===!0?E.set(T):n(17,S=!S),se(m)}function se(m){const W=P?u===T:S;q("toggle",{event:m,id:T,panelId:`accordion-panel-${T}`,open:W,autocollapse:P})}P&&S&&G();function B(m){Jt.call(this,e,m)}function le(m){Jt.call(this,e,m)}function ce(m){Jt.call(this,e,m)}function de(m){Jt.call(this,e,m)}return e.$$set=m=>{n(37,t=nn(nn({},t),mn(m))),"open"in m&&n(17,S=m.open),"id"in m&&n(0,T=m.id),"autocollapse"in m&&n(18,P=m.autocollapse),"active"in m&&d(n(1,E=m.active)),"disabled"in m&&n(2,y=m.disabled),"padding"in m&&n(19,w=m.padding),"hover"in m&&n(20,A=m.hover),"rounded"in m&&n(21,N=m.rounded),"caretOpen"in m&&n(22,k=m.caretOpen),"caretClosed"in m&&n(23,$=m.caretClosed),"regionControl"in m&&n(24,M=m.regionControl),"regionPanel"in m&&n(25,I=m.regionPanel),"regionCaret"in m&&n(26,R=m.regionCaret),"transitions"in m&&n(3,U=m.transitions),"transitionIn"in m&&n(4,Q=m.transitionIn),"transitionInParams"in m&&n(5,F=m.transitionInParams),"transitionOut"in m&&n(6,K=m.transitionOut),"transitionOutParams"in m&&n(7,L=m.transitionOutParams),"$$scope"in m&&n(29,_=m.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&393216&&S&&P&&G(),e.$$.dirty[0]&268828673&&n(8,r=P?u===T:S),n(13,a=`${mc} ${t.class??""}`),e.$$.dirty[0]&20447232&&n(12,o=`${pc} ${w} ${A} ${N} ${M}`),e.$$.dirty[0]&12583168&&n(27,i=r?k:$),e.$$.dirty[0]&201326592&&n(11,s=`${pi} ${R} ${i}`),e.$$.dirty[0]&67108864&&n(10,l=`${pi} ${R}`),e.$$.dirty[0]&36175872&&n(9,c=`${gc} ${w} ${N} ${I}`)},t=mn(t),[T,E,y,U,Q,F,K,L,r,c,l,s,o,a,O,G,g,S,P,w,A,N,k,$,M,I,R,i,u,_,h,B,le,ce,de]}class gt extends on{constructor(t){super(),sn(this,t,yc,hc,an,{open:17,id:0,autocollapse:18,active:1,disabled:2,padding:19,hover:20,rounded:21,caretOpen:22,caretClosed:23,regionControl:24,regionPanel:25,regionCaret:26,transitions:3,transitionIn:4,transitionInParams:5,transitionOut:6,transitionOutParams:7},null,[-1,-1])}}const vc=e=>({}),gi=e=>({});function yi(e){let t,n,r;const a=e[17].panel,o=Wt(a,e,e[16],gi);return{c(){t=b("div"),o&&o.c(),this.h()},l(i){t=x(i,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var s=X(t);o&&o.l(s),s.forEach(v),this.h()},h(){p(t,"class",n="tab-panel "+e[2]),p(t,"role","tabpanel"),p(t,"aria-labelledby",e[1]),p(t,"tabindex","0")},m(i,s){z(i,t,s),o&&o.m(t,null),r=!0},p(i,s){o&&o.p&&(!r||s&65536)&&Gt(o,a,i,i[16],r?Xt(a,i[16],s,vc):jt(i[16]),gi),(!r||s&4&&n!==(n="tab-panel "+i[2]))&&p(t,"class",n),(!r||s&2)&&p(t,"aria-labelledby",i[1])},i(i){r||(me(o,i),r=!0)},o(i){ge(o,i),r=!1},d(i){i&&v(t),o&&o.d(i)}}}function _c(e){let t,n,r,a,o,i;const s=e[17].default,l=Wt(s,e,e[16],null);let c=e[5].panel&&yi(e);return{c(){t=b("div"),n=b("div"),l&&l.c(),a=oe(),c&&c.c(),this.h()},l(u){t=x(u,"DIV",{class:!0,"data-testid":!0});var f=X(t);n=x(f,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var d=X(n);l&&l.l(d),d.forEach(v),a=ie(f),c&&c.l(f),f.forEach(v),this.h()},h(){p(n,"class",r="tab-list "+e[3]),p(n,"role","tablist"),p(n,"aria-labelledby",e[0]),p(t,"class",o="tab-group "+e[4]),p(t,"data-testid","tab-group")},m(u,f){z(u,t,f),C(t,n),l&&l.m(n,null),C(t,a),c&&c.m(t,null),i=!0},p(u,[f]){l&&l.p&&(!i||f&65536)&&Gt(l,s,u,u[16],i?Xt(s,u[16],f,null):jt(u[16]),null),(!i||f&8&&r!==(r="tab-list "+u[3]))&&p(n,"class",r),(!i||f&1)&&p(n,"aria-labelledby",u[0]),u[5].panel?c?(c.p(u,f),f&32&&me(c,1)):(c=yi(u),c.c(),me(c,1),c.m(t,null)):c&&(kn(),ge(c,1,1,()=>{c=null}),Tn()),(!i||f&16&&o!==(o="tab-group "+u[4]))&&p(t,"class",o)},i(u){i||(me(l,u),me(c),i=!0)},o(u){ge(l,u),ge(c),i=!1},d(u){u&&v(t),l&&l.d(u),c&&c.d()}}}const bc="space-y-4",xc="flex overflow-x-auto hide-scrollbar",wc="";function Cc(e,t,n){let r,a,o,{$$slots:i={},$$scope:s}=t;const l=bo(i);let{justify:c="justify-start"}=t,{border:u="border-b border-surface-400-500-token"}=t,{active:f="border-b-2 border-surface-900-50-token"}=t,{hover:d="hover:variant-soft"}=t,{flex:h="flex-none"}=t,{padding:_="px-4 py-2"}=t,{rounded:g="rounded-tl-container-token rounded-tr-container-token"}=t,{spacing:q="space-y-1"}=t,{regionList:S=""}=t,{regionPanel:T=""}=t,{labelledby:P=""}=t,{panel:E=""}=t;return ze("active",f),ze("hover",d),ze("flex",h),ze("padding",_),ze("rounded",g),ze("spacing",q),e.$$set=y=>{n(18,t=nn(nn({},t),mn(y))),"justify"in y&&n(6,c=y.justify),"border"in y&&n(7,u=y.border),"active"in y&&n(8,f=y.active),"hover"in y&&n(9,d=y.hover),"flex"in y&&n(10,h=y.flex),"padding"in y&&n(11,_=y.padding),"rounded"in y&&n(12,g=y.rounded),"spacing"in y&&n(13,q=y.spacing),"regionList"in y&&n(14,S=y.regionList),"regionPanel"in y&&n(15,T=y.regionPanel),"labelledby"in y&&n(0,P=y.labelledby),"panel"in y&&n(1,E=y.panel),"$$scope"in y&&n(16,s=y.$$scope)},e.$$.update=()=>{n(4,r=`${bc} ${t.class??""}`),e.$$.dirty&16576&&n(3,a=`${xc} ${c} ${u} ${S}`),e.$$.dirty&32768&&n(2,o=`${wc} ${T}`)},t=mn(t),[P,E,o,a,r,l,c,u,f,d,h,_,g,q,S,T,s,i]}class kc extends on{constructor(t){super(),sn(this,t,Cc,_c,an,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const Tc=e=>({}),vi=e=>({});function _i(e){let t,n;const r=e[22].lead,a=Wt(r,e,e[21],vi);return{c(){t=b("div"),a&&a.c(),this.h()},l(o){t=x(o,"DIV",{class:!0});var i=X(t);a&&a.l(i),i.forEach(v),this.h()},h(){p(t,"class","tab-lead")},m(o,i){z(o,t,i),a&&a.m(t,null),n=!0},p(o,i){a&&a.p&&(!n||i[0]&2097152)&&Gt(a,r,o,o[21],n?Xt(r,o[21],i,Tc):jt(o[21]),vi)},i(o){n||(me(a,o),n=!0)},o(o){ge(a,o),n=!1},d(o){o&&v(t),a&&a.d(o)}}}function Sc(e){let t,n,r,a,o,i,s,l,c,u,f,d,h,_,g,q=[{type:"radio"},{name:e[1]},{__value:e[2]},e[11](),{tabindex:"-1"}],S={};for(let y=0;y<q.length;y+=1)S=nn(S,q[y]);let T=e[12].lead&&_i(e);const P=e[22].default,E=Wt(P,e,e[21],null);return h=Yl(e[30][0]),{c(){t=b("label"),n=b("div"),r=b("div"),a=b("input"),o=oe(),i=b("div"),T&&T.c(),s=oe(),l=b("div"),E&&E.c(),this.h()},l(y){t=x(y,"LABEL",{class:!0,title:!0});var w=X(t);n=x(w,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var A=X(n);r=x(A,"DIV",{class:!0});var N=X(r);a=x(N,"INPUT",{type:!0,name:!0,tabindex:!0}),N.forEach(v),o=ie(A),i=x(A,"DIV",{class:!0});var k=X(i);T&&T.l(k),s=ie(k),l=x(k,"DIV",{class:!0});var $=X(l);E&&E.l($),$.forEach(v),k.forEach(v),A.forEach(v),w.forEach(v),this.h()},h(){ai(a,S),p(r,"class","h-0 w-0 overflow-hidden"),p(l,"class","tab-label"),p(i,"class",c="tab-interface "+e[8]),p(n,"class",u="tab "+e[7]),p(n,"data-testid","tab"),p(n,"role","tab"),p(n,"aria-controls",e[4]),p(n,"aria-selected",e[5]),p(n,"tabindex",f=e[5]?0:-1),p(t,"class",e[9]),p(t,"title",e[3]),h.p(a)},m(y,w){z(y,t,w),C(t,n),C(n,r),C(r,a),a.autofocus&&a.focus(),e[28](a),a.checked=a.__value===e[0],C(n,o),C(n,i),T&&T.m(i,null),C(i,s),C(i,l),E&&E.m(l,null),d=!0,_||(g=[Mt(a,"change",e[29]),Mt(a,"click",e[26]),Mt(a,"change",e[27]),Mt(n,"keydown",e[10]),Mt(n,"keydown",e[23]),Mt(n,"keyup",e[24]),Mt(n,"keypress",e[25])],_=!0)},p(y,w){ai(a,S=Zl(q,[{type:"radio"},(!d||w[0]&2)&&{name:y[1]},(!d||w[0]&4)&&{__value:y[2]},y[11](),{tabindex:"-1"}])),w[0]&1&&(a.checked=a.__value===y[0]),y[12].lead?T?(T.p(y,w),w[0]&4096&&me(T,1)):(T=_i(y),T.c(),me(T,1),T.m(i,s)):T&&(kn(),ge(T,1,1,()=>{T=null}),Tn()),E&&E.p&&(!d||w[0]&2097152)&&Gt(E,P,y,y[21],d?Xt(P,y[21],w,null):jt(y[21]),null),(!d||w[0]&256&&c!==(c="tab-interface "+y[8]))&&p(i,"class",c),(!d||w[0]&128&&u!==(u="tab "+y[7]))&&p(n,"class",u),(!d||w[0]&16)&&p(n,"aria-controls",y[4]),(!d||w[0]&32)&&p(n,"aria-selected",y[5]),(!d||w[0]&32&&f!==(f=y[5]?0:-1))&&p(n,"tabindex",f),(!d||w[0]&512)&&p(t,"class",y[9]),(!d||w[0]&8)&&p(t,"title",y[3])},i(y){d||(me(T),me(E,y),d=!0)},o(y){ge(T),ge(E,y),d=!1},d(y){y&&v(t),e[28](null),T&&T.d(),E&&E.d(y),h.r(),_=!1,ws(g)}}}const Ac="text-center cursor-pointer transition-colors duration-100",Mc="";function Ec(e,t,n){let r,a,o,i,s;const l=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let c=oi(t,l),{$$slots:u={},$$scope:f}=t;const d=bo(u);let{group:h}=t,{name:_}=t,{value:g}=t,{title:q=""}=t,{controls:S=""}=t,{regionTab:T=""}=t,{active:P=Ye("active")}=t,{hover:E=Ye("hover")}=t,{flex:y=Ye("flex")}=t,{padding:w=Ye("padding")}=t,{rounded:A=Ye("rounded")}=t,{spacing:N=Ye("spacing")}=t,k;function $(G){if(["Enter","Space"].includes(G.code))G.preventDefault(),k.click();else if(G.code==="ArrowRight"){const se=k.closest(".tab-list");if(!se)return;const B=Array.from(se.querySelectorAll(".tab")),le=k.closest(".tab");if(!le)return;const ce=B.indexOf(le),de=ce+1>=B.length?0:ce+1,m=B[de],W=m==null?void 0:m.querySelector("input");m&&W&&(W.click(),m.focus())}else if(G.code==="ArrowLeft"){const se=k.closest(".tab-list");if(!se)return;const B=Array.from(se.querySelectorAll(".tab")),le=k.closest(".tab");if(!le)return;const ce=B.indexOf(le),de=ce-1<0?B.length-1:ce-1,m=B[de],W=m==null?void 0:m.querySelector("input");m&&W&&(W.click(),m.focus())}}function M(){return delete c.class,c}const I=[[]];function R(G){Jt.call(this,e,G)}function U(G){Jt.call(this,e,G)}function Q(G){Jt.call(this,e,G)}function F(G){Jt.call(this,e,G)}function K(G){Jt.call(this,e,G)}function L(G){pr[G?"unshift":"push"](()=>{k=G,n(6,k)})}function O(){h=this.__value,n(0,h)}return e.$$set=G=>{n(32,t=nn(nn({},t),mn(G))),n(31,c=oi(t,l)),"group"in G&&n(0,h=G.group),"name"in G&&n(1,_=G.name),"value"in G&&n(2,g=G.value),"title"in G&&n(3,q=G.title),"controls"in G&&n(4,S=G.controls),"regionTab"in G&&n(13,T=G.regionTab),"active"in G&&n(14,P=G.active),"hover"in G&&n(15,E=G.hover),"flex"in G&&n(16,y=G.flex),"padding"in G&&n(17,w=G.padding),"rounded"in G&&n(18,A=G.rounded),"spacing"in G&&n(19,N=G.spacing),"$$scope"in G&&n(21,f=G.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&5&&n(5,r=g===h),e.$$.dirty[0]&49184&&n(20,a=r?P:E),n(9,o=`${Ac} ${y} ${w} ${A} ${a} ${t.class??""}`),e.$$.dirty[0]&524288&&n(8,i=`${Mc} ${N}`),e.$$.dirty[0]&8192&&n(7,s=`${T}`)},t=mn(t),[h,_,g,q,S,r,k,s,i,o,$,M,d,T,P,E,y,w,A,N,a,f,u,R,U,Q,F,K,L,O,I]}class Zr extends on{constructor(t){super(),sn(this,t,Ec,Sc,an,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}function Pc(e){let t;return{c(){t=De("(icon)")},l(n){t=Ie(n,"(icon)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function Lc(e){let t,n="About PACTA";return{c(){t=b("h3"),t.textContent=n,this.h()},l(r){t=x(r,"H3",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1otjnj6"&&(t.textContent=n),this.h()},h(){p(t,"class","h3")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function qc(e){let t,n=`PACTA (Paris Agreement Capital Transition Assessment) is a comprehensive tool designed
						to help investors assess the alignment of their portfolios with global climate goals. By
						evaluating how investee companies are positioned relative to different climate
						scenarios, PACTA provides portfolio insights into the potential risks and opportunities
						of transitioning to a low-carbon economy. PACTA uses climate scenario analysis to assess
						the exposure of portfolios to carbon-intensive sectors and technologies, helping
						investors understand how well their holdings align with pathways to limit global warming
						to well below 2°C, with an aspirational target of 1.5°C. The tool evaluates various
						asset classes, including listed equities and corporate bonds, and applies
						sector-specific metrics to assess the emissions intensity and transition progress of
						companies.
						<br/><br/>
						The results generated by PACTA allow users to get a granular view of the exposure and climate
						goal alignment of their portfolios by sector and for related technologies. This information
						can be used to:
						<ul class="list-disc p-4"><li>help steer investment decisions in line with climate scenarios;</li> <li>inform decisions in relation to climate target-setting;</li> <li>gain insights that can support engagement with clients on their respective climate
								actions;</li> <li>identify exposure to transition risks associated with a shift to a low-carbon
								economy.</li></ul>`;return{c(){t=b("div"),t.innerHTML=n,this.h()},l(r){t=x(r,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-h659o7"&&(t.innerHTML=n),this.h()},h(){p(t,"class","p-4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Dc(e){let t;return{c(){t=De("(icon)")},l(n){t=Ie(n,"(icon)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function Ic(e){let t,n="Economic Sectors Covered in PACTA and Their Relevance for Limiting Climate Change";return{c(){t=b("h3"),t.textContent=n,this.h()},l(r){t=x(r,"H3",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1kyhluo"&&(t.textContent=n),this.h()},h(){p(t,"class","h3")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Nc(e){let t,n=`Climate change is no longer a distant threat; its physical impacts are already being
						felt across the globe. To avoid significant disruptions and economic losses, businesses
						must transform their operations, adapt their value chains, and implement sustainable
						practices. At the same time, economy-wide action is critical to mitigate and adapt to
						the accelerating impacts of climate change, particularly through investments aimed at
						reducing CO2 emissions across key sectors. These efforts are essential to prevent global
						temperatures from rising to dangerous levels.
						<br/><br/>
						According to Our World In Data, taking a closer look at global greenhouse gas (GHG) emissions
						reveals where urgent action is required. Approximately 73% of global emissions stem from
						the energy sector (including electricity, heat, and transport), 18.4% from agriculture, forestry,
						and land use, 5.2% from direct industrial processes (such as cement, chemicals, and petrochemicals),
						and 3.2% from waste management. These sectors are not only responsible for the majority of
						emissions but are also critical areas where investment in low-carbon technologies can have
						the greatest impact.
						<br/><br/>
						PACTA (Paris Agreement Capital Transition Assessment) focuses on seven of the most carbon-intensive
						sectors, which are likely to face significant transition risks as the world shifts toward
						a low-carbon economy. These sectors include Oil &amp; Gas, Coal, Power, Automotive, Steel, Cement,
						and Aviation. Within each sector, PACTA examines the areas of the value chain that contribute
						most significantly to CO2 emissions and where the potential for emission reductions is most
						significant.
						<br/><br/>
						PACTA&#39;s methodology targets the technology transitions needed within these sectors according
						to climate change scenarios, emphasizing the phase-out of high-carbon technologies and the
						ramp-up of low-carbon solutions. For example, in the Oil &amp; Gas sector, the focus is on upstream
						production activities, while in the Power sector, it is centered on power generation capacity
						and the energy sources used.
						<br/><br/>
						By assessing these key areas, PACTA helps investors understand the alignment of their portfolios
						with the global shift towards a low-carbon future, highlighting where climate risks and opportunities
						lie across different sectors and value chains.
						<br/>
						For more detailed information on the specific parts of each value chain that PACTA focuses
						on, see the diagram in the figure below:
						<br/><br/> <div class="card p-4 bg-tertiary-200"><div class="flex justify-center"><img src="pacta_value_chain.svg" alt="PACTA Value Chain" style="height: 100%; width: auto;"/></div> <p class="p-2"><i>Figure 1: PACTA Sectors for listed equity and corporate bonds. Supply chain
									segments with the largest contribution to climate change are colored blue.</i></p></div> <br/>
						Because PACTA covers sectors with very different value chains, the scope of the emissions
						addressed by the analysis also varies between sectors. As an orientation, the Greenhouse
						Gas Protocol defines and categorizes emissions into scopes 1, 2, and 3. This widely used
						corporate standard aims to support companies in understanding their full value chain emissions.
						According to the Greenhouse Gas Protocol, the scopes are defined as follows:
						<ul class="list-disc p-4"><li>Scope 1: GHG emissions occurring from sources that are owned or controlled by the
								company, for example, emissions from combustion in owned or controlled boilers,
								furnaces, vehicles, etc.; emissions from chemical production in owned or controlled
								process equipment;</li> <li>Scope 2: GHG emissions from the generation of purchased electricity consumed by the
								company;</li> <li>Scope 3: GHG emissions resulting as a consequence of the activities of the company
								but that occur from sources not owned or controlled by the company. Some examples of
								scope 3 activities are extraction and production of purchased materials;
								transportation of purchased fuels; and use of sold products and services.</li></ul>
						PACTA measures alignment with scenarios using a combination of production capacity and CO₂
						emissions intensity metrics. The analysis covers scope 1 for aviation and power, scopes 1
						and 2 for steel and cement, scope 3 for automotive and coal, and scope 1,2 and 3 for oil
						and gas. However, we strongly recommend the use of the production capacity metrics to inform
						decision-making rather than GHG emissions for the power, automotive, coal, and oil and gas
						sectors since they provide technology-level insights on what needs to happen according to
						the scenario pathways.`;return{c(){t=b("div"),t.innerHTML=n,this.h()},l(r){t=x(r,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-72arxe"&&(t.innerHTML=n),this.h()},h(){p(t,"class","p-4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Oc(e){let t;return{c(){t=De("(icon)")},l(n){t=Ie(n,"(icon)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function Hc(e){let t,n="The PACTA Methodology at a Glance";return{c(){t=b("h3"),t.textContent=n,this.h()},l(r){t=x(r,"H3",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1qcgs25"&&(t.textContent=n),this.h()},h(){p(t,"class","h3")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Rc(e){let t,n=`The PACTA methodology compares the sectoral decarbonization pathways—developed by
						leading climate scenario providers—with the financial exposure of investors to companies
						in high-carbon sectors such as oil and gas, coal, power, automotive, cement, aviation,
						and steel (referred to as the &quot;PACTA sectors&quot;). The analysis provides a five-year
						forward-looking, bottom-up assessment, focusing primarily on the necessary technology
						transitions within these sectors.
						<br/><br/>
						The PACTA analysis highlights the need to phase out high-emitting technologies and scale
						up low-carbon alternatives. It uses climate scenarios to quantify the required technology
						shifts and sectoral decarbonization needed to meet the Paris Agreement goals: limiting global
						warming to well below 2°C and striving for 1.5°C, as well as other, less ambitious climate
						targets.
						<br/><br/>
						The climate scenario analysis for listed equities and corporate bonds, based on the PACTA
						methodology, provides actionable insights by answering critical questions about portfolio
						alignment with climate goals:
						<ul class="list-disc p-4"><li>Exposure to high emitting sectors: What proportion of the portfolio is invested in
								high-carbon sectors?</li> <li>Emissions Relevance: How significant is the carbon intensity of the analyzed portion
								of the portfolio in terms of overall emissions?</li> <li>Scenario Alignment: Which climate change scenarios do the production plans of
								companies in the portfolio align with?</li> <li>Key Impactful Companies: Which companies in the portfolio are driving the results
								and influencing the overall alignment?</li> <li>Benchmark Comparison: How does the portfolio perform relative to market benchmarks?</li></ul>
						PACTA analyzes companies&#39; five-year forward-looking production plans based on physical asset-level
						data, assessing how aligned these plans are with various climate scenarios. This company-specific
						data is then consolidated to provide portfolio-level results, offering a clear view of misalignment
						or alignment with transition pathways.
						<br/><br/>
						The results help investors understand potential exposure to both transition risks and opportunities.
						This forward-looking approach provides valuable insights for:
						<ul class="list-disc p-4"><li>Transition Risk Management</li> <li>Engagement with Companies on climate strategies</li> <li>Disclosure and Reporting on climate alignment</li> <li>Strategic Decision-Making</li></ul>
						The following table provides an overview of key components and principles underlying the
						PACTA methodology.
						<br/><br/> <div class="table-container"><table class="table table-hover bg-surface-200 p-4"><tbody><tr><td><strong>Physical asset-based company level data (ABCD)</strong></td> <td>The analysis is currently based on data covering 52,000+ companies and
											230,000+ energy-related physical assets from third-party data providers. This
											alleviates the necessity to rely on companies’ self-reported data that is
											published in a non-standardized manner and often does not account for scope 2
											and 3 emissions.</td></tr> <tr><td><strong>Forward-Looking</strong></td> <td>PACTA provides a five-year forward-looking analysis of the production plans
											financed by a portfolio that are compared to climate scenarios.</td></tr> <tr><td><strong>Sector-specific approach</strong></td> <td>The outputs of the analysis are metrics and indicators at sector and
											technology-level that allow for a detailed evaluation of a portfolio’s
											alignment, rather than one aggregated indicator at portfolio level.</td></tr> <tr><td><strong>Allocating macroeconomic goals to microeconomic actors</strong></td> <td>The PACTA analysis uses a market-share approach to allocate macroeconomic
											climate targets to companies in sectors where low-carbon technologies are
											available thus, all market-level trends and targets are allocated to companies
											based on their current market share in the sector or technology for low- and
											high-carbon technologies, respectively.</td></tr></tbody></table></div> <br/>
						In the analysis provided for each sector, the user has the option to select from two different
						portfolio attribution methodologies - the Portfolio Weight Approach (PA) and the Ownership
						Weight Approach (OA). These methods are used to attribute the physical assets of a company
						to the financial instrument or portfolio.
						<br/>
						The approaches differ as follows:
						<ul class="list-disc p-4"><li>Portfolio Weight Approach (PA): This approach calculates the portfolios’ technology
								exposures based on the weighting of each position within the portfolio. Therefore,
								the PA reflects the investor´s allocation choice. This approach is used for the
								analysis of corporate bonds and can be used for listed equity as well.</li> <li>Ownership Weight Approach (OA): This approach assigns a share of the companies’
								activities to the portfolio based on the percent of outstanding shares owned by the
								investor. This approach comes closer to allocating “responsibility” for the
								companies’ activities to the financial institution.</li>
							While the Ownership Weight Approach (OA) is only available for listed equity, the Portfolio
							Weight Approach (PA) is available for both corporate bonds and listed equity.</ul>
						While the Ownership Weight Approach (OA) is only available for listed equity, the Portfolio
						Weight Approach (PA) is available for both corporate bonds and listed equity.`;return{c(){t=b("div"),t.innerHTML=n,this.h()},l(r){t=x(r,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-ycwtmx"&&(t.innerHTML=n),this.h()},h(){p(t,"class","p-4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Fc(e){let t;return{c(){t=De("(icon)")},l(n){t=Ie(n,"(icon)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function $c(e){let t,n="Inputs into the PACTA Methodology";return{c(){t=b("h3"),t.textContent=n,this.h()},l(r){t=x(r,"H3",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-156rrfu"&&(t.textContent=n),this.h()},h(){p(t,"class","h3")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Vc(e){let t,n=`This section covers the core concepts of the methodology, allowing a reader to correctly
						interpret the results being presented in the PACTA analysis. Some of the key assumptions
						and limitations are also highlighted at the end of this chapter. This is not intended to
						be a detailed description of the methodology; for more information about the
						methodology, please refer to the knowledge hub on the Transition Monitor website, or to
						the PACTA for Investors methodology document, also available on the Transition Monitor
						website.
						<br/><br/> <h4 class="h4">Data and Scenarios</h4> <h5 class="h5">Asset-Based Company-Level Data</h5> <br/>
						The PACTA methodology measures the alignment of a financial portfolio to decarbonization
						pathways set out in climate change scenarios. It does this by attributing physical assets
						in the real economy to the financial assets that finance them. The physical asset-based company-level
						data used for this analysis is provided by Asset Impact.
						<br/><br/>
						The production values of each company in the dataset provided by Asset Impact, measured as
						an economic unit of output, are known. For example, the number of cars produced or barrels
						of oil for automotive and oil assets, respectively. The asset’s production values are allocated
						to the companies owning them based on the “Credit Ownership” and the “Equity Ownership” consolidation
						methodologies. For more information related to the consolidation of physical assets to companies
						please refer to the PACTA for Investors methodology document.
						<br/><br/> <h5 class="h5">Scenarios</h5>
						Climate change scenarios are an important tool to explore and understand what can happen
						and what may need to happen in the future under different conditions and in order to achieve
						certain outcomes. Scenarios are only depictions and models of the future and so do not predict
						what will happen with 100% certainty in the upcoming years. Instead they propose different
						views of the future, under different political, economic and social contexts and with different
						possible decarbonization outcomes.
						<br/><br/>
						The PACTA Methodology is intended to be agnostic and to be able to use any climate scenario
						that lays out production capacity targets at the technology level or, for the relevant sectors,
						emission-intensity units. Scenarios typically differ in the following main ways:
						<br/> <ul class="list-disc p-4"><li>They implement decarbonization pathways of different levels of ambition and
								probability;</li> <li>They lay out decarbonization pathways that occur at different speeds (rapid ramp-up
								or long-term adjustment);</li> <li>They make different assumptions around innovation and, thus, around technologies’
								availability, scalability, and costs;</li> <li>They offer varying levels of granularity, e.g., they may cover different time
								horizons and geographic scales.</li></ul>
						Given that the targets laid out in climate scenarios can vary by region depending on the
						sector’s value chain and geographic constraints (e.g., power distribution), alignment is
						measured at the geographical level in which the sector tends to operate and seek investment.
						For example, for the power sector, markets tend to be regional or national, and as such,
						alignment should be measured at that level. However, the oil, gas, coal and automotive sectors
						operate in a global market and in such a case a global scenario target is used.
						<br/><br/>
						Not all scenarios provide information for all sectors analyzed in the PACTA assessment, therefore
						different sectors might be analyzed using different scenarios. However, in general we recommend
						using the same scenario where possible when performing the portfolio analysis, since the
						sectoral pathways within scenarios are created to meet the same overall carbon budget.
						<br/><br/>
						We further recommend that investors seek to understand the scenarios used, and their underlying
						assumptions, in order to evaluate which of them is more appropriate for their purposes. For
						further information on the scenarios included in this analysis, please refer to the scenario
						document available on the Transition Monitor website.
						<br/><br/> <h4 class="h4">Time horizons</h4>
						Results given in this analysis are shown for the present and up to 5 years in the future.
						This is based on the capital expenditure (CAPEX) plans reported by the company’s current
						asset-based company data (ABCD). For some sectors, a reliable estimate beyond 5 years cannot
						be made due to the lack of adequate data forecasts beyond that time frame. In PACTA, for
						the sake of homogeneity and consistency, we provide the forecast information on a 5 year
						forward looking basis.
						<br/><br/> <h5 class="h5">Data Sources</h5> <ul class="list-disc p-4"><li>© 2023 Asset Impact. All Rights Reserved. Information, data, analyses and opinions
								contained herein: (1) include the proprietary information of Asset Impact and its
								content providers; (2) may not be copied or redistributed except as specifically
								authorised in writing; (3) do not constitute investment advice; (4) are provided
								solely for informational purposes; (5) are not warranted to be complete, accurate or
								timely; and (6) may be drawn from data published on various dates. Asset Impact is
								not responsible for any decisions, damages or other losses related to the
								information, data, analyses or opinions contained herein or the use thereof. Please
								verify all of the information before using it and do not make any investment
								decision except upon the advice of a professional financial adviser. Past
								performance is not a guarantee of future results. The value and income derived from
								investments may go down and up.</li> <li>FactSet (Copyright © 2023 FactSet Research Systems Inc. All rights reserved.)</li> <li>ETP2020: IEA (2020), Energy Technology Perspectives 2020, IEA, Paris
								https://www.iea.org/reports/energy-technology-perspectives-2020, License: CC BY 4.0</li> <li>GECO2022 : Keramidas, K., Fosse, F., Diaz Rincon, A., Dowling, P., Garaffa, R.,
								Ordonez, J., Russ, P., Schade, B., Schmitz, A., Soria Ramirez, A., Vandyck, T. and
								Weitzel, M., Global Energy and Climate Outlook 2022: Energy trade in a decarbonised
								world, EUR 31355 EN, Publications Office of the European Union, Luxembourg, 2022,
								ISBN 978-92-76-60498-3, doi:10.2760</li></ul>`;return{c(){t=b("div"),t.innerHTML=n},l(r){t=x(r,"DIV",{"data-svelte-h":!0}),ee(t)!=="svelte-1jujsqx"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Bc(e){let t;return{c(){t=De("(icon)")},l(n){t=Ie(n,"(icon)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function Uc(e){let t,n="PACTA Core Metrics overview";return{c(){t=b("h3"),t.textContent=n,this.h()},l(r){t=x(r,"H3",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1g5ilmi"&&(t.textContent=n),this.h()},h(){p(t,"class","h3")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function zc(e){let t,n,r,a,o="<li>Technology Share Mix</li> <li>Production Volume Trajectory</li> <li>Emission Intensity</li>",i,s,l,c,u="Technology Share Mix",f,d,h,_,g,q,S,T,P,E,y,w,A,N=`<li>Process Changes: Shifts in the technology or processes used to produce outputs (e.g.,
							transitioning from coal to renewable power generation).</li> <li>Output Changes: Shifts in the products themselves (e.g., transitioning from internal
							combustion engine vehicles to electric vehicles)</li>`,k,$,M="Production Volume Trajectory",I,R,U,Q,F,K=`<li>Technology Shifts: The transfer of production from one technology to another (e.g.,
							moving from internal combustion engines to electric vehicles).</li> <li>Production Adjustments: Changes in the overall scale of production for a given
							technology or fuel (e.g., expanding or contracting coal-fired power generation)</li>`,L,O,G="Emission Intensity",se,B,le,ce,de;return{c(){t=De(`The PACTA analysis evaluates portfolio alignment with climate transition goals using three
					key metrics, two of which are based on production capacity. These metrics help measure how
					well a portfolio is positioned for the transition to a low-carbon economy:
					`),n=b("br"),r=oe(),a=b("ol"),a.innerHTML=o,i=De(`
					The first two metrics (Technology Share Mix and Production Volume Trajectory) are used for
					sectors with clear technology transition pathways, as defined by the climate change scenarios,
					such as power, fossil fuels, and automotive. The emission intensity metric is used for sectors
					where technology transitions are less defined—such as steel, cement, and aviation. Below, each
					metric is explained in more detail.
					`),s=b("br"),l=oe(),c=b("h4"),c.textContent=u,f=De(`
					The Technology Share Mix metric measures the proportion of each technology within a sector
					as a percentage of the portfolio investment in the portfolio-level overview tab, and as a percentage
					of the sectoral production in the sector-level analysis tab. It reflects the mix of technologies
					being used in the sector, which can indicate how exposed the portfolio is to sectors undergoing
					a transition to low-carbon alternatives.
					`),d=b("br"),h=b("br"),_=De(`
					For example, in the power sector, this metric tracks the proportion of production coming from
					renewable energy compared to coal-fired generation. Similarly, in the automotive sector, it
					shows the share of production coming from electric vehicles versus traditional internal combustion
					engine vehicles.
					`),g=b("br"),q=b("br"),S=De(`
					The Technology Share Mix gives more insight into the relative exposure to different technologies,
					especially when compared with the volume trajectory, and provides a clearer picture of how
					a company's production is distributed across different technological solutions.
					`),T=b("br"),P=b("br"),E=De(`
					When comparing current and future tech mix for a specific sector along with the volume trajectory
					results, the Technology Share Mix gives insights on two key types of changes:
					`),y=b("br"),w=oe(),A=b("ul"),A.innerHTML=N,k=oe(),$=b("h4"),$.textContent=M,I=De(`
					The Production Volume Trajectory metric measures how a portfolio’s projected production volumes
					align with climate transition goals. This metric compares companies' five-year capital commitments
					for production to their target production volume trajectories under different climate scenarios.
					It applies to sectors with clear technology pathways, such as oil and gas, coal, automotive,
					and power. This metric focuses on the volume of production, capturing whether companies are
					increasing or decreasing production volumes over time and how that aligns with climate targets.
					For instance, it could track whether a company is scaling back coal production or increasing
					the output of electric vehicles.
					`),R=b("br"),U=b("br"),Q=De(`
					Changes in production volumes can result from:
					`),F=b("ul"),F.innerHTML=K,L=oe(),O=b("h4"),O.textContent=G,se=De(`
					The Emission Intensity metric measures the carbon intensity of production in sectors where
					clear technology pathways are not yet established, such as steel, cement, and aviation. It
					calculates the CO₂ emissions per unit of output (e.g., CO₂ per ton of steel produced) and compares
					that to the reduction trajectory for emissions intensity set out by a climate scenario for
					the sector. In these sectors, no clear zero-carbon alternatives currently exist, so the Technology
					Share Mix and Production Volume Trajectory metrics are not applicable. However, emissions must
					still be reduced significantly to align with climate goals. The Emission Intensity metric helps
					guide capital allocation toward reducing carbon emissions in these sectors in line with the
					required reduction trajectories, even without clear technology shifts
					`),B=b("br"),le=b("br"),ce=De(`
					Each of the three PACTA metrics provides unique insights into how a portfolio aligns with climate
					transition goals. The Technology Share Mix focuses on the distribution of production by technology
					within sectors, offering a current and five-year forward-looking snapshot of relative exposure
					to low- and high-carbon technologies. The Production Volume Trajectory looks at projected production
					volumes and their alignment with climate scenarios, while the Emission Intensity metric addresses
					the carbon intensity of sectors without defined technological pathways. Together, these metrics
					provide a comprehensive view of the portfolio’s alignment with climate transition goals.
					`),de=b("br"),this.h()},l(m){t=Ie(m,`The PACTA analysis evaluates portfolio alignment with climate transition goals using three
					key metrics, two of which are based on production capacity. These metrics help measure how
					well a portfolio is positioned for the transition to a low-carbon economy:
					`),n=x(m,"BR",{}),r=ie(m),a=x(m,"OL",{class:!0,"data-svelte-h":!0}),ee(a)!=="svelte-jkayup"&&(a.innerHTML=o),i=Ie(m,`
					The first two metrics (Technology Share Mix and Production Volume Trajectory) are used for
					sectors with clear technology transition pathways, as defined by the climate change scenarios,
					such as power, fossil fuels, and automotive. The emission intensity metric is used for sectors
					where technology transitions are less defined—such as steel, cement, and aviation. Below, each
					metric is explained in more detail.
					`),s=x(m,"BR",{}),l=ie(m),c=x(m,"H4",{class:!0,"data-svelte-h":!0}),ee(c)!=="svelte-bifno4"&&(c.textContent=u),f=Ie(m,`
					The Technology Share Mix metric measures the proportion of each technology within a sector
					as a percentage of the portfolio investment in the portfolio-level overview tab, and as a percentage
					of the sectoral production in the sector-level analysis tab. It reflects the mix of technologies
					being used in the sector, which can indicate how exposed the portfolio is to sectors undergoing
					a transition to low-carbon alternatives.
					`),d=x(m,"BR",{}),h=x(m,"BR",{}),_=Ie(m,`
					For example, in the power sector, this metric tracks the proportion of production coming from
					renewable energy compared to coal-fired generation. Similarly, in the automotive sector, it
					shows the share of production coming from electric vehicles versus traditional internal combustion
					engine vehicles.
					`),g=x(m,"BR",{}),q=x(m,"BR",{}),S=Ie(m,`
					The Technology Share Mix gives more insight into the relative exposure to different technologies,
					especially when compared with the volume trajectory, and provides a clearer picture of how
					a company's production is distributed across different technological solutions.
					`),T=x(m,"BR",{}),P=x(m,"BR",{}),E=Ie(m,`
					When comparing current and future tech mix for a specific sector along with the volume trajectory
					results, the Technology Share Mix gives insights on two key types of changes:
					`),y=x(m,"BR",{}),w=ie(m),A=x(m,"UL",{class:!0,"data-svelte-h":!0}),ee(A)!=="svelte-rgy7vv"&&(A.innerHTML=N),k=ie(m),$=x(m,"H4",{class:!0,"data-svelte-h":!0}),ee($)!=="svelte-6iwbm5"&&($.textContent=M),I=Ie(m,`
					The Production Volume Trajectory metric measures how a portfolio’s projected production volumes
					align with climate transition goals. This metric compares companies' five-year capital commitments
					for production to their target production volume trajectories under different climate scenarios.
					It applies to sectors with clear technology pathways, such as oil and gas, coal, automotive,
					and power. This metric focuses on the volume of production, capturing whether companies are
					increasing or decreasing production volumes over time and how that aligns with climate targets.
					For instance, it could track whether a company is scaling back coal production or increasing
					the output of electric vehicles.
					`),R=x(m,"BR",{}),U=x(m,"BR",{}),Q=Ie(m,`
					Changes in production volumes can result from:
					`),F=x(m,"UL",{class:!0,"data-svelte-h":!0}),ee(F)!=="svelte-1dbwtap"&&(F.innerHTML=K),L=ie(m),O=x(m,"H4",{class:!0,"data-svelte-h":!0}),ee(O)!=="svelte-1mbs71z"&&(O.textContent=G),se=Ie(m,`
					The Emission Intensity metric measures the carbon intensity of production in sectors where
					clear technology pathways are not yet established, such as steel, cement, and aviation. It
					calculates the CO₂ emissions per unit of output (e.g., CO₂ per ton of steel produced) and compares
					that to the reduction trajectory for emissions intensity set out by a climate scenario for
					the sector. In these sectors, no clear zero-carbon alternatives currently exist, so the Technology
					Share Mix and Production Volume Trajectory metrics are not applicable. However, emissions must
					still be reduced significantly to align with climate goals. The Emission Intensity metric helps
					guide capital allocation toward reducing carbon emissions in these sectors in line with the
					required reduction trajectories, even without clear technology shifts
					`),B=x(m,"BR",{}),le=x(m,"BR",{}),ce=Ie(m,`
					Each of the three PACTA metrics provides unique insights into how a portfolio aligns with climate
					transition goals. The Technology Share Mix focuses on the distribution of production by technology
					within sectors, offering a current and five-year forward-looking snapshot of relative exposure
					to low- and high-carbon technologies. The Production Volume Trajectory looks at projected production
					volumes and their alignment with climate scenarios, while the Emission Intensity metric addresses
					the carbon intensity of sectors without defined technological pathways. Together, these metrics
					provide a comprehensive view of the portfolio’s alignment with climate transition goals.
					`),de=x(m,"BR",{}),this.h()},h(){p(a,"class","list-decimal p-4"),p(c,"class","h4"),p(A,"class","list-disc p-4"),p($,"class","h4"),p(F,"class","list-disc p-4"),p(O,"class","h4")},m(m,W){z(m,t,W),z(m,n,W),z(m,r,W),z(m,a,W),z(m,i,W),z(m,s,W),z(m,l,W),z(m,c,W),z(m,f,W),z(m,d,W),z(m,h,W),z(m,_,W),z(m,g,W),z(m,q,W),z(m,S,W),z(m,T,W),z(m,P,W),z(m,E,W),z(m,y,W),z(m,w,W),z(m,A,W),z(m,k,W),z(m,$,W),z(m,I,W),z(m,R,W),z(m,U,W),z(m,Q,W),z(m,F,W),z(m,L,W),z(m,O,W),z(m,se,W),z(m,B,W),z(m,le,W),z(m,ce,W),z(m,de,W)},p:_e,d(m){m&&(v(t),v(n),v(r),v(a),v(i),v(s),v(l),v(c),v(f),v(d),v(h),v(_),v(g),v(q),v(S),v(T),v(P),v(E),v(y),v(w),v(A),v(k),v($),v(I),v(R),v(U),v(Q),v(F),v(L),v(O),v(se),v(B),v(le),v(ce),v(de))}}}function Yc(e){let t;return{c(){t=De("(icon)")},l(n){t=Ie(n,"(icon)")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function Wc(e){let t,n="Disclaimers and Limitations of the Analysis";return{c(){t=b("h3"),t.textContent=n,this.h()},l(r){t=x(r,"H3",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1tyffh0"&&(t.textContent=n),this.h()},h(){p(t,"class","h3")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Gc(e){let t,n=`<li>Data uploaded from financial institutions: The interactive results provided in this
							analysis depend on the data uploaded by the user. RMI is not responsible for any
							validation or audit of the uploaded data.</li> <li>Climate scenario assumptions: The climate scenarios used present one possible
							manifestation of how the energy transition aligned with different climate targets
							could look like. Even though the necessary actions are not controversial (expansion of
							renewables, retirement of high-carbon technologies), the precise way in which a
							remaining carbon budget is distributed across sectors can be achieved in different
							ways according to different scenarios. Furthermore, different models will include
							different assumptions about the future development and potential of certain
							technologies. This analysis therefore focuses on those technologies that are proven
							and available to the market. As a result, this analysis does not consider investments
							in R&amp;D or private equity, which represent an important way for financial institutions
							to help bring new solutions to the market. Additionally, while scenarios are expected
							to incorporate all socioeconomic considerations, they don’t take into account
							regionally specific policies or regulations. For this reason, it is expected that in
							some technologies alignment may be more difficult or even unfeasible.</li> <li>Asset based company level data used: Although the data is sourced from reliable,
							third-party data providers, errors are possible, either in the production plans
							themselves, or in mapping the ownership structure of a company. Furthermore, planned
							production plans do not necessarily materialize, and production forecasts should be
							interpreted bearing this in mind.</li> <li>Current fund coverage in the PACTA analysis: Whenever institutions report funds in
							their portfolios they are converted into equities and bonds assigned to that fund
							ISIN. To complete this conversion, we rely on external data sources containing
							information on funds and their compositions.</li> <li>Scope of the analysis: PACTA does not cover certain sectors, such as agriculture and
							forestry, even though they are highly relevant for limiting future GHG emissions, due
							to a lack of available data. Furthermore, asset classes such as sovereign bonds or
							private equity are also not included in the analysis.</li> <li>Companies’ plans: Companies’ relative extents of climate alignment are approximated
							using production capacity-based figures, and do not encapsulate R&amp;D investment,
							historical record, lobbying expenditures, etc.</li> <li>Sector classification: PACTA maps asset-based company-level data to financial assets
							considering sector classification provided by our financial data provider. While RMI
							performs quality assurance of data included in the analysis, some companies might
							still be wrongly classified.</li>`;return{c(){t=b("ol"),t.innerHTML=n,this.h()},l(r){t=x(r,"OL",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-dx2il3"&&(t.innerHTML=n),this.h()},h(){p(t,"class","list-decimal p-4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function jc(e){let t,n,r,a,o,i,s,l,c,u,f,d;return t=new gt({props:{open:!0,$$slots:{content:[qc],summary:[Lc],lead:[Pc]},$$scope:{ctx:e}}}),r=new gt({props:{$$slots:{content:[Nc],summary:[Ic],lead:[Dc]},$$scope:{ctx:e}}}),o=new gt({props:{$$slots:{content:[Rc],summary:[Hc],lead:[Oc]},$$scope:{ctx:e}}}),s=new gt({props:{$$slots:{content:[Vc],summary:[$c],lead:[Fc]},$$scope:{ctx:e}}}),c=new gt({props:{$$slots:{content:[zc],summary:[Uc],lead:[Bc]},$$scope:{ctx:e}}}),f=new gt({props:{$$slots:{content:[Gc],summary:[Wc],lead:[Yc]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment),n=oe(),Ae(r.$$.fragment),a=oe(),Ae(o.$$.fragment),i=oe(),Ae(s.$$.fragment),l=oe(),Ae(c.$$.fragment),u=oe(),Ae(f.$$.fragment)},l(h){Me(t.$$.fragment,h),n=ie(h),Me(r.$$.fragment,h),a=ie(h),Me(o.$$.fragment,h),i=ie(h),Me(s.$$.fragment,h),l=ie(h),Me(c.$$.fragment,h),u=ie(h),Me(f.$$.fragment,h)},m(h,_){Ee(t,h,_),z(h,n,_),Ee(r,h,_),z(h,a,_),Ee(o,h,_),z(h,i,_),Ee(s,h,_),z(h,l,_),Ee(c,h,_),z(h,u,_),Ee(f,h,_),d=!0},p(h,_){const g={};_&1&&(g.$$scope={dirty:_,ctx:h}),t.$set(g);const q={};_&1&&(q.$$scope={dirty:_,ctx:h}),r.$set(q);const S={};_&1&&(S.$$scope={dirty:_,ctx:h}),o.$set(S);const T={};_&1&&(T.$$scope={dirty:_,ctx:h}),s.$set(T);const P={};_&1&&(P.$$scope={dirty:_,ctx:h}),c.$set(P);const E={};_&1&&(E.$$scope={dirty:_,ctx:h}),f.$set(E)},i(h){d||(me(t.$$.fragment,h),me(r.$$.fragment,h),me(o.$$.fragment,h),me(s.$$.fragment,h),me(c.$$.fragment,h),me(f.$$.fragment,h),d=!0)},o(h){ge(t.$$.fragment,h),ge(r.$$.fragment,h),ge(o.$$.fragment,h),ge(s.$$.fragment,h),ge(c.$$.fragment,h),ge(f.$$.fragment,h),d=!1},d(h){h&&(v(n),v(a),v(i),v(l),v(u)),Pe(t,h),Pe(r,h),Pe(o,h),Pe(s,h),Pe(c,h),Pe(f,h)}}}function Xc(e){let t,n=`<div class="card p-8">The <strong>PACTA (Paris Agreement Capital Transition Assessment)</strong> dashboard provides
		a comprehensive view of your organization&#39;s alignment with climate transition goals. It enables
		you to assess the climate-related risks and opportunities within your investments, offering
		insights into how well your portfolio is positioned to align with multiple climate objectives.
		This section provides a high-level overview of the dashboard&#39;s functionalities, setting the
		stage for in-depth analysis across various levels—from portfolio-wide metrics to
		company-specific evaluations. Key features in this section:
		<ul class="list-disc p-4"><li><strong>Overview of the methodology</strong> behind the PACTA analysis;</li> <li><strong>Sector and asset class</strong> coverage in the analysis;</li> <li><strong>Metrics used to assess alignment with climate targets</strong> (e.g., emission intensity,
				future technology)</li></ul>
		To explore more detailed content for each section below, simply click on the titles. A dropdown will
		appear with further explanations and insights for each topic. This allows you to dig deeper into
		the information that matters most to you.</div>`,r,a,o,i,s;return i=new en({props:{autocollapse:!0,$$slots:{default:[jc]},$$scope:{ctx:e}}}),{c(){t=b("div"),t.innerHTML=n,r=oe(),a=b("div"),o=b("div"),Ae(i.$$.fragment),this.h()},l(l){t=x(l,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1bgciq1"&&(t.innerHTML=n),r=ie(l),a=x(l,"DIV",{class:!0});var c=X(a);o=x(c,"DIV",{class:!0});var u=X(o);Me(i.$$.fragment,u),u.forEach(v),c.forEach(v),this.h()},h(){p(t,"class","p-4"),p(o,"class","card p-8"),p(a,"class","p-4")},m(l,c){z(l,t,c),z(l,r,c),z(l,a,c),C(a,o),Ee(i,o,null),s=!0},p(l,[c]){const u={};c&1&&(u.$$scope={dirty:c,ctx:l}),i.$set(u)},i(l){s||(me(i.$$.fragment,l),s=!0)},o(l){ge(i.$$.fragment,l),s=!1},d(l){l&&(v(t),v(r),v(a)),Pe(i)}}}class Zc extends on{constructor(t){super(),sn(this,t,null,Xc,an,{})}}const to=[{sector:"Power",tech_order:["RenewablesCap","HydroCap","NuclearCap","GasCap","OilCap","CoalCap"]},{sector:"Automotive",tech_order:["Electric","Electric_HDV","FuelCell","FuelCell_HDV","Hybrid","Hybrid_HDV","ICE","ICE_HDV"]},{sector:"Oil&Gas",tech_order:["Gas","Oil"]},{sector:"Coal",tech_order:["Coal"]},{sector:"Fossil Fuels",tech_order:["Gas","Oil","Coal"]},{sector:"Cement",tech_order:["Integrated facility","Grinding"]},{sector:"Steel",tech_order:["Electric Arc Furnace","Open Hearth Furnace","Basic Oxygen Furnace"]},{sector:"Aviation",tech_order:["Freight","Passenger","Mix","Other"]}];function Cs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Kc(e){return e.length===1&&(e=Qc(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)<0?r=o+1:a=o}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)>0?a=o:r=o+1}return r}}}function Qc(e){return function(t,n){return Cs(e(t),n)}}Kc(Cs);function Jc(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function eu(e){return e===null?NaN:+e}function dn(e,t){var n=e.length,r=-1,a,o,i;if(t==null){for(;++r<n;)if((a=e[r])!=null&&a>=a)for(o=i=a;++r<n;)(a=e[r])!=null&&(o>a&&(o=a),i<a&&(i=a))}else for(;++r<n;)if((a=t(e[r],r,e))!=null&&a>=a)for(o=i=a;++r<n;)(a=t(e[r],r,e))!=null&&(o>a&&(o=a),i<a&&(i=a));return[o,i]}function ko(e,t){var n=e.length,r=-1,a,o;if(t==null){for(;++r<n;)if((a=e[r])!=null&&a>=a)for(o=a;++r<n;)(a=e[r])!=null&&a>o&&(o=a)}else for(;++r<n;)if((a=t(e[r],r,e))!=null&&a>=a)for(o=a;++r<n;)(a=t(e[r],r,e))!=null&&a>o&&(o=a);return o}function tu(e,t){for(var n=e.length,r=n,a=-1,o,i=0;++a<n;)isNaN(o=eu(e[a]))?--r:i+=o;if(r)return i/r}function nu(e,t){var n=e.length,r=-1,a,o;if(t==null){for(;++r<n;)if((a=e[r])!=null&&a>=a)for(o=a;++r<n;)(a=e[r])!=null&&o>a&&(o=a)}else for(;++r<n;)if((a=t(e[r],r,e))!=null&&a>=a)for(o=a;++r<n;)(a=t(e[r],r,e))!=null&&o>a&&(o=a);return o}function ua(e,t){var n=e.length,r=-1,a,o=0;if(t==null)for(;++r<n;)(a=+e[r])&&(o+=a);else for(;++r<n;)(a=+t(e[r],r,e))&&(o+=a);return o}function ru(e){if(!(o=e.length))return[];for(var t=-1,n=nu(e,au),r=new Array(n);++t<n;)for(var a=-1,o,i=r[t]=new Array(o);++a<o;)i[a]=e[a][t];return r}function au(e){return e.length}function ou(){return ru(arguments)}var Va=Array.prototype.slice;function iu(e){return e}var ra=1,aa=2,no=3,gr=4,bi=1e-6;function su(e){return"translate("+(e+.5)+",0)"}function lu(e){return"translate(0,"+(e+.5)+")"}function cu(e){return function(t){return+e(t)}}function uu(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function fu(){return!this.__axis}function Pa(e,t){var n=[],r=null,a=null,o=6,i=6,s=3,l=e===ra||e===gr?-1:1,c=e===gr||e===aa?"x":"y",u=e===ra||e===no?su:lu;function f(d){var h=r??(t.ticks?t.ticks.apply(t,n):t.domain()),_=a??(t.tickFormat?t.tickFormat.apply(t,n):iu),g=Math.max(o,0)+s,q=t.range(),S=+q[0]+.5,T=+q[q.length-1]+.5,P=(t.bandwidth?uu:cu)(t.copy()),E=d.selection?d.selection():d,y=E.selectAll(".domain").data([null]),w=E.selectAll(".tick").data(h,t).order(),A=w.exit(),N=w.enter().append("g").attr("class","tick"),k=w.select("line"),$=w.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),$=$.merge(N.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",e===ra?"0em":e===no?"0.71em":"0.32em")),d!==E&&(y=y.transition(d),w=w.transition(d),k=k.transition(d),$=$.transition(d),A=A.transition(d).attr("opacity",bi).attr("transform",function(M){return isFinite(M=P(M))?u(M):this.getAttribute("transform")}),N.attr("opacity",bi).attr("transform",function(M){var I=this.parentNode.__axis;return u(I&&isFinite(I=I(M))?I:P(M))})),A.remove(),y.attr("d",e===gr||e==aa?i?"M"+l*i+","+S+"H0.5V"+T+"H"+l*i:"M0.5,"+S+"V"+T:i?"M"+S+","+l*i+"V0.5H"+T+"V"+l*i:"M"+S+",0.5H"+T),w.attr("opacity",1).attr("transform",function(M){return u(P(M))}),k.attr(c+"2",l*o),$.attr(c,l*g).text(_),E.filter(fu).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===aa?"start":e===gr?"end":"middle"),E.each(function(){this.__axis=P})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Va.call(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Va.call(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Va.call(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(a=d,f):a},f.tickSize=function(d){return arguments.length?(o=i=+d,f):o},f.tickSizeInner=function(d){return arguments.length?(o=+d,f):o},f.tickSizeOuter=function(d){return arguments.length?(i=+d,f):i},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f}function du(e){return Pa(ra,e)}function ks(e){return Pa(aa,e)}function Sn(e){return Pa(no,e)}function Xn(e){return Pa(gr,e)}var hu={value:function(){}};function Ts(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oa(n)}function oa(e){this._=e}function mu(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oa.prototype=Ts.prototype={constructor:oa,on:function(e,t){var n=this._,r=mu(e+"",n),a,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((a=(e=r[o]).type)&&(a=pu(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=r[o]).type)n[a]=xi(n[a],e.name,t);else if(t==null)for(a in n)n[a]=xi(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new oa(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function pu(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function xi(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=hu,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ro="http://www.w3.org/1999/xhtml";const wi={svg:"http://www.w3.org/2000/svg",xhtml:ro,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function La(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wi.hasOwnProperty(t)?{space:wi[t],local:e}:e}function gu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ro&&t.documentElement.namespaceURI===ro?t.createElement(e):t.createElementNS(n,e)}}function yu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ss(e){var t=La(e);return(t.local?yu:gu)(t)}function vu(){}function To(e){return e==null?vu:function(){return this.querySelector(e)}}function _u(e){typeof e!="function"&&(e=To(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,s=r[a]=new Array(i),l,c,u=0;u<i;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new xt(r,this._parents)}function bu(){return[]}function As(e){return e==null?bu:function(){return this.querySelectorAll(e)}}function xu(e){typeof e!="function"&&(e=As(e));for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var i=t[o],s=i.length,l,c=0;c<s;++c)(l=i[c])&&(r.push(e.call(l,l.__data__,c,i)),a.push(l));return new xt(r,a)}function Ms(e){return function(){return this.matches(e)}}function wu(e){typeof e!="function"&&(e=Ms(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,s=r[a]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new xt(r,this._parents)}function Es(e){return new Array(e.length)}function Cu(){return new xt(this._enter||this._groups.map(Es),this._parents)}function fa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}fa.prototype={constructor:fa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ku(e){return function(){return e}}var Ci="$";function Tu(e,t,n,r,a,o){for(var i=0,s,l=t.length,c=o.length;i<c;++i)(s=t[i])?(s.__data__=o[i],r[i]=s):n[i]=new fa(e,o[i]);for(;i<l;++i)(s=t[i])&&(a[i]=s)}function Su(e,t,n,r,a,o,i){var s,l,c={},u=t.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(d[s]=h=Ci+i.call(l,l.__data__,s,t),h in c?a[s]=l:c[h]=l);for(s=0;s<f;++s)h=Ci+i.call(e,o[s],s,o),(l=c[h])?(r[s]=l,l.__data__=o[s],c[h]=null):n[s]=new fa(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&c[d[s]]===l&&(a[s]=l)}function Au(e,t){if(!e)return h=new Array(this.size()),c=-1,this.each(function(w){h[++c]=w}),h;var n=t?Su:Tu,r=this._parents,a=this._groups;typeof e!="function"&&(e=ku(e));for(var o=a.length,i=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=a[c],d=f.length,h=e.call(u,u&&u.__data__,c,r),_=h.length,g=s[c]=new Array(_),q=i[c]=new Array(_),S=l[c]=new Array(d);n(u,f,g,q,S,h,t);for(var T=0,P=0,E,y;T<_;++T)if(E=g[T]){for(T>=P&&(P=T+1);!(y=q[P])&&++P<_;);E._next=y||null}}return i=new xt(i,r),i._enter=s,i._exit=l,i}function Mu(){return new xt(this._exit||this._groups.map(Es),this._parents)}function Eu(e,t,n){var r=this.enter(),a=this,o=this.exit();return r=typeof e=="function"?e(r):r.append(e+""),t!=null&&(a=t(a)),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function Pu(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),s=0;s<o;++s)for(var l=t[s],c=n[s],u=l.length,f=i[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)i[s]=t[s];return new xt(i,this._parents)}function Lu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],i;--a>=0;)(i=r[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function qu(e){e||(e=Du);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var i=n[o],s=i.length,l=a[o]=new Array(s),c,u=0;u<s;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new xt(a,this._parents).order()}function Du(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Iu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Nu(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function Ou(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null}function Hu(){var e=0;return this.each(function(){++e}),e}function Ru(){return!this.node()}function Fu(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,i=a.length,s;o<i;++o)(s=a[o])&&e.call(s,s.__data__,o,a);return this}function $u(e){return function(){this.removeAttribute(e)}}function Vu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bu(e,t){return function(){this.setAttribute(e,t)}}function Uu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Yu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Wu(e,t){var n=La(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Vu:$u:typeof t=="function"?n.local?Yu:zu:n.local?Uu:Bu)(n,t))}function Ps(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Gu(e){return function(){this.style.removeProperty(e)}}function ju(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xu(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Zu(e,t,n){return arguments.length>1?this.each((t==null?Gu:typeof t=="function"?Xu:ju)(e,t,n??"")):Zn(this.node(),e)}function Zn(e,t){return e.style.getPropertyValue(t)||Ps(e).getComputedStyle(e,null).getPropertyValue(t)}function Ku(e){return function(){delete this[e]}}function Qu(e,t){return function(){this[e]=t}}function Ju(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ef(e,t){return arguments.length>1?this.each((t==null?Ku:typeof t=="function"?Ju:Qu)(e,t)):this.node()[e]}function Ls(e){return e.trim().split(/^|\s+/)}function So(e){return e.classList||new qs(e)}function qs(e){this._node=e,this._names=Ls(e.getAttribute("class")||"")}qs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ds(e,t){for(var n=So(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Is(e,t){for(var n=So(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function tf(e){return function(){Ds(this,e)}}function nf(e){return function(){Is(this,e)}}function rf(e,t){return function(){(t.apply(this,arguments)?Ds:Is)(this,e)}}function af(e,t){var n=Ls(e+"");if(arguments.length<2){for(var r=So(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?rf:t?tf:nf)(n,t))}function of(){this.textContent=""}function sf(e){return function(){this.textContent=e}}function lf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function cf(e){return arguments.length?this.each(e==null?of:(typeof e=="function"?lf:sf)(e)):this.node().textContent}function uf(){this.innerHTML=""}function ff(e){return function(){this.innerHTML=e}}function df(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function hf(e){return arguments.length?this.each(e==null?uf:(typeof e=="function"?df:ff)(e)):this.node().innerHTML}function mf(){this.nextSibling&&this.parentNode.appendChild(this)}function pf(){return this.each(mf)}function gf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yf(){return this.each(gf)}function vf(e){var t=typeof e=="function"?e:Ss(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _f(){return null}function bf(e,t){var n=typeof e=="function"?e:Ss(e),r=t==null?_f:typeof t=="function"?t:To(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xf(){var e=this.parentNode;e&&e.removeChild(this)}function wf(){return this.each(xf)}function Cf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Tf(e){return this.select(e?kf:Cf)}function Sf(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Ns={},Fe=null;if(typeof document<"u"){var Af=document.documentElement;"onmouseenter"in Af||(Ns={mouseenter:"mouseover",mouseleave:"mouseout"})}function Mf(e,t,n){return e=Os(e,t,n),function(r){var a=r.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,r)}}function Os(e,t,n){return function(r){var a=Fe;Fe=r;try{e.call(this,this.__data__,t,n)}finally{Fe=a}}}function Ef(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Pf(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++r]=o;++r?t.length=r:delete this.__on}}}function Lf(e,t,n){var r=Ns.hasOwnProperty(e.type)?Mf:Os;return function(a,o,i){var s=this.__on,l,c=r(t,o,i);if(s){for(var u=0,f=s.length;u<f;++u)if((l=s[u]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),l.value=t;return}}this.addEventListener(e.type,c,n),l={type:e.type,name:e.name,value:t,listener:c,capture:n},s?s.push(l):this.__on=[l]}}function qf(e,t,n){var r=Ef(e+""),a,o=r.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(a=0,u=s[l];a<o;++a)if((i=r[a]).type===u.type&&i.name===u.name)return u.value}return}for(s=t?Lf:Pf,n==null&&(n=!1),a=0;a<o;++a)this.each(s(r[a],t,n));return this}function Hs(e,t,n){var r=Ps(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Df(e,t){return function(){return Hs(this,e,t)}}function If(e,t){return function(){return Hs(this,e,t.apply(this,arguments))}}function Nf(e,t){return this.each((typeof t=="function"?If:Df)(e,t))}var Rs=[null];function xt(e,t){this._groups=e,this._parents=t}function Nr(){return new xt([[document.documentElement]],Rs)}xt.prototype=Nr.prototype={constructor:xt,select:_u,selectAll:xu,filter:wu,data:Au,enter:Cu,exit:Mu,join:Eu,merge:Pu,order:Lu,sort:qu,call:Iu,nodes:Nu,node:Ou,size:Hu,empty:Ru,each:Fu,attr:Wu,style:Zu,property:ef,classed:af,text:cf,html:hf,raise:pf,lower:yf,append:vf,insert:bf,remove:wf,clone:Tf,datum:Sf,on:qf,dispatch:Nf};function Re(e){return typeof e=="string"?new xt([[document.querySelector(e)]],[document.documentElement]):new xt([[e]],Rs)}function Ao(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Fs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Or(){}var kr=.7,da=1/kr,zn="\\s*([+-]?\\d+)\\s*",Tr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Of=/^#([0-9a-f]{3,8})$/,Hf=new RegExp("^rgb\\("+[zn,zn,zn]+"\\)$"),Rf=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),Ff=new RegExp("^rgba\\("+[zn,zn,zn,Tr]+"\\)$"),$f=new RegExp("^rgba\\("+[zt,zt,zt,Tr]+"\\)$"),Vf=new RegExp("^hsl\\("+[Tr,zt,zt]+"\\)$"),Bf=new RegExp("^hsla\\("+[Tr,zt,zt,Tr]+"\\)$"),ki={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ao(Or,Sr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ti,formatHex:Ti,formatHsl:Uf,formatRgb:Si,toString:Si});function Ti(){return this.rgb().formatHex()}function Uf(){return $s(this).formatHsl()}function Si(){return this.rgb().formatRgb()}function Sr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Of.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ai(t):n===3?new _t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Kr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Kr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hf.exec(e))?new _t(t[1],t[2],t[3],1):(t=Rf.exec(e))?new _t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ff.exec(e))?Kr(t[1],t[2],t[3],t[4]):(t=$f.exec(e))?Kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Vf.exec(e))?Pi(t[1],t[2]/100,t[3]/100,1):(t=Bf.exec(e))?Pi(t[1],t[2]/100,t[3]/100,t[4]):ki.hasOwnProperty(e)?Ai(ki[e]):e==="transparent"?new _t(NaN,NaN,NaN,0):null}function Ai(e){return new _t(e>>16&255,e>>8&255,e&255,1)}function Kr(e,t,n,r){return r<=0&&(e=t=n=NaN),new _t(e,t,n,r)}function zf(e){return e instanceof Or||(e=Sr(e)),e?(e=e.rgb(),new _t(e.r,e.g,e.b,e.opacity)):new _t}function ha(e,t,n,r){return arguments.length===1?zf(e):new _t(e,t,n,r??1)}function _t(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ao(_t,ha,Fs(Or,{brighter:function(e){return e=e==null?da:Math.pow(da,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?kr:Math.pow(kr,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mi,formatHex:Mi,formatRgb:Ei,toString:Ei}));function Mi(){return"#"+Ba(this.r)+Ba(this.g)+Ba(this.b)}function Ei(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Ba(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Pi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vt(e,t,n,r)}function $s(e){if(e instanceof Vt)return new Vt(e.h,e.s,e.l,e.opacity);if(e instanceof Or||(e=Sr(e)),!e)return new Vt;if(e instanceof Vt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(n-r)/s+(n<r)*6:n===o?i=(r-t)/s+2:i=(t-n)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Vt(i,s,l,e.opacity)}function Yf(e,t,n,r){return arguments.length===1?$s(e):new Vt(e,t,n,r??1)}function Vt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ao(Vt,Yf,Fs(Or,{brighter:function(e){return e=e==null?da:Math.pow(da,e),new Vt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?kr:Math.pow(kr,e),new Vt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new _t(Ua(e>=240?e-240:e+120,a,r),Ua(e,a,r),Ua(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Ua(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function Wf(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}function Gf(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,s=r<t-1?e[r+2]:2*o-a;return Wf((n-r/t)*t,i,a,o,s)}}function Mo(e){return function(){return e}}function jf(e,t){return function(n){return e+n*t}}function Xf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zf(e){return(e=+e)==1?Vs:function(t,n){return n-t?Xf(t,n,e):Mo(isNaN(t)?n:t)}}function Vs(e,t){var n=t-e;return n?jf(e,n):Mo(isNaN(e)?t:e)}const ma=function e(t){var n=Zf(t);function r(a,o){var i=n((a=ha(a)).r,(o=ha(o)).r),s=n(a.g,o.g),l=n(a.b,o.b),c=Vs(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return r.gamma=e,r}(1);function Kf(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),o=new Array(n),i,s;for(i=0;i<n;++i)s=ha(t[i]),r[i]=s.r||0,a[i]=s.g||0,o[i]=s.b||0;return r=e(r),a=e(a),o=e(o),s.opacity=1,function(l){return s.r=r(l),s.g=a(l),s.b=o(l),s+""}}}var Qf=Kf(Gf);function Jf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function ed(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function td(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)a[i]=Eo(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(s){for(i=0;i<r;++i)o[i]=a[i](s);return o}}function nd(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function It(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rd(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Eo(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var ao=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,za=new RegExp(ao.source,"g");function ad(e){return function(){return e}}function od(e){return function(t){return e(t)+""}}function Bs(e,t){var n=ao.lastIndex=za.lastIndex=0,r,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(r=ao.exec(e))&&(a=za.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),s[i]?s[i]+=o:s[++i]=o),(r=r[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:It(r,a)})),n=za.lastIndex;return n<t.length&&(o=t.slice(n),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?od(l[0].x):ad(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Eo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Mo(t):(n==="number"?It:n==="string"?(r=Sr(t))?(t=r,ma):Bs:t instanceof Sr?ma:t instanceof Date?nd:ed(t)?Jf:Array.isArray(t)?td:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rd:It)(e,t)}function id(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Li=180/Math.PI,oo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Us(e,t,n,r,a,o){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Li,skewX:Math.atan(l)*Li,scaleX:i,scaleY:s}}var sr,Ya,qi,Qr;function sd(e){return e==="none"?oo:(sr||(sr=document.createElement("DIV"),Ya=document.documentElement,qi=document.defaultView),sr.style.transform=e,e=qi.getComputedStyle(Ya.appendChild(sr),null).getPropertyValue("transform"),Ya.removeChild(sr),e=e.slice(7,-1).split(","),Us(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function ld(e){return e==null||(Qr||(Qr=document.createElementNS("http://www.w3.org/2000/svg","g")),Qr.setAttribute("transform",e),!(e=Qr.transform.baseVal.consolidate()))?oo:(e=e.matrix,Us(e.a,e.b,e.c,e.d,e.e,e.f))}function zs(e,t,n,r){function a(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,_){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,n);_.push({i:g-4,x:It(c,f)},{i:g-2,x:It(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function i(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(a(f)+"rotate(",null,r)-2,x:It(c,u)})):u&&f.push(a(f)+"rotate("+u+r)}function s(c,u,f,d){c!==u?d.push({i:f.push(a(f)+"skewX(",null,r)-2,x:It(c,u)}):u&&f.push(a(f)+"skewX("+u+r)}function l(c,u,f,d,h,_){if(c!==f||u!==d){var g=h.push(a(h)+"scale(",null,",",null,")");_.push({i:g-4,x:It(c,f)},{i:g-2,x:It(u,d)})}else(f!==1||d!==1)&&h.push(a(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),i(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var _=-1,g=d.length,q;++_<g;)f[(q=d[_]).i]=q.x(h);return f.join("")}}}var cd=zs(sd,"px, ","px)","deg)"),ud=zs(ld,", ",")",")"),Kn=0,yr=0,lr=0,Ys=1e3,pa,vr,ga=0,An=0,qa=0,Ar=typeof performance=="object"&&performance.now?performance:Date,Ws=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Da(){return An||(Ws(fd),An=Ar.now()+qa)}function fd(){An=0}function ya(){this._call=this._time=this._next=null}ya.prototype=Gs.prototype={constructor:ya,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Da():+n)+(t==null?0:+t),!this._next&&vr!==this&&(vr?vr._next=this:pa=this,vr=this),this._call=e,this._time=n,io()},stop:function(){this._call&&(this._call=null,this._time=1/0,io())}};function Gs(e,t,n){var r=new ya;return r.restart(e,t,n),r}function dd(){Da(),++Kn;for(var e=pa,t;e;)(t=An-e._time)>=0&&e._call.call(null,t),e=e._next;--Kn}function Di(){An=(ga=Ar.now())+qa,Kn=yr=0;try{dd()}finally{Kn=0,md(),An=0}}function hd(){var e=Ar.now(),t=e-ga;t>Ys&&(qa-=t,ga=e)}function md(){for(var e,t=pa,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:pa=n);vr=e,io(r)}function io(e){if(!Kn){yr&&(yr=clearTimeout(yr));var t=e-An;t>24?(e<1/0&&(yr=setTimeout(Di,e-Ar.now()-qa)),lr&&(lr=clearInterval(lr))):(lr||(ga=Ar.now(),lr=setInterval(hd,Ys)),Kn=1,Ws(Di))}}function Ii(e,t,n){var r=new ya;return t=t==null?0:+t,r.restart(function(a){r.stop(),e(a+t)},t,n),r}var pd=Ts("start","end","cancel","interrupt"),gd=[],js=0,Ni=1,so=2,ia=3,Oi=4,lo=5,sa=6;function Ia(e,t,n,r,a,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;yd(e,n,{name:t,index:r,group:a,on:pd,tween:gd,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:js})}function Po(e,t){var n=Nt(e,t);if(n.state>js)throw new Error("too late; already scheduled");return n}function ln(e,t){var n=Nt(e,t);if(n.state>ia)throw new Error("too late; already running");return n}function Nt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function yd(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Gs(o,0,n.time);function o(c){n.state=Ni,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var u,f,d,h;if(n.state!==Ni)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===ia)return Ii(i);h.state===Oi?(h.state=sa,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=sa,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Ii(function(){n.state===ia&&(n.state=Oi,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=so,n.on.call("start",e,e.__data__,n.index,n.group),n.state===so){for(n.state=ia,a=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=h);a.length=f+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=lo,1),f=-1,d=a.length;++f<d;)a[f].call(e,u);n.state===lo&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=sa,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function vd(e,t){var n=e.__transition,r,a,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}a=r.state>so&&r.state<lo,r.state=sa,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function _d(e){return this.each(function(){vd(this,e)})}function bd(e,t){var n,r;return function(){var a=ln(this,e),o=a.tween;if(o!==n){r=n=o;for(var i=0,s=r.length;i<s;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}a.tween=r}}function xd(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=ln(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var s={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}o.tween=a}}function wd(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Nt(this.node(),n).tween,a=0,o=r.length,i;a<o;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((t==null?bd:xd)(n,e,t))}function Lo(e,t,n){var r=e._id;return e.each(function(){var a=ln(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Nt(a,r).value[t]}}function qo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Hr(){}var Mr=.7,va=1/Mr,Yn="\\s*([+-]?\\d+)\\s*",Er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cd=/^#([0-9a-f]{3,8})$/,kd=new RegExp("^rgb\\("+[Yn,Yn,Yn]+"\\)$"),Td=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Sd=new RegExp("^rgba\\("+[Yn,Yn,Yn,Er]+"\\)$"),Ad=new RegExp("^rgba\\("+[Yt,Yt,Yt,Er]+"\\)$"),Md=new RegExp("^hsl\\("+[Er,Yt,Yt]+"\\)$"),Ed=new RegExp("^hsla\\("+[Er,Yt,Yt,Er]+"\\)$"),Hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qo(Hr,Pr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ri,formatHex:Ri,formatHsl:Pd,formatRgb:Fi,toString:Fi});function Ri(){return this.rgb().formatHex()}function Pd(){return Zs(this).formatHsl()}function Fi(){return this.rgb().formatRgb()}function Pr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$i(t):n===3?new bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kd.exec(e))?new bt(t[1],t[2],t[3],1):(t=Td.exec(e))?new bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Sd.exec(e))?Jr(t[1],t[2],t[3],t[4]):(t=Ad.exec(e))?Jr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Md.exec(e))?Ui(t[1],t[2]/100,t[3]/100,1):(t=Ed.exec(e))?Ui(t[1],t[2]/100,t[3]/100,t[4]):Hi.hasOwnProperty(e)?$i(Hi[e]):e==="transparent"?new bt(NaN,NaN,NaN,0):null}function $i(e){return new bt(e>>16&255,e>>8&255,e&255,1)}function Jr(e,t,n,r){return r<=0&&(e=t=n=NaN),new bt(e,t,n,r)}function Ld(e){return e instanceof Hr||(e=Pr(e)),e?(e=e.rgb(),new bt(e.r,e.g,e.b,e.opacity)):new bt}function qd(e,t,n,r){return arguments.length===1?Ld(e):new bt(e,t,n,r??1)}function bt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qo(bt,qd,Xs(Hr,{brighter:function(e){return e=e==null?va:Math.pow(va,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Mr:Math.pow(Mr,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vi,formatHex:Vi,formatRgb:Bi,toString:Bi}));function Vi(){return"#"+Wa(this.r)+Wa(this.g)+Wa(this.b)}function Bi(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Wa(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Ui(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bt(e,t,n,r)}function Zs(e){if(e instanceof Bt)return new Bt(e.h,e.s,e.l,e.opacity);if(e instanceof Hr||(e=Pr(e)),!e)return new Bt;if(e instanceof Bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(n-r)/s+(n<r)*6:n===o?i=(r-t)/s+2:i=(t-n)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Bt(i,s,l,e.opacity)}function Dd(e,t,n,r){return arguments.length===1?Zs(e):new Bt(e,t,n,r??1)}function Bt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qo(Bt,Dd,Xs(Hr,{brighter:function(e){return e=e==null?va:Math.pow(va,e),new Bt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Mr:Math.pow(Mr,e),new Bt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new bt(Ga(e>=240?e-240:e+120,a,r),Ga(e,a,r),Ga(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Ga(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function Ks(e,t){var n;return(typeof t=="number"?It:t instanceof Pr?ma:(n=Pr(t))?(t=n,ma):Bs)(e,t)}function Id(e){return function(){this.removeAttribute(e)}}function Nd(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Od(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}}function Hd(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}function Rd(e,t,n){var r,a,o;return function(){var i,s=n(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===r&&l===a?o:(a=l,o=t(r=i,s)))}}function Fd(e,t,n){var r,a,o;return function(){var i,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===r&&l===a?o:(a=l,o=t(r=i,s)))}}function $d(e,t){var n=La(e),r=n==="transform"?ud:Ks;return this.attrTween(e,typeof t=="function"?(n.local?Fd:Rd)(n,r,Lo(this,"attr."+e,t)):t==null?(n.local?Nd:Id)(n):(n.local?Hd:Od)(n,r,t))}function Vd(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Bd(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ud(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Bd(e,o)),n}return a._value=t,a}function zd(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Vd(e,o)),n}return a._value=t,a}function Yd(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=La(e);return this.tween(n,(r.local?Ud:zd)(r,t))}function Wd(e,t){return function(){Po(this,e).delay=+t.apply(this,arguments)}}function Gd(e,t){return t=+t,function(){Po(this,e).delay=t}}function jd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Wd:Gd)(t,e)):Nt(this.node(),t).delay}function Xd(e,t){return function(){ln(this,e).duration=+t.apply(this,arguments)}}function Zd(e,t){return t=+t,function(){ln(this,e).duration=t}}function Kd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Xd:Zd)(t,e)):Nt(this.node(),t).duration}function Qd(e,t){if(typeof t!="function")throw new Error;return function(){ln(this,e).ease=t}}function Jd(e){var t=this._id;return arguments.length?this.each(Qd(t,e)):Nt(this.node(),t).ease}function eh(e){typeof e!="function"&&(e=Ms(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,s=r[a]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new rn(r,this._parents,this._name,this._id)}function th(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),s=0;s<o;++s)for(var l=t[s],c=n[s],u=l.length,f=i[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<r;++s)i[s]=t[s];return new rn(i,this._parents,this._name,this._id)}function nh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function rh(e,t,n){var r,a,o=nh(t)?Po:ln;return function(){var i=o(this,e),s=i.on;s!==r&&(a=(r=s).copy()).on(t,n),i.on=a}}function ah(e,t){var n=this._id;return arguments.length<2?Nt(this.node(),n).on.on(e):this.each(rh(n,e,t))}function oh(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ih(){return this.on("end.remove",oh(this._id))}function sh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=To(e));for(var r=this._groups,a=r.length,o=new Array(a),i=0;i<a;++i)for(var s=r[i],l=s.length,c=o[i]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=e.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,Ia(c[d],t,n,d,c,Nt(u,n)));return new rn(o,this._parents,t,n)}function lh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=As(e));for(var r=this._groups,a=r.length,o=[],i=[],s=0;s<a;++s)for(var l=r[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,_=Nt(u,n),g=0,q=d.length;g<q;++g)(h=d[g])&&Ia(h,t,n,g,d,_);o.push(d),i.push(u)}return new rn(o,i,t,n)}var ch=Nr.prototype.constructor;function uh(){return new ch(this._groups,this._parents)}function fh(e,t){var n,r,a;return function(){var o=Zn(this,e),i=(this.style.removeProperty(e),Zn(this,e));return o===i?null:o===n&&i===r?a:a=t(n=o,r=i)}}function Qs(e){return function(){this.style.removeProperty(e)}}function dh(e,t,n){var r,a=n+"",o;return function(){var i=Zn(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}function hh(e,t,n){var r,a,o;return function(){var i=Zn(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Zn(this,e))),i===l?null:i===r&&l===a?o:(a=l,o=t(r=i,s))}}function mh(e,t){var n,r,a,o="style."+t,i="end."+o,s;return function(){var l=ln(this,e),c=l.on,u=l.value[o]==null?s||(s=Qs(t)):void 0;(c!==n||a!==u)&&(r=(n=c).copy()).on(i,a=u),l.on=r}}function ph(e,t,n){var r=(e+="")=="transform"?cd:Ks;return t==null?this.styleTween(e,fh(e,r)).on("end.style."+e,Qs(e)):typeof t=="function"?this.styleTween(e,hh(e,r,Lo(this,"style."+e,t))).each(mh(this._id,e)):this.styleTween(e,dh(e,r,t),n).on("end.style."+e,null)}function gh(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function yh(e,t,n){var r,a;function o(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&gh(e,i,n)),r}return o._value=t,o}function vh(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,yh(e,t,n??""))}function _h(e){return function(){this.textContent=e}}function bh(e){return function(){var t=e(this);this.textContent=t??""}}function xh(e){return this.tween("text",typeof e=="function"?bh(Lo(this,"text",e)):_h(e==null?"":e+""))}function wh(e){return function(t){this.textContent=e.call(this,t)}}function Ch(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&wh(a)),t}return r._value=e,r}function kh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ch(e))}function Th(){for(var e=this._name,t=this._id,n=Js(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],s=i.length,l,c=0;c<s;++c)if(l=i[c]){var u=Nt(l,t);Ia(l,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new rn(r,this._parents,e,n)}function Sh(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var s={value:i},l={value:function(){--a===0&&o()}};n.each(function(){var c=ln(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t})})}var Ah=0;function rn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Js(){return++Ah}var $n=Nr.prototype;rn.prototype={constructor:rn,select:sh,selectAll:lh,filter:eh,merge:th,selection:uh,transition:Th,call:$n.call,nodes:$n.nodes,node:$n.node,size:$n.size,empty:$n.empty,each:$n.each,on:ah,attr:$d,attrTween:Yd,style:ph,styleTween:vh,text:xh,textTween:kh,remove:ih,tween:wd,delay:jd,duration:Kd,ease:Jd,end:Sh};function Mh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var co={time:null,delay:0,duration:250,ease:Mh};function Eh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return co.time=Da(),co;return n}function Ph(e){var t,n;e instanceof rn?(t=e._id,e=e._name):(t=Js(),(n=co).time=Da(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],s=i.length,l,c=0;c<s;++c)(l=i[c])&&Ia(l,e,t,c,i,n||Eh(l,t));return new rn(r,this._parents,e,t)}Nr.prototype.interrupt=_d;Nr.prototype.transition=Ph;function el(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Lh(e){return e.length===1&&(e=qh(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)<0?r=o+1:a=o}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)>0?a=o:r=o+1}return r}}}function qh(e){return function(t,n){return el(e(t),n)}}Lh(el);var uo=Math.PI,fo=2*uo,Cn=1e-6,Dh=fo-Cn;function ho(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Na(){return new ho}ho.prototype=Na.prototype={constructor:ho,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,i=this._y1,s=n-e,l=r-t,c=o-e,u=i-t,f=c*c+u*u;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Cn)if(!(Math.abs(u*s-l*c)>Cn)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var d=n-o,h=r-i,_=s*s+l*l,g=d*d+h*h,q=Math.sqrt(_),S=Math.sqrt(f),T=a*Math.tan((uo-Math.acos((_+f-g)/(2*q*S)))/2),P=T/S,E=T/q;Math.abs(P-1)>Cn&&(this._+="L"+(e+P*c)+","+(t+P*u)),this._+="A"+a+","+a+",0,0,"+ +(u*d>c*h)+","+(this._x1=e+E*s)+","+(this._y1=t+E*l)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var i=n*Math.cos(r),s=n*Math.sin(r),l=e+i,c=t+s,u=1^o,f=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Cn||Math.abs(this._y1-c)>Cn)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%fo+fo),f>Dh?this._+="A"+n+","+n+",0,1,"+u+","+(e-i)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Cn&&(this._+="A"+n+","+n+",0,"+ +(f>=uo)+","+u+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var At="$";function _a(){}_a.prototype=ve.prototype={constructor:_a,has:function(e){return At+e in this},get:function(e){return this[At+e]},set:function(e,t){return this[At+e]=t,this},remove:function(e){var t=At+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===At&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===At&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===At&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===At&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===At&&++e;return e},empty:function(){for(var e in this)if(e[0]===At)return!1;return!0},each:function(e){for(var t in this)t[0]===At&&e(this[t],t.slice(1),this)}};function ve(e,t){var n=new _a;if(e instanceof _a)e.each(function(s,l){n.set(l,s)});else if(Array.isArray(e)){var r=-1,a=e.length,o;if(t==null)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t(o=e[r],r,e),o)}else if(e)for(var i in e)n.set(i,e[i]);return n}function tl(){var e=[],t=[],n,r,a;function o(s,l,c,u){if(l>=e.length)return n!=null&&s.sort(n),r!=null?r(s):s;for(var f=-1,d=s.length,h=e[l++],_,g,q=ve(),S,T=c();++f<d;)(S=q.get(_=h(g=s[f])+""))?S.push(g):q.set(_,[g]);return q.each(function(P,E){u(T,E,o(P,l,c,u))}),T}function i(s,l){if(++l>e.length)return s;var c,u=t[l-1];return r!=null&&l>=e.length?c=s.entries():(c=[],s.each(function(f,d){c.push({key:d,values:i(f,l)})})),u!=null?c.sort(function(f,d){return u(f.key,d.key)}):c}return a={object:function(s){return o(s,0,Ih,Nh)},map:function(s){return o(s,0,zi,Yi)},entries:function(s){return i(o(s,0,zi,Yi),0)},key:function(s){return e.push(s),a},sortKeys:function(s){return t[e.length-1]=s,a},sortValues:function(s){return n=s,a},rollup:function(s){return r=s,a}}}function Ih(){return{}}function Nh(e,t,n){e[t]=n}function zi(){return ve()}function Yi(e,t,n){e.set(t,n)}function Wi(){}var xn=ve.prototype;Wi.prototype={constructor:Wi,has:xn.has,add:function(e){return e+="",this[At+e]=e,this},remove:xn.remove,clear:xn.clear,values:xn.keys,size:xn.size,empty:xn.empty,each:xn.each};function nl(e){var t=[];for(var n in e)t.push(n);return t}function rl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Oh(e){return e.length===1&&(e=Hh(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)<0?r=o+1:a=o}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)>0?a=o:r=o+1}return r}}}function Hh(e){return function(t,n){return rl(e(t),n)}}Oh(rl);function Rh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ba(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qn(e){return e=ba(Math.abs(e)),e?e[1]:NaN}function Fh(e,t){return function(n,r){for(var a=n.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function $h(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Vh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xa(e){if(!(t=Vh.exec(e)))throw new Error("invalid format: "+e);var t;return new Do({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xa.prototype=Do.prototype;function Do(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Do.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bh(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var al;function Uh(e,t){var n=ba(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(al=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ba(e,Math.max(0,t+o-1))[0]}function Gi(e,t){var n=ba(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const ji={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:Rh,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Gi(e*100,t)},r:Gi,s:Uh,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Xi(e){return e}var Zi=Array.prototype.map,Ki=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zh(e){var t=e.grouping===void 0||e.thousands===void 0?Xi:Fh(Zi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Xi:$h(Zi.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=xa(f);var d=f.fill,h=f.align,_=f.sign,g=f.symbol,q=f.zero,S=f.width,T=f.comma,P=f.precision,E=f.trim,y=f.type;y==="n"?(T=!0,y="g"):ji[y]||(P===void 0&&(P=12),E=!0,y="g"),(q||d==="0"&&h==="=")&&(q=!0,d="0",h="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",A=g==="$"?r:/[%p]/.test(y)?i:"",N=ji[y],k=/[defgprs%]/.test(y);P=P===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(M){var I=w,R=A,U,Q,F;if(y==="c")R=N(M)+R,M="";else{M=+M;var K=M<0||1/M<0;if(M=isNaN(M)?l:N(Math.abs(M),P),E&&(M=Bh(M)),K&&+M==0&&_!=="+"&&(K=!1),I=(K?_==="("?_:s:_==="-"||_==="("?"":_)+I,R=(y==="s"?Ki[8+al/3]:"")+R+(K&&_==="("?")":""),k){for(U=-1,Q=M.length;++U<Q;)if(F=M.charCodeAt(U),48>F||F>57){R=(F===46?a+M.slice(U+1):M.slice(U))+R,M=M.slice(0,U);break}}}T&&!q&&(M=t(M,1/0));var L=I.length+M.length+R.length,O=L<S?new Array(S-L+1).join(d):"";switch(T&&q&&(M=t(O+M,O.length?S-R.length:1/0),O=""),h){case"<":M=I+M+R+O;break;case"=":M=I+O+M+R;break;case"^":M=O.slice(0,L=O.length>>1)+I+M+R+O.slice(L);break;default:M=O+I+M+R;break}return o(M)}return $.toString=function(){return f+""},$}function u(f,d){var h=c((f=xa(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor(Qn(d)/3)))*3,g=Math.pow(10,-_),q=Ki[8+_/3];return function(S){return h(g*S)+q}}return{format:c,formatPrefix:u}}var ea,We,ol;Yh({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Yh(e){return ea=zh(e),We=ea.format,ol=ea.formatPrefix,ea}function Wh(e){return Math.max(0,-Qn(Math.abs(e)))}function Gh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qn(t)/3)))*3-Qn(Math.abs(e)))}function jh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qn(t)-Qn(e))+1}function tr(){return Math.random()}(function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return n.source=e,n})(tr);const Xh=function e(t){function n(r,a){var o,i;return r=r==null?0:+r,a=a==null?1:+a,function(){var s;if(o!=null)s=o,o=null;else do o=t()*2-1,s=t()*2-1,i=o*o+s*s;while(!i||i>1);return r+a*s*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(tr);(function e(t){function n(){var r=Xh.source(t).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=e,n})(tr);const Zh=function e(t){function n(r){return function(){for(var a=0,o=0;o<r;++o)a+=t();return a}}return n.source=e,n}(tr);(function e(t){function n(r){var a=Zh.source(t)(r);return function(){return a()/r}}return n.source=e,n})(tr);(function e(t){function n(r){return function(){return-Math.log(1-t())/r}}return n.source=e,n})(tr);function il(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sl(e){return e.length===1&&(e=Kh(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)<0?r=o+1:a=o}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)>0?a=o:r=o+1}return r}}}function Kh(e){return function(t,n){return il(e(t),n)}}var Qh=sl(il),Jh=Qh.right;function em(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}var mo=Math.sqrt(50),po=Math.sqrt(10),go=Math.sqrt(2);function tm(e,t,n){var r,a=-1,o,i,s;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(s=la(e,t,n))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),i=new Array(o=Math.ceil(t-e+1));++a<o;)i[a]=(e+a)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),i=new Array(o=Math.ceil(e-t+1));++a<o;)i[a]=(e-a)/s;return r&&i.reverse(),i}function la(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,a);return a>=0?(o>=mo?10:o>=po?5:o>=go?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=mo?10:o>=po?5:o>=go?2:1)}function yo(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/a;return o>=mo?a*=10:o>=po?a*=5:o>=go&&(a*=2),t<e?-a:a}function Oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nm(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var ll=Array.prototype,cl=ll.map,vo=ll.slice,Qi={name:"implicit"};function lt(){var e=ve(),t=[],n=[],r=Qi;function a(o){var i=o+"",s=e.get(i);if(!s){if(r!==Qi)return r;e.set(i,s=t.push(o))}return n[(s-1)%n.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=ve();for(var i=-1,s=o.length,l,c;++i<s;)e.has(c=(l=o[i])+"")||e.set(c,t.push(l));return a},a.range=function(o){return arguments.length?(n=vo.call(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return lt(t,n).unknown(r)},Oa.apply(a,arguments),a}function hn(){var e=lt().unknown(void 0),t=e.domain,n=e.range,r=[0,1],a,o,i=!1,s=0,l=0,c=.5;delete e.unknown;function u(){var f=t().length,d=r[1]<r[0],h=r[d-0],_=r[1-d];a=(_-h)/Math.max(1,f-s+l*2),i&&(a=Math.floor(a)),h+=(_-h-a*(f-s))*c,o=a*(1-s),i&&(h=Math.round(h),o=Math.round(o));var g=em(f).map(function(q){return h+a*q});return n(d?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],i=!0,u()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(i=!!f,u()):i},e.padding=function(f){return arguments.length?(s=Math.min(1,l=+f),u()):s},e.paddingInner=function(f){return arguments.length?(s=Math.min(1,f),u()):s},e.paddingOuter=function(f){return arguments.length?(l=+f,u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.copy=function(){return hn(t(),r).round(i).paddingInner(s).paddingOuter(l).align(c)},Oa.apply(u(),arguments)}function rm(e){return function(){return e}}function am(e){return+e}var Ji=[0,1];function Ut(e){return e}function _o(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rm(isNaN(t)?NaN:.5)}function es(e){var t=e[0],n=e[e.length-1],r;return t>n&&(r=t,t=n,n=r),function(a){return Math.max(t,Math.min(n,a))}}function om(e,t,n){var r=e[0],a=e[1],o=t[0],i=t[1];return a<r?(r=_o(a,r),o=n(i,o)):(r=_o(r,a),o=n(o,i)),function(s){return o(r(s))}}function im(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=_o(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(s){var l=Jh(e,s,1,r)-1;return o[l](a[l](s))}}function ul(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sm(){var e=Ji,t=Ji,n=Eo,r,a,o,i=Ut,s,l,c;function u(){return s=Math.min(e.length,t.length)>2?im:om,l=c=null,f}function f(d){return isNaN(d=+d)?o:(l||(l=s(e.map(r),t,n)))(r(i(d)))}return f.invert=function(d){return i(a((c||(c=s(t,e.map(r),It)))(d)))},f.domain=function(d){return arguments.length?(e=cl.call(d,am),i===Ut||(i=es(e)),u()):e.slice()},f.range=function(d){return arguments.length?(t=vo.call(d),u()):t.slice()},f.rangeRound=function(d){return t=vo.call(d),n=id,u()},f.clamp=function(d){return arguments.length?(i=d?es(e):Ut,f):i!==Ut},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,a=h,u()}}function fl(e,t){return sm()(e,t)}function lm(e,t,n,r){var a=yo(e,t,n),o;switch(r=xa(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Gh(a,i))&&(r.precision=o),ol(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jh(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Wh(a))&&(r.precision=o-(r.type==="%")*2);break}}return We(r)}function dl(e){var t=e.domain;return e.ticks=function(n){var r=t();return tm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return lm(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,o=r.length-1,i=r[a],s=r[o],l;return s<i&&(l=i,i=s,s=l,l=a,a=o,o=l),l=la(i,s,n),l>0?(i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l,l=la(i,s,n)):l<0&&(i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l,l=la(i,s,n)),l>0?(r[a]=Math.floor(i/l)*l,r[o]=Math.ceil(s/l)*l,t(r)):l<0&&(r[a]=Math.ceil(i*l)/l,r[o]=Math.floor(s*l)/l,t(r)),e},e}function tn(){var e=fl(Ut,Ut);return e.copy=function(){return ul(e,tn())},Oa.apply(e,arguments),dl(e)}function cm(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],o=e[r],i;return o<a&&(i=n,n=r,r=i,i=a,a=o,o=i),e[n]=t.floor(a),e[r]=t.ceil(o),e}var ja=new Date,Xa=new Date;function ct(e,t,n,r){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=function(o){return e(o=new Date(+o)),o},a.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},a.round=function(o){var i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=function(o,i){return t(o=new Date(+o),i==null?1:Math.floor(i)),o},a.range=function(o,i,s){var l=[],c;if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=function(o){return ct(function(i){if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},function(i,s){if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););})},n&&(a.count=function(o,i){return ja.setTime(+o),Xa.setTime(+i),e(ja),e(Xa),Math.floor(n(ja,Xa))},a.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?function(i){return r(i)%o===0}:function(i){return a.count(0,i)%o===0}):a}),a}var wa=ct(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});wa.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ct(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):wa};wa.range;var Ca=1e3,Lr=6e4,ts=36e5,hl=864e5,ml=6048e5,pl=ct(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Ca)},function(e,t){return(t-e)/Ca},function(e){return e.getUTCSeconds()});pl.range;var gl=ct(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ca)},function(e,t){e.setTime(+e+t*Lr)},function(e,t){return(t-e)/Lr},function(e){return e.getMinutes()});gl.range;var yl=ct(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ca-e.getMinutes()*Lr)},function(e,t){e.setTime(+e+t*ts)},function(e,t){return(t-e)/ts},function(e){return e.getHours()});yl.range;var Ha=ct(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/hl},function(e){return e.getDate()-1});Ha.range;function En(e){return ct(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/ml})}var Io=En(0),ka=En(1),um=En(2),fm=En(3),Jn=En(4),dm=En(5),hm=En(6);Io.range;ka.range;um.range;fm.range;Jn.range;dm.range;hm.range;var vl=ct(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});vl.range;var pn=ct(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});pn.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ct(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};pn.range;var No=ct(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/hl},function(e){return e.getUTCDate()-1});No.range;function Pn(e){return ct(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/ml})}var _l=Pn(0),Ta=Pn(1),mm=Pn(2),pm=Pn(3),er=Pn(4),gm=Pn(5),ym=Pn(6);_l.range;Ta.range;mm.range;pm.range;er.range;gm.range;ym.range;var Mn=ct(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Mn.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ct(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};Mn.range;function Za(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ka(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vm(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=ur(a),u=fr(a),f=ur(o),d=fr(o),h=ur(i),_=fr(i),g=ur(s),q=fr(s),S=ur(l),T=fr(l),P={a:K,A:L,b:O,B:G,c:null,d:ss,e:ss,f:Vm,g:Km,G:Jm,H:Rm,I:Fm,j:$m,L:bl,m:Bm,M:Um,p:se,q:B,Q:us,s:fs,S:zm,u:Ym,U:Wm,V:Gm,w:jm,W:Xm,x:null,X:null,y:Zm,Y:Qm,Z:ep,"%":cs},E={a:le,A:ce,b:de,B:m,c:null,d:ls,e:ls,f:ap,g:mp,G:gp,H:tp,I:np,j:rp,L:wl,m:op,M:ip,p:W,q:ye,Q:us,s:fs,S:sp,u:lp,U:cp,V:up,w:fp,W:dp,x:null,X:null,y:hp,Y:pp,Z:yp,"%":cs},y={a:$,A:M,b:I,B:R,c:U,d:os,e:os,f:Im,g:as,G:rs,H:is,I:is,j:Pm,L:Dm,m:Em,M:Lm,p:k,q:Mm,Q:Om,s:Hm,S:qm,u:Cm,U:km,V:Tm,w:wm,W:Sm,x:Q,X:F,y:as,Y:rs,Z:Am,"%":Nm};P.x=w(n,P),P.X=w(r,P),P.c=w(t,P),E.x=w(n,E),E.X=w(r,E),E.c=w(t,E);function w(j,te){return function(re){var V=[],D=-1,Y=0,pe=j.length,ue,H,he;for(re instanceof Date||(re=new Date(+re));++D<pe;)j.charCodeAt(D)===37&&(V.push(j.slice(Y,D)),(H=ns[ue=j.charAt(++D)])!=null?ue=j.charAt(++D):H=ue==="e"?" ":"0",(he=te[ue])&&(ue=he(re,H)),V.push(ue),Y=D+1);return V.push(j.slice(Y,D)),V.join("")}}function A(j,te){return function(re){var V=cr(1900,void 0,1),D=N(V,j,re+="",0),Y,pe;if(D!=re.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(te&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Y=Ka(cr(V.y,0,1)),pe=Y.getUTCDay(),Y=pe>4||pe===0?Ta.ceil(Y):Ta(Y),Y=No.offset(Y,(V.V-1)*7),V.y=Y.getUTCFullYear(),V.m=Y.getUTCMonth(),V.d=Y.getUTCDate()+(V.w+6)%7):(Y=Za(cr(V.y,0,1)),pe=Y.getDay(),Y=pe>4||pe===0?ka.ceil(Y):ka(Y),Y=Ha.offset(Y,(V.V-1)*7),V.y=Y.getFullYear(),V.m=Y.getMonth(),V.d=Y.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),pe="Z"in V?Ka(cr(V.y,0,1)).getUTCDay():Za(cr(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(pe+5)%7:V.w+V.U*7-(pe+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Ka(V)):Za(V)}}function N(j,te,re,V){for(var D=0,Y=te.length,pe=re.length,ue,H;D<Y;){if(V>=pe)return-1;if(ue=te.charCodeAt(D++),ue===37){if(ue=te.charAt(D++),H=y[ue in ns?te.charAt(D++):ue],!H||(V=H(j,re,V))<0)return-1}else if(ue!=re.charCodeAt(V++))return-1}return V}function k(j,te,re){var V=c.exec(te.slice(re));return V?(j.p=u[V[0].toLowerCase()],re+V[0].length):-1}function $(j,te,re){var V=h.exec(te.slice(re));return V?(j.w=_[V[0].toLowerCase()],re+V[0].length):-1}function M(j,te,re){var V=f.exec(te.slice(re));return V?(j.w=d[V[0].toLowerCase()],re+V[0].length):-1}function I(j,te,re){var V=S.exec(te.slice(re));return V?(j.m=T[V[0].toLowerCase()],re+V[0].length):-1}function R(j,te,re){var V=g.exec(te.slice(re));return V?(j.m=q[V[0].toLowerCase()],re+V[0].length):-1}function U(j,te,re){return N(j,t,te,re)}function Q(j,te,re){return N(j,n,te,re)}function F(j,te,re){return N(j,r,te,re)}function K(j){return i[j.getDay()]}function L(j){return o[j.getDay()]}function O(j){return l[j.getMonth()]}function G(j){return s[j.getMonth()]}function se(j){return a[+(j.getHours()>=12)]}function B(j){return 1+~~(j.getMonth()/3)}function le(j){return i[j.getUTCDay()]}function ce(j){return o[j.getUTCDay()]}function de(j){return l[j.getUTCMonth()]}function m(j){return s[j.getUTCMonth()]}function W(j){return a[+(j.getUTCHours()>=12)]}function ye(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var te=w(j+="",P);return te.toString=function(){return j},te},parse:function(j){var te=A(j+="",!1);return te.toString=function(){return j},te},utcFormat:function(j){var te=w(j+="",E);return te.toString=function(){return j},te},utcParse:function(j){var te=A(j+="",!0);return te.toString=function(){return j},te}}}var ns={"-":"",_:" ",0:"0"},Qe=/^\s*\d+/,_m=/^%/,bm=/[\\^$*+?|[\]().{}]/g;function Le(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function xm(e){return e.replace(bm,"\\$&")}function ur(e){return new RegExp("^(?:"+e.map(xm).join("|")+")","i")}function fr(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function wm(e,t,n){var r=Qe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Cm(e,t,n){var r=Qe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function km(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Tm(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Sm(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rs(e,t,n){var r=Qe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function as(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Am(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mm(e,t,n){var r=Qe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Em(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function os(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Pm(e,t,n){var r=Qe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function is(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Lm(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function qm(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Dm(e,t,n){var r=Qe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Im(e,t,n){var r=Qe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Nm(e,t,n){var r=_m.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Om(e,t,n){var r=Qe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Hm(e,t,n){var r=Qe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ss(e,t){return Le(e.getDate(),t,2)}function Rm(e,t){return Le(e.getHours(),t,2)}function Fm(e,t){return Le(e.getHours()%12||12,t,2)}function $m(e,t){return Le(1+Ha.count(pn(e),e),t,3)}function bl(e,t){return Le(e.getMilliseconds(),t,3)}function Vm(e,t){return bl(e,t)+"000"}function Bm(e,t){return Le(e.getMonth()+1,t,2)}function Um(e,t){return Le(e.getMinutes(),t,2)}function zm(e,t){return Le(e.getSeconds(),t,2)}function Ym(e){var t=e.getDay();return t===0?7:t}function Wm(e,t){return Le(Io.count(pn(e)-1,e),t,2)}function xl(e){var t=e.getDay();return t>=4||t===0?Jn(e):Jn.ceil(e)}function Gm(e,t){return e=xl(e),Le(Jn.count(pn(e),e)+(pn(e).getDay()===4),t,2)}function jm(e){return e.getDay()}function Xm(e,t){return Le(ka.count(pn(e)-1,e),t,2)}function Zm(e,t){return Le(e.getFullYear()%100,t,2)}function Km(e,t){return e=xl(e),Le(e.getFullYear()%100,t,2)}function Qm(e,t){return Le(e.getFullYear()%1e4,t,4)}function Jm(e,t){var n=e.getDay();return e=n>=4||n===0?Jn(e):Jn.ceil(e),Le(e.getFullYear()%1e4,t,4)}function ep(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Le(t/60|0,"0",2)+Le(t%60,"0",2)}function ls(e,t){return Le(e.getUTCDate(),t,2)}function tp(e,t){return Le(e.getUTCHours(),t,2)}function np(e,t){return Le(e.getUTCHours()%12||12,t,2)}function rp(e,t){return Le(1+No.count(Mn(e),e),t,3)}function wl(e,t){return Le(e.getUTCMilliseconds(),t,3)}function ap(e,t){return wl(e,t)+"000"}function op(e,t){return Le(e.getUTCMonth()+1,t,2)}function ip(e,t){return Le(e.getUTCMinutes(),t,2)}function sp(e,t){return Le(e.getUTCSeconds(),t,2)}function lp(e){var t=e.getUTCDay();return t===0?7:t}function cp(e,t){return Le(_l.count(Mn(e)-1,e),t,2)}function Cl(e){var t=e.getUTCDay();return t>=4||t===0?er(e):er.ceil(e)}function up(e,t){return e=Cl(e),Le(er.count(Mn(e),e)+(Mn(e).getUTCDay()===4),t,2)}function fp(e){return e.getUTCDay()}function dp(e,t){return Le(Ta.count(Mn(e)-1,e),t,2)}function hp(e,t){return Le(e.getUTCFullYear()%100,t,2)}function mp(e,t){return e=Cl(e),Le(e.getUTCFullYear()%100,t,2)}function pp(e,t){return Le(e.getUTCFullYear()%1e4,t,4)}function gp(e,t){var n=e.getUTCDay();return e=n>=4||n===0?er(e):er.ceil(e),Le(e.getUTCFullYear()%1e4,t,4)}function yp(){return"+0000"}function cs(){return"%"}function us(e){return+e}function fs(e){return Math.floor(+e/1e3)}var Vn,kl,Oo;vp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vp(e){return Vn=vm(e),kl=Vn.format,Oo=Vn.parse,Vn.utcFormat,Vn.utcParse,Vn}var _r=1e3,br=_r*60,xr=br*60,qr=xr*24,_p=qr*7,ds=qr*30,Qa=qr*365;function bp(e){return new Date(e)}function xp(e){return e instanceof Date?+e:+new Date(+e)}function Tl(e,t,n,r,a,o,i,s,l){var c=fl(Ut,Ut),u=c.invert,f=c.domain,d=l(".%L"),h=l(":%S"),_=l("%I:%M"),g=l("%I %p"),q=l("%a %d"),S=l("%b %d"),T=l("%B"),P=l("%Y"),E=[[i,1,_r],[i,5,5*_r],[i,15,15*_r],[i,30,30*_r],[o,1,br],[o,5,5*br],[o,15,15*br],[o,30,30*br],[a,1,xr],[a,3,3*xr],[a,6,6*xr],[a,12,12*xr],[r,1,qr],[r,2,2*qr],[n,1,_p],[t,1,ds],[t,3,3*ds],[e,1,Qa]];function y(A){return(i(A)<A?d:o(A)<A?h:a(A)<A?_:r(A)<A?g:t(A)<A?n(A)<A?q:S:e(A)<A?T:P)(A)}function w(A,N,k,$){if(A==null&&(A=10),typeof A=="number"){var M=Math.abs(k-N)/A,I=sl(function(R){return R[2]}).right(E,M);I===E.length?($=yo(N/Qa,k/Qa,A),A=e):I?(I=E[M/E[I-1][2]<E[I][2]/M?I-1:I],$=I[1],A=I[0]):($=Math.max(yo(N,k,A),1),A=s)}return $==null?A:A.every($)}return c.invert=function(A){return new Date(u(A))},c.domain=function(A){return arguments.length?f(cl.call(A,xp)):f().map(bp)},c.ticks=function(A,N){var k=f(),$=k[0],M=k[k.length-1],I=M<$,R;return I&&(R=$,$=M,M=R),R=w(A,$,M,N),R=R?R.range($,M+1):[],I?R.reverse():R},c.tickFormat=function(A,N){return N==null?y:l(N)},c.nice=function(A,N){var k=f();return(A=w(A,k[0],k[k.length-1],N))?f(cm(k,A)):c},c.copy=function(){return ul(c,Tl(e,t,n,r,a,o,i,s,l))},c}function Sl(){return Oa.apply(Tl(pn,vl,Io,Ha,yl,gl,pl,wa,kl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wp(){var e=0,t=1,n,r,a,o,i=Ut,s=!1,l;function c(u){return isNaN(u=+u)?l:i(a===0?.5:(u=(o(u)-n)*a,s?Math.max(0,Math.min(1,u)):u))}return c.domain=function(u){return arguments.length?(n=o(e=+u[0]),r=o(t=+u[1]),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(u){return arguments.length?(s=!!u,c):s},c.interpolator=function(u){return arguments.length?(i=u,c):i},c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,n=u(e),r=u(t),a=n===r?0:1/(r-n),c}}function Cp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Al(){var e=dl(wp()(Ut));return e.copy=function(){return Cp(e,Al())},nm.apply(e,arguments)}function Ho(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Ml=Ho("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function El(e){return Qf(e[e.length-1])}var Pl=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ho);El(Pl);var kp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ho);const Tp=El(kp);function Se(e){return function(){return e}}var hs=Math.abs,nt=Math.atan2,wn=Math.cos,Sp=Math.max,Ja=Math.min,$t=Math.sin,Bn=Math.sqrt,mt=1e-12,Dr=Math.PI,Sa=Dr/2,ca=2*Dr;function Ap(e){return e>1?0:e<-1?Dr:Math.acos(e)}function ms(e){return e>=1?Sa:e<=-1?-Sa:Math.asin(e)}function Mp(e){return e.innerRadius}function Ep(e){return e.outerRadius}function Pp(e){return e.startAngle}function Lp(e){return e.endAngle}function qp(e){return e&&e.padAngle}function Dp(e,t,n,r,a,o,i,s){var l=n-e,c=r-t,u=i-a,f=s-o,d=f*l-u*c;if(!(d*d<mt))return d=(u*(t-o)-f*(e-a))/d,[e+d*l,t+d*c]}function ta(e,t,n,r,a,o,i){var s=e-n,l=t-r,c=(i?o:-o)/Bn(s*s+l*l),u=c*l,f=-c*s,d=e+u,h=t+f,_=n+u,g=r+f,q=(d+_)/2,S=(h+g)/2,T=_-d,P=g-h,E=T*T+P*P,y=a-o,w=d*g-_*h,A=(P<0?-1:1)*Bn(Sp(0,y*y*E-w*w)),N=(w*P-T*A)/E,k=(-w*T-P*A)/E,$=(w*P+T*A)/E,M=(-w*T+P*A)/E,I=N-q,R=k-S,U=$-q,Q=M-S;return I*I+R*R>U*U+Q*Q&&(N=$,k=M),{cx:N,cy:k,x01:-u,y01:-f,x11:N*(a/y-1),y11:k*(a/y-1)}}function Ip(){var e=Mp,t=Ep,n=Se(0),r=null,a=Pp,o=Lp,i=qp,s=null;function l(){var c,u,f=+e.apply(this,arguments),d=+t.apply(this,arguments),h=a.apply(this,arguments)-Sa,_=o.apply(this,arguments)-Sa,g=hs(_-h),q=_>h;if(s||(s=c=Na()),d<f&&(u=d,d=f,f=u),!(d>mt))s.moveTo(0,0);else if(g>ca-mt)s.moveTo(d*wn(h),d*$t(h)),s.arc(0,0,d,h,_,!q),f>mt&&(s.moveTo(f*wn(_),f*$t(_)),s.arc(0,0,f,_,h,q));else{var S=h,T=_,P=h,E=_,y=g,w=g,A=i.apply(this,arguments)/2,N=A>mt&&(r?+r.apply(this,arguments):Bn(f*f+d*d)),k=Ja(hs(d-f)/2,+n.apply(this,arguments)),$=k,M=k,I,R;if(N>mt){var U=ms(N/f*$t(A)),Q=ms(N/d*$t(A));(y-=U*2)>mt?(U*=q?1:-1,P+=U,E-=U):(y=0,P=E=(h+_)/2),(w-=Q*2)>mt?(Q*=q?1:-1,S+=Q,T-=Q):(w=0,S=T=(h+_)/2)}var F=d*wn(S),K=d*$t(S),L=f*wn(E),O=f*$t(E);if(k>mt){var G=d*wn(T),se=d*$t(T),B=f*wn(P),le=f*$t(P),ce;if(g<Dr&&(ce=Dp(F,K,B,le,G,se,L,O))){var de=F-ce[0],m=K-ce[1],W=G-ce[0],ye=se-ce[1],j=1/$t(Ap((de*W+m*ye)/(Bn(de*de+m*m)*Bn(W*W+ye*ye)))/2),te=Bn(ce[0]*ce[0]+ce[1]*ce[1]);$=Ja(k,(f-te)/(j-1)),M=Ja(k,(d-te)/(j+1))}}w>mt?M>mt?(I=ta(B,le,F,K,d,M,q),R=ta(G,se,L,O,d,M,q),s.moveTo(I.cx+I.x01,I.cy+I.y01),M<k?s.arc(I.cx,I.cy,M,nt(I.y01,I.x01),nt(R.y01,R.x01),!q):(s.arc(I.cx,I.cy,M,nt(I.y01,I.x01),nt(I.y11,I.x11),!q),s.arc(0,0,d,nt(I.cy+I.y11,I.cx+I.x11),nt(R.cy+R.y11,R.cx+R.x11),!q),s.arc(R.cx,R.cy,M,nt(R.y11,R.x11),nt(R.y01,R.x01),!q))):(s.moveTo(F,K),s.arc(0,0,d,S,T,!q)):s.moveTo(F,K),!(f>mt)||!(y>mt)?s.lineTo(L,O):$>mt?(I=ta(L,O,G,se,f,-$,q),R=ta(F,K,B,le,f,-$,q),s.lineTo(I.cx+I.x01,I.cy+I.y01),$<k?s.arc(I.cx,I.cy,$,nt(I.y01,I.x01),nt(R.y01,R.x01),!q):(s.arc(I.cx,I.cy,$,nt(I.y01,I.x01),nt(I.y11,I.x11),!q),s.arc(0,0,f,nt(I.cy+I.y11,I.cx+I.x11),nt(R.cy+R.y11,R.cx+R.x11),q),s.arc(R.cx,R.cy,$,nt(R.y11,R.x11),nt(R.y01,R.x01),!q))):s.arc(0,0,f,E,P,q)}if(s.closePath(),c)return s=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Dr/2;return[wn(u)*c,$t(u)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Se(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Se(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Se(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Se(+c),l):r},l.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Se(+c),l):a},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Se(+c),l):o},l.padAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Se(+c),l):i},l.context=function(c){return arguments.length?(s=c??null,l):s},l}function Ll(e){this._context=e}Ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ql(e){return new Ll(e)}function Dl(e){return e[0]}function Il(e){return e[1]}function Aa(){var e=Dl,t=Il,n=Se(!0),r=null,a=ql,o=null;function i(s){var l,c=s.length,u,f=!1,d;for(r==null&&(o=a(d=Na())),l=0;l<=c;++l)!(l<c&&n(u=s[l],l,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,l,s),+t(u,l,s));if(d)return o=null,d+""||null}return i.x=function(s){return arguments.length?(e=typeof s=="function"?s:Se(+s),i):e},i.y=function(s){return arguments.length?(t=typeof s=="function"?s:Se(+s),i):t},i.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Se(!!s),i):n},i.curve=function(s){return arguments.length?(a=s,r!=null&&(o=a(r)),i):a},i.context=function(s){return arguments.length?(s==null?r=o=null:o=a(r=s),i):r},i}function Np(){var e=Dl,t=null,n=Se(0),r=Il,a=Se(!0),o=null,i=ql,s=null;function l(u){var f,d,h,_=u.length,g,q=!1,S,T=new Array(_),P=new Array(_);for(o==null&&(s=i(S=Na())),f=0;f<=_;++f){if(!(f<_&&a(g=u[f],f,u))===q)if(q=!q)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=f-1;h>=d;--h)s.point(T[h],P[h]);s.lineEnd(),s.areaEnd()}q&&(T[f]=+e(g,f,u),P[f]=+n(g,f,u),s.point(t?+t(g,f,u):T[f],r?+r(g,f,u):P[f]))}if(S)return s=null,S+""||null}function c(){return Aa().defined(a).curve(i).context(o)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Se(+u),t=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Se(+u),l):e},l.x1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:Se(+u),l):t},l.y=function(u){return arguments.length?(n=typeof u=="function"?u:Se(+u),r=null,l):n},l.y0=function(u){return arguments.length?(n=typeof u=="function"?u:Se(+u),l):n},l.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Se(+u),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(n)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(t).y(n)},l.defined=function(u){return arguments.length?(a=typeof u=="function"?u:Se(!!u),l):a},l.curve=function(u){return arguments.length?(i=u,o!=null&&(s=i(o)),l):i},l.context=function(u){return arguments.length?(u==null?o=s=null:s=i(o=u),l):o},l}function Op(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Hp(e){return e}function Rp(){var e=Hp,t=Op,n=null,r=Se(0),a=Se(ca),o=Se(0);function i(s){var l,c=s.length,u,f,d=0,h=new Array(c),_=new Array(c),g=+r.apply(this,arguments),q=Math.min(ca,Math.max(-ca,a.apply(this,arguments)-g)),S,T=Math.min(Math.abs(q)/c,o.apply(this,arguments)),P=T*(q<0?-1:1),E;for(l=0;l<c;++l)(E=_[h[l]=l]=+e(s[l],l,s))>0&&(d+=E);for(t!=null?h.sort(function(y,w){return t(_[y],_[w])}):n!=null&&h.sort(function(y,w){return n(s[y],s[w])}),l=0,f=d?(q-c*P)/d:0;l<c;++l,g=S)u=h[l],E=_[u],S=g+(E>0?E*f:0)+P,_[u]={data:s[u],index:l,value:E,startAngle:g,endAngle:S,padAngle:T};return _}return i.value=function(s){return arguments.length?(e=typeof s=="function"?s:Se(+s),i):e},i.sortValues=function(s){return arguments.length?(t=s,n=null,i):t},i.sort=function(s){return arguments.length?(n=s,t=null,i):n},i.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Se(+s),i):r},i.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:Se(+s),i):a},i.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:Se(+s),i):o},i}var ps=Array.prototype.slice;function gs(e,t){if((i=e.length)>1)for(var n=1,r,a,o=e[t[0]],i,s=o.length;n<i;++n)for(a=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function ys(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Fp(e,t){return e[t]}function Nl(){var e=Se([]),t=ys,n=gs,r=Fp;function a(o){var i=e.apply(this,arguments),s,l=o.length,c=i.length,u=new Array(c),f;for(s=0;s<c;++s){for(var d=i[s],h=u[s]=new Array(l),_=0,g;_<l;++_)h[_]=g=[0,+r(o[_],d,_,o)],g.data=o[_];h.key=d}for(s=0,f=t(u);s<c;++s)u[f[s]].index=s;return n(u,f),u}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Se(ps.call(o)),a):e},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:Se(+o),a):r},a.order=function(o){return arguments.length?(t=o==null?ys:typeof o=="function"?o:Se(ps.call(o)),a):t},a.offset=function(o){return arguments.length?(n=o??gs,a):n},a}function Ma(){this._=null}function Ra(e){e.U=e.C=e.L=e.R=e.P=e.N=null}Ma.prototype={constructor:Ma,insert:function(e,t){var n,r,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=vs(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(a=r.R,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.R&&(dr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,hr(this,r))):(a=r.L,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.L&&(hr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,dr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,r=e.L,a=e.R,o,i;if(r?a?o=vs(a):o=r:o=a,t?t.L===e?t.L=o:t.R=o:this._=o,r&&a?(i=o.C,o.C=e.C,o.L=r,r.U=o,o!==a?(t=o.U,o.U=e.U,e=o.R,t.L=e,o.R=a,a.U=o):(o.U=t,t=o,e=o.R)):(i=e.C,e=o),e&&(e.U=t),!i){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,dr(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,hr(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,dr(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,hr(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,dr(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,hr(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function dr(e,t){var n=t,r=t.R,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function hr(e,t){var n=t,r=t.L,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function vs(e){for(;e.L;)e=e.L;return e}function wr(e,t,n,r){var a=[null,null],o=at.push(a)-1;return a.left=e,a.right=t,n&&Ea(a,e,t,n),r&&Ea(a,t,e,r),vt[e.index].halfedges.push(o),vt[t.index].halfedges.push(o),a}function mr(e,t,n){var r=[t,n];return r.left=e,r}function Ea(e,t,n,r){!e[0]&&!e[1]?(e[0]=r,e.left=t,e.right=n):e.left===n?e[1]=r:e[0]=r}function $p(e,t,n,r,a){var o=e[0],i=e[1],s=o[0],l=o[1],c=i[0],u=i[1],f=0,d=1,h=c-s,_=u-l,g;if(g=t-s,!(!h&&g>0)){if(g/=h,h<0){if(g<f)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>f&&(f=g)}if(g=r-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<d&&(d=g)}if(g=n-l,!(!_&&g>0)){if(g/=_,_<0){if(g<f)return;g<d&&(d=g)}else if(_>0){if(g>d)return;g>f&&(f=g)}if(g=a-l,!(!_&&g<0)){if(g/=_,_<0){if(g>d)return;g>f&&(f=g)}else if(_>0){if(g<f)return;g<d&&(d=g)}return!(f>0)&&!(d<1)||(f>0&&(e[0]=[s+f*h,l+f*_]),d<1&&(e[1]=[s+d*h,l+d*_])),!0}}}}}function Vp(e,t,n,r,a){var o=e[1];if(o)return!0;var i=e[0],s=e.left,l=e.right,c=s[0],u=s[1],f=l[0],d=l[1],h=(c+f)/2,_=(u+d)/2,g,q;if(d===u){if(h<t||h>=r)return;if(c>f){if(!i)i=[h,n];else if(i[1]>=a)return;o=[h,a]}else{if(!i)i=[h,a];else if(i[1]<n)return;o=[h,n]}}else if(g=(c-f)/(d-u),q=_-g*h,g<-1||g>1)if(c>f){if(!i)i=[(n-q)/g,n];else if(i[1]>=a)return;o=[(a-q)/g,a]}else{if(!i)i=[(a-q)/g,a];else if(i[1]<n)return;o=[(n-q)/g,n]}else if(u<d){if(!i)i=[t,g*t+q];else if(i[0]>=r)return;o=[r,g*r+q]}else{if(!i)i=[r,g*r+q];else if(i[0]<t)return;o=[t,g*t+q]}return e[0]=i,e[1]=o,!0}function Bp(e,t,n,r){for(var a=at.length,o;a--;)(!Vp(o=at[a],e,t,n,r)||!$p(o,e,t,n,r)||!(Math.abs(o[0][0]-o[1][0])>Ve||Math.abs(o[0][1]-o[1][1])>Ve))&&delete at[a]}function Up(e){return vt[e.index]={site:e,halfedges:[]}}function zp(e,t){var n=e.site,r=t.left,a=t.right;return n===a&&(a=r,r=n),a?Math.atan2(a[1]-r[1],a[0]-r[0]):(n===r?(r=t[1],a=t[0]):(r=t[0],a=t[1]),Math.atan2(r[0]-a[0],a[1]-r[1]))}function Ol(e,t){return t[+(t.left!==e.site)]}function Yp(e,t){return t[+(t.left===e.site)]}function Wp(){for(var e=0,t=vt.length,n,r,a,o;e<t;++e)if((n=vt[e])&&(o=(r=n.halfedges).length)){var i=new Array(o),s=new Array(o);for(a=0;a<o;++a)i[a]=a,s[a]=zp(n,at[r[a]]);for(i.sort(function(l,c){return s[c]-s[l]}),a=0;a<o;++a)s[a]=r[i[a]];for(a=0;a<o;++a)r[a]=s[a]}}function Gp(e,t,n,r){var a=vt.length,o,i,s,l,c,u,f,d,h,_,g,q,S=!0;for(o=0;o<a;++o)if(i=vt[o]){for(s=i.site,c=i.halfedges,l=c.length;l--;)at[c[l]]||c.splice(l,1);for(l=0,u=c.length;l<u;)_=Yp(i,at[c[l]]),g=_[0],q=_[1],f=Ol(i,at[c[++l%u]]),d=f[0],h=f[1],(Math.abs(g-d)>Ve||Math.abs(q-h)>Ve)&&(c.splice(l,0,at.push(mr(s,_,Math.abs(g-e)<Ve&&r-q>Ve?[e,Math.abs(d-e)<Ve?h:r]:Math.abs(q-r)<Ve&&n-g>Ve?[Math.abs(h-r)<Ve?d:n,r]:Math.abs(g-n)<Ve&&q-t>Ve?[n,Math.abs(d-n)<Ve?h:t]:Math.abs(q-t)<Ve&&g-e>Ve?[Math.abs(h-t)<Ve?d:e,t]:null))-1),++u);u&&(S=!1)}if(S){var T,P,E,y=1/0;for(o=0,S=null;o<a;++o)(i=vt[o])&&(s=i.site,T=s[0]-e,P=s[1]-t,E=T*T+P*P,E<y&&(y=E,S=i));if(S){var w=[e,t],A=[e,r],N=[n,r],k=[n,t];S.halfedges.push(at.push(mr(s=S.site,w,A))-1,at.push(mr(s,A,N))-1,at.push(mr(s,N,k))-1,at.push(mr(s,k,w))-1)}}for(o=0;o<a;++o)(i=vt[o])&&(i.halfedges.length||delete vt[o])}var Hl=[],Ro;function jp(){Ra(this),this.x=this.y=this.arc=this.site=this.cy=null}function Un(e){var t=e.P,n=e.N;if(!(!t||!n)){var r=t.site,a=e.site,o=n.site;if(r!==o){var i=a[0],s=a[1],l=r[0]-i,c=r[1]-s,u=o[0]-i,f=o[1]-s,d=2*(l*f-c*u);if(!(d>=-Jp)){var h=l*l+c*c,_=u*u+f*f,g=(f*h-c*_)/d,q=(l*_-u*h)/d,S=Hl.pop()||new jp;S.arc=e,S.site=a,S.x=g+i,S.y=(S.cy=q+s)+Math.sqrt(g*g+q*q),e.circle=S;for(var T=null,P=Ir._;P;)if(S.y<P.y||S.y===P.y&&S.x<=P.x)if(P.L)P=P.L;else{T=P.P;break}else if(P.R)P=P.R;else{T=P;break}Ir.insert(T,S),T||(Ro=S)}}}}function Wn(e){var t=e.circle;t&&(t.P||(Ro=t.N),Ir.remove(t),Hl.push(t),Ra(t),e.circle=null)}var Rl=[];function Xp(){Ra(this),this.edge=this.site=this.circle=null}function _s(e){var t=Rl.pop()||new Xp;return t.site=e,t}function eo(e){Wn(e),Gn.remove(e),Rl.push(e),Ra(e)}function Zp(e){var t=e.circle,n=t.x,r=t.cy,a=[n,r],o=e.P,i=e.N,s=[e];eo(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ve&&Math.abs(r-l.circle.cy)<Ve;)o=l.P,s.unshift(l),eo(l),l=o;s.unshift(l),Wn(l);for(var c=i;c.circle&&Math.abs(n-c.circle.x)<Ve&&Math.abs(r-c.circle.cy)<Ve;)i=c.N,s.push(c),eo(c),c=i;s.push(c),Wn(c);var u=s.length,f;for(f=1;f<u;++f)c=s[f],l=s[f-1],Ea(c.edge,l.site,c.site,a);l=s[0],c=s[u-1],c.edge=wr(l.site,c.site,null,a),Un(l),Un(c)}function Kp(e){for(var t=e[0],n=e[1],r,a,o,i,s=Gn._;s;)if(o=Fl(s,n)-t,o>Ve)s=s.L;else if(i=t-Qp(s,n),i>Ve){if(!s.R){r=s;break}s=s.R}else{o>-Ve?(r=s.P,a=s):i>-Ve?(r=s,a=s.N):r=a=s;break}Up(e);var l=_s(e);if(Gn.insert(r,l),!(!r&&!a)){if(r===a){Wn(r),a=_s(r.site),Gn.insert(l,a),l.edge=a.edge=wr(r.site,l.site),Un(r),Un(a);return}if(!a){l.edge=wr(r.site,l.site);return}Wn(r),Wn(a);var c=r.site,u=c[0],f=c[1],d=e[0]-u,h=e[1]-f,_=a.site,g=_[0]-u,q=_[1]-f,S=2*(d*q-h*g),T=d*d+h*h,P=g*g+q*q,E=[(q*T-h*P)/S+u,(d*P-g*T)/S+f];Ea(a.edge,c,_,E),l.edge=wr(c,e,null,E),a.edge=wr(e,_,null,E),Un(r),Un(a)}}function Fl(e,t){var n=e.site,r=n[0],a=n[1],o=a-t;if(!o)return r;var i=e.P;if(!i)return-1/0;n=i.site;var s=n[0],l=n[1],c=l-t;if(!c)return s;var u=s-r,f=1/o-1/c,d=u/c;return f?(-d+Math.sqrt(d*d-2*f*(u*u/(-2*c)-l+c/2+a-o/2)))/f+r:(r+s)/2}function Qp(e,t){var n=e.N;if(n)return Fl(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var Ve=1e-6,Jp=1e-12,Gn,vt,Ir,at;function eg(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function tg(e,t){return t[1]-e[1]||t[0]-e[0]}function bs(e,t){var n=e.sort(tg).pop(),r,a,o;for(at=[],vt=new Array(e.length),Gn=new Ma,Ir=new Ma;;)if(o=Ro,n&&(!o||n[1]<o.y||n[1]===o.y&&n[0]<o.x))(n[0]!==r||n[1]!==a)&&(Kp(n),r=n[0],a=n[1]),n=e.pop();else if(o)Zp(o.arc);else break;if(Wp(),t){var i=+t[0][0],s=+t[0][1],l=+t[1][0],c=+t[1][1];Bp(i,s,l,c),Gp(i,s,l,c)}this.edges=at,this.cells=vt,Gn=Ir=at=vt=null}bs.prototype={constructor:bs,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return Ol(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(s=(o=n.halfedges).length)for(var a=n.site,o,i=-1,s,l,c=t[o[s-1]],u=c.left===a?c.right:c.left;++i<s;)l=u,c=t[o[i]],u=c.left===a?c.right:c.left,l&&u&&r<l.index&&r<u.index&&eg(a,l,u)<0&&e.push([a.data,l.data,u.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r=this,a,o=r._found||0,i=r.cells.length,s;!(s=r.cells[o]);)if(++o>=i)return null;var l=e-s.site[0],c=t-s.site[1],u=l*l+c*c;do s=r.cells[a=o],o=null,s.halfedges.forEach(function(f){var d=r.edges[f],h=d.left;if(!((h===s.site||!h)&&!(h=d.right))){var _=e-h[0],g=t-h[1],q=_*_+g*g;q<u&&(u=q,o=h.index)}});while(o!==null);return r._found=a,n==null||u<=n*n?s.site:null}};function Cr(e,t,n){this.k=e,this.x=t,this.y=n}Cr.prototype={constructor:Cr,scale:function(e){return e===1?this:new Cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Cr.prototype;class na{constructor(t,n,r,a,o){let i;typeof t=="string"?i=document.querySelector(t):i=t,i.innerHTML="",Re(i).attr("chart_type","PieExploded"),i.classList.add("PieExploded"),i.classList.add("d3chart"),i.classList.add("chart_container"),this.container=Re(i);const s=700,l=500,c=20,u=40,f=170,d=110,h=this.container.append("svg").attr("width",s).attr("height",l).attr("viewBox",[0,0,s,l]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let _=.4,g=Math.min(s-d-u,l-c-f)/2,q=g+d,S=80,T=50,P=100,E=16,y=u,w=l-f/3,A=s/2,N=c/3,k={M:" million",G:" billion",T:" trillion"},$=lt(Ml);const M=(H,he)=>Array(he-H+1).fill().map(($e,ke)=>H+ke);var I=Al(Tp).domain([0,30]),R=M(5,20).map(H=>I(H)),U=lt().range(R);let Q=ua(n,H=>H.value);var F=ua(n,H=>H.exploded?H.value:0),K=F/Q,L=Math.PI*2*(K/2),O=Math.PI*.5-L;let G=Rp().startAngle(O).endAngle(Math.PI*2+O).sort((H,he)=>H.exploded<he.exploded?1:-1).value(H=>H.value),se=Ip().innerRadius(g*_).outerRadius(g).cornerRadius(5),B=this.container.append("div").attr("class","d3tooltip").style("display","none");var le=G(n);le.forEach(H=>H.midAngle=tu([H.startAngle,H.endAngle])),le.forEach(H=>H.midAngle+=H.midAngle<=Math.PI*.5?Math.PI*2:0),le.forEach(H=>H.rightHalf=Math.sin(H.midAngle)>0),le.forEach(H=>H.topHalf=Math.cos(H.midAngle)>0),le.forEach(H=>H.quadrant=(H.topHalf?"N":"S")+(H.rightHalf?"E":"W")),le.forEach(H=>H.ascending=Math.sin(H.midAngle)>0==Math.cos(H.midAngle)>0?-1:1),le.forEach(H=>H.texty=Math.round(j(H.midAngle,g)[1])),le.forEach(H=>H.textx=H.rightHalf?Math.round(j(H.midAngle,g)[0])+T:Math.round(j(H.midAngle,g)[0])-P),le.sort((H,he)=>H.quadrant>he.quadrant?1:-1),le.sort(function(H,he){return H.quadrant==he.quadrant&&H.midAngle>he.midAngle?1*H.ascending:0}),le.forEach(function(H){H.elbowx=H.rightHalf?H.textx-T*te(H.textx):H.textx-P*te(H.textx)}),le.forEach(H=>H.elbowy=H.texty),le.sort((H,he)=>H.startAngle>he.startAngle?1:-1),le=le.sort(H=>H.data.exploded);let ce=h.append("g").attr("transform","translate("+q+","+l/2+")").selectAll("g").data(le).enter().append("g").attr("transform",H=>H.data.exploded?"translate("+S+" 0)":"translate(0 0)");ce.append("path").attr("class",H=>H.data.exploded?H.data.key:"non-PACTA").attr("d",se).attr("fill",H=>H.data.exploded?$(H.data.key):U(H.data.key)).attr("stroke","#d9e2e8").style("stroke-width","2px").style("opacity",1).on("mouseover",Y).on("mousemove",pe).on("mouseout",ue);var de=ce.filter(H=>H.data.exploded),m=de.append("polyline").attr("stroke","black").style("fill","none").attr("stroke-width",1).attr("points",H=>[j(H.midAngle,g),[H.elbowx,H.elbowy],[H.textx-2*te(H.textx),H.texty]]),W=de.append("text").attr("x",function(H){return H.textx}).attr("y",function(H){return H.texty}).attr("text-anchor",function(H){return H.rightHalf?"start":"end"}).text(H=>H.data.key_translation+" "+re(H.data.value/Q)).style("dominant-baseline","middle");const ye=.5;D(),h.append("text").attr("transform","translate("+[s-y,w]+")").text(re(F/Q)).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end").style("font-size","2em"),h.append("text").attr("transform","translate("+[s-y,w+30]+")").text(a).style("dominant-baseline","middle").style("text-anchor","end"),h.append("text").attr("transform","translate("+[s-A,N+30]+")").text(o).style("dominant-baseline","middle").style("text-anchor","middle").style("font-size","1.3em");function j(H,he){return[he*Math.sin(H),he*Math.cos(H)*-1]}function te(H){return H<0?-1:1}function re(H){return H<.001?"< 0.1%":We(".2p")(H)}function V(H){return We(".2s")(H).replace(/M/,k.M).replace(/G/,k.G).replace(/T/,k.T)+" "+r}function D(){let H,he,$e,ke,xe,Ne,qe,we,Ge;H=!1,W.each(function(Xe){he=Re(this),$e=he.attr("y"),W.each(function(je){ke=Re(this),xe=ke.attr("y"),Xe!=je&&he.attr("text-anchor")==ke.attr("text-anchor")&&(Ne=$e-xe,!(Math.abs(Ne)>E)&&(H=!0,qe=Ne>0?1:-1,we=qe*ye,he.attr("y",+$e+we),ke.attr("y",+xe-we)))})}),H&&(m.attr("points",function(Xe,je){return Ge=Re(W.nodes()[je]),[j(Xe.midAngle,g),[Xe.elbowx,Ge.attr("y")],[Xe.textx-2*te(Xe.textx),Ge.attr("y")]]}),setTimeout(D,20))}function Y(H){B.html(H.data.key_translation+"<br>"+V(H.data.value)+" ("+re(H.data.value/Q)+")").style("display","inline-block").style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function pe(){B.style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function ue(){B.style("display","none")}}}class xs{constructor(t,n,r,a,o){let i;typeof t=="string"?i=document.querySelector(t):i=t,i.innerHTML="",i.classList.add("d3chart"),i.classList.add("techexposure_chart"),i.classList.add("chart_container"),this.container=Re(i);const s=600,l=700,c=20,u=170,f=60,d=100,h=30,_=12,g=25;let q="This portfolio",S="Benchmark*",T=" of assets under management<br>",P={before_sec:" of ",after_sec:" sector"},E={before_sec:"Low-carbon ",after_sec:" technologies"},y={top:"Low-carbon technologies",bottom:"within a sector"};const w=this.container.append("svg").attr("width",s).attr("height",l).attr("viewBox",[0,0,s,l]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let A="Global Market",N=n.filter(D=>D.asset_class_translation==r).filter(D=>D.equity_market_translation==A).filter(D=>D.this_portfolio==!0|D.portfolio_name==a),k=N.filter(D=>D.this_portfolio).sort(function(D,Y){return Jc(D.cumsum+D.plan_carsten,Y.cumsum+Y.plan_carsten)}),$=ve(k,D=>D.ald_sector_translation).keys();N=N.filter(D=>$.includes(D.ald_sector_translation));let M=[];$.forEach(function(D){N.filter(pe=>pe.ald_sector_translation==D).forEach(function(pe){M.push(pe)})});let I=ko(M.map(D=>D.cumsum+D.plan_carsten))*1.05,R=hn().range([c,l-f]).domain($),U=hn().range([0,(h+_)*2]).domain([!0,!1]),Q=tn().range([0,s-u-d]).domain([0,I]).nice();w.append("g").attr("class","bars_group").attr("transform","translate("+d+",0)").selectAll("rect").data(M).enter().append("rect").attr("height",h).attr("class","bar").attr("class",D=>D.ald_sector+" "+D.technology).attr("transform",D=>"translate(0,"+R(D.ald_sector_translation)+")").attr("class",D=>D.ald_sector+" "+D.technology).attr("y",D=>U(D.this_portfolio)).attr("x",D=>Q(D.cumsum)).attr("width",D=>Q(D.plan_carsten)).on("mouseover",W).on("mouseout",te).on("mousemove",j),w.append("g").attr("class","green_group").attr("transform","translate("+d+",0)").selectAll("rect").data(M).enter().append("rect").attr("class","green_bar").attr("height",5).attr("fill","green").attr("transform",D=>"translate(0,"+R(D.ald_sector_translation)+")").attr("y",D=>U(D.this_portfolio)+h+2).attr("x",D=>Q(D.cumsum)).attr("width",D=>Q(D.plan_carsten)).attr("visibility",D=>D.green?"visible":"hidden").on("mouseover",ye).on("mouseout",te).on("mousemove",j),w.append("g").attr("class","sector_labels").attr("transform","translate("+d+", 0)").selectAll(".sector_label").data($).enter().append("text").attr("class","sector_label").style("alignment-baseline","bottom").style("text-anchor","middle").attr("fill","black").attr("font-size","0.8em").attr("transform",D=>"translate(0,"+R(D)+") translate(-5,"+(h+_/2)+") rotate(-90)").text(D=>D),w.append("g").attr("class","port_labels").attr("transform","translate("+d+", 0)").selectAll(".portfolio_label").data($.map(D=>[{ald_sector_translation:D,this_portfolio:!0},{ald_sector_translation:D,this_portfolio:!1}]).flat()).enter().append("text").attr("class","portfolio_label").style("alignment-baseline","central").style("text-anchor","end").attr("fill","black").attr("font-size","0.8em").text(D=>D.this_portfolio?q:S).attr("transform",D=>"translate(-"+g+","+R(D.ald_sector_translation)+")").attr("y",D=>U(D.this_portfolio)+h/2),I>=.04?w.append("g").attr("class","axis").attr("transform","translate("+d+","+(l-c-f+20)+")").call(Sn(Q).ticks(5).tickFormat(We(".0%"))):w.append("g").attr("class","axis").attr("transform","translate("+d+","+(l-c-f+20)+")").call(Sn(Q).ticks(5).tickFormat(We(".2%")));let F="*"+a;w.append("g").attr("class","footnote").attr("transform","translate("+(s-u)+","+(l-f/4)+")").selectAll(null).data([F]).enter().append("text").attr("x",0).attr("y",0).style("text-anchor","middle").style("alignment-baseline","central").style("font-size","0.8em").text(D=>D);let K=M.filter(D=>D.sector_prcnt>0).map(D=>(({ald_sector:Y,technology:pe,ald_sector_translation:ue,technology_translation:H})=>({ald_sector:Y,technology:pe,ald_sector_translation:ue,technology_translation:H}))(D)).filter((D,Y,pe)=>pe.findIndex(ue=>ue.ald_sector===D.ald_sector&&ue.technology===D.technology)===Y),L=re(K,o),O=ve(L,D=>D.ald_sector_translation).keys(),G=25;L.forEach(D=>{D.sector_shift=O.indexOf(D.ald_sector_translation)});let se=[];se[0]=0;for(var B=1;B<O.length;B++)se[B]=se[B-1]+L.filter(D=>D.ald_sector_translation===O[B-1]).length;let le=w.append("g").attr("class","legend_group").attr("transform","translate("+(s-d-65)+","+c+")");le.selectAll("rect").data(L).enter().append("rect").attr("width",12).attr("height",12).attr("class",D=>D.ald_sector+" "+D.technology).attr("x",0).attr("y",(D,Y)=>Y*17+D.sector_shift*G+20),le.selectAll("text").data(L).enter().append("text").text(D=>D.technology_translation).style("alignment-baseline","central").style("text-anchor","start").attr("font-size","0.8em").attr("x",25).attr("y",(D,Y)=>Y*17+6+D.sector_shift*G+20),le.append("g").attr("class","sector_labels_legend").selectAll("text").data(O).enter().append("text").text(D=>D).style("alignment-baseline","central").style("text-anchor","start").attr("font-size","0.8em").attr("x",0).attr("y",(D,Y)=>se[Y]*17+6+Y*G);let ce=w.append("g").attr("class","legend_group");if(M.find(D=>D.green==!0)!=null){let D=[{class:"green",sector_shift:L[L.length-1].sector_shift+1}],Y=[{text:y.top,sector_shift:L[L.length-1].sector_shift+1},{text:y.bottom,sector_shift:L[L.length-1].sector_shift+1}],pe=se[se.length-1]+L.filter(ue=>ue.ald_sector_translation===O[O.length-1]).length;ce.attr("transform","translate("+(s-d-65)+","+(5+pe*17+c)+")"),ce.selectAll("rect").data(D).enter().append("rect").attr("width",12).attr("height",12).attr("class",ue=>ue.class).attr("fill","green").attr("x",0).attr("y",(ue,H)=>H*17+ue.sector_shift*G+20),ce.selectAll("text").data(Y).enter().append("text").text(ue=>ue.text).style("alignment-baseline","top").style("text-anchor","start").attr("font-size","0.8em").attr("x",25).attr("y",(ue,H)=>H*14+5+ue.sector_shift*G+20)}const de=Re(i).append("div").attr("class","d3tooltip").style("display","none");function m(D){return D=Math.round((D+Number.EPSILON)*1e3)/10,D<.1?"< 0.1%":D+"%"}function W(D){de.html(V(D.technology)+"<br>"+m(D.plan_carsten)+T+m(D.sector_prcnt)+P.before_sec+D.ald_sector+P.after_sec).style("display","inline-block")}function ye(D){de.html(E.before_sec+V(D.ald_sector)+E.after_sec+"<br>"+m(D.green_sum)+T+m(D.green_prcnt)+P.before_sec+D.ald_sector+P.after_sec).style("display","inline-block")}function j(){de.style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function te(){de.style("display","none")}function re(D,Y){let pe=ve(D,he=>he.ald_sector).keys(),ue=ve(D,he=>he.technology).keys(),H=[];return pe.forEach(function(he){Y.filter(ke=>ke.sector==he)[0].tech_order.forEach(function(ke){if(ue.includes(ke)){let xe=D.findIndex(Ne=>Ne.ald_sector==he&&Ne.technology==ke);H.push(D[xe])}})}),D.length>H.length&&console.warn("Not all sector/technology pairs from the data were found in sector_order variable. The legend shown is incomplete. Please, amend the tech_order_in_sectors.json file. "),H}function V(D){switch(D){case"Electric":return"Electric";case"Hybrid":return"Hybrid";case"ICE":return"ICE";case"FuelCell":return"Fuel Cell";case"Freight":return"Freight";case"Mix":return"Mix";case"Passenger":return"Passenger";case"Grinding":return"Grinding";case"Integrated facility":return"Integrated facility";case"Coal":return"Coal";case"Gas":return"Gas";case"Oil":return"Oil";case"CoalCap":return"Coal Power";case"GasCap":return"Gas Power";case"HydroCap":return"Hydro Power";case"NuclearCap":return"Nuclear Power";case"OilCap":return"Oil Power";case"RenewablesCap":return"Renewables Power";case"Ac-Electric Arc Furnace":return"Ac-Electric Arc Furnace";case"Bof Shop":return"Bof Shop";case"Dc-Electric Arc Furnace":return"Dc-Electric Arc Furnace";case"Open Hearth Meltshop":return"Open Hearth Meltshop";default:return D}}}}function ng(e,t,n){n=typeof n>"u"?{}:n;var r=typeof n.columnsText>"u"?[1,6]:n.columnsText,a=typeof n.columnsNumeric>"u"?[2,5]:n.columnsNumeric,o=typeof n.columnsPercent>"u"?[3]:n.columnsPercent,i=typeof n.columnsShortText>"u"?[4]:n.columnsShortText,s=typeof n.columnValueBreakdown>"u"?5:n.columnValueBreakdown,l=typeof n.columnToMergeHeaderWithContent>"u"?5:n.columnToMergeHeaderWithContent,c=typeof n.columnToMergeHeaderNoContent>"u"?6:n.columnToMergeHeaderNoContent,u=Object.keys(e[0]);Re(t).selectAll("table").remove();var f=Re(t).attr("class","d3chart included_table").style("width","800px"),d=f.append("table"),h=d.append("thead"),_=d.append("tbody");h.append("tr").selectAll("th").data(u).enter().append("th").text(function(w){return w}).style("text-align","center"),l!=null&&c!=null&&(d.selectAll("thead th:nth-child("+l+")").attr("colspan",2),d.selectAll("thead th:nth-child("+c+")").remove());var g=_.selectAll("tr").data(e).enter().append("tr");g.selectAll("td").data(w=>u.map(A=>({value:w[A]}))).enter().append("td").html(w=>w.value).attr("border","none").style("text-align","left"),r.forEach(w=>P(w)),a.forEach(w=>{q(w),E(w)}),o.forEach(w=>{T(w),E(w)}),i.forEach(w=>y(w));function q(w){d.selectAll("tbody td:nth-child("+w+")").html(A=>S(A.value))}function S(w){return w==null?w:w<1e4&&w>-1e4?w>=0?"<0.01":">-0.01":We(",.2f")(w/1e6)}function T(w){d.selectAll("tbody td:nth-child("+w+")").html(A=>A.value==null?A.value:We(".0%")(A.value))}function P(w){d.selectAll("tbody td:nth-child("+w+")").style("text-align","left")}function E(w){d.selectAll("tbody td:nth-child("+w+")").style("text-align","right")}function y(w){d.selectAll("tbody td:nth-child("+w+")").style("text-align","center")}return d.selectAll("tbody tr:nth-child("+e.length+")").attr("class","summary_row"),s!=null&&(d.selectAll("thead th:nth-child("+s+")").attr("class","column_left_border"),d.selectAll("tbody td:nth-child("+s+")").attr("class","column_left_border")),d}function pt(){let e=document.createElement("div");e.setAttribute("role","alert");let t=document.createElement("div");t.classList="bg-red-500 text-white font-bold rounded-t px-4 py-2",t.appendChild(document.createTextNode("Something went wrong"));let n=document.createElement("div");return n.classList="border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700",n.appendChild(document.createTextNode("An error occurred while generating this plot.")),e.appendChild(t),e.appendChild(n),e}function rg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function ag(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function og(e){let t,n="Asset classes covered by the analysis";return{c(){t=b("h4"),t.textContent=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1gkgfdf"&&(t.textContent=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function ig(e){let t,n=`This analysis focuses on asset classes with a direct and measurable impact on the
								real economy, specifically investments in <strong>listed equities</strong> and
								<strong>corporate bonds</strong> on the secondary market. These asset classes
								represent the most accessible and reliable data sources for understanding portfolio
								alignment with climate transition goals.
								<br/> <br/>
								From the total market value of the portfolio, <strong>[X]%</strong> is allocated to
								equity investments, and <strong>[Y]%</strong> is allocated to corporate bonds.`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-1juj2in"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function sg(e){let t,n;return t=new gt({props:{$$slots:{content:[ig],summary:[og],iconOpen:[ag],iconClosed:[rg]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function lg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function cg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function ug(e){let t,n="Sector Coverage by Assets Under Management and Absolute CO<sub>2</sub> Emissions";return{c(){t=b("h4"),t.innerHTML=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-ir03co"&&(t.innerHTML=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function fg(e){let t,n=`The <strong>PACTA for Investors</strong> analysis focuses on listed equity and
									corporate bond holdings in key climate-relevant sectors, including
									<strong>oil and gas, coal, automotive, power generation, cement, steel, and aviation</strong>, and <strong>aviation</strong>. These sectors meet three criteria: they are
									major contributors to global GHG emissions, have available scenario benchmarks for
									transition expectations, and provide sufficient data for analysis.
									<br/> <br/>
									Sectors like <strong>agriculture, forestry, aluminum, paper, and glass</strong>
									are excluded due to limited asset-level or scenario data.
									<br/><br/>
									While the PACTA analysis centers on sectoral alignment through production capacity,
									estimating
									<strong>absolute CO2 emissions</strong> associated with a portfolio can provide
									additional insights into the relative importance of each sector in the
									decarbonization of the portfolio.
									<br/><br/>
									The charts below provide an overview of the portfolio’s exposure to
									<strong>PACTA sectors</strong>, as well as the
									<strong>emissions</strong> associated with those sectors.`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-12wa1t2"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function dg(e){let t,n;return t=new gt({props:{$$slots:{content:[fg],summary:[ug],iconOpen:[cg],iconClosed:[lg]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function hg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function mg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function pg(e){let t,n="Exposure to climate-relevant sectors and technologies";return{c(){t=b("h4"),t.textContent=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-hv249u"&&(t.textContent=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function gg(e){let t,n=`Within each climate-relevant sector, different technologies play varying roles in
									the transition to a low-carbon economy. Understanding your portfolio’s exposure to
									the sector and the associated technologies is critical for assessing both <strong>transition risks</strong>
									and <strong>investment opportunities</strong> in the context of climate change.
									<br/>
									The following chart visualizes the portfolio&#39;s exposure to the different sectors and
									technologies, compared to the relevant benchmarks.`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-ow2w8d"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function yg(e){let t,n;return t=new gt({props:{$$slots:{content:[gg],summary:[pg],iconOpen:[mg],iconClosed:[hg]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function vg(e){let t,n,r,a=`<div class="analysis-intro-text sm:col-span-12 p-4"><h3 class="h3">Portfolio-Level Overview</h3> <br/> <p>This section provides an overview of your portfolio&#39;s exposure to key climate-relevant
					sectors, asset classes, and emissions. It answers essential questions about the scope of
					the PACTA analysis, helping you assess the breadth and depth of climate-related metrics
					across your portfolio.
					<br/> <br/>
					You can hover over the graphs to get more in-depth insights of your portfolio-level analysis.
					<br/> <br/>
					Key features in this section:</p> <br/> <ul class="list-disc"><li><strong>Scope of Analysis</strong>: Understand which holdings are included in the
						assessment and if it is a direct or indirect investment.</li> <li><strong>Sector Coverage</strong>: First overview of the exposure to climate-relevant
						sectors and their technologies, as a share of the AUM (assets under management) of the
						portfolio</li> <li><strong>Emissions Coverage</strong>: Get an estimate of how much of your portfolio’s
						emissions are addressed in the analysis, as well as an overview of your portfolio
						absolute emissions.</li></ul> <br/></div>`,o,i,s,l,c,u,f='<div class="table table-hover" id="includedTable"></div>',d,h,_,g,q,S,T,P='<div class="pie-value-bonds sm:col-span-6" id="valuePieBonds"></div> <div class="pie-value-equity sm:col-span-6" id="valuePieEquity"></div> <div class="pie-emissions-bonds sm:col-span-6" id="emissionsPieBonds"></div> <div class="pie-emissions-equity sm:col-span-6" id="emissionsPieEquity"></div>',E,y,w="PACTA sectors",A,N,k="[X]%",$,M,I="[Y]%",R,U,Q="[Z]%",F,K,L="[W]%",O,G,se="absolute CO<sub>2</sub> emissions",B,le,ce,de,m,W,ye,j,te='<div class="exposures-bonds sm:col-span-6" id="techMixAllBonds"></div> <div class="exposures-equity sm:col-span-6" id="techMixAllEquity"></div>',re;return l=new en({props:{$$slots:{default:[sg]},$$scope:{ctx:e}}}),q=new en({props:{$$slots:{default:[dg]},$$scope:{ctx:e}}}),W=new en({props:{$$slots:{default:[yg]},$$scope:{ctx:e}}}),{c(){t=b("div"),n=b("div"),r=b("div"),r.innerHTML=a,o=oe(),i=b("div"),s=b("div"),Ae(l.$$.fragment),c=oe(),u=b("div"),u.innerHTML=f,d=oe(),h=b("div"),_=b("div"),g=b("div"),Ae(q.$$.fragment),S=oe(),T=b("div"),T.innerHTML=P,E=De(`
				Comparing these charts allows you to assess the relative climate relevance of different sectors
				in your portfolio. For example, while
				`),y=b("strong"),y.textContent=w,A=De(` may represent
				`),N=b("strong"),N.textContent=k,$=De(`
				of the equity portfolio's market value and `),M=b("strong"),M.textContent=I,R=De(` of the corporate bond
				portfolio's market value, they are responsible for `),U=b("strong"),U.textContent=Q,F=De(` and
				`),K=b("strong"),K.textContent=L,O=De(`
				of the portfolio's `),G=b("strong"),G.innerHTML=se,B=De(` in equity and corporate
				bonds, respectively.`),le=oe(),ce=b("div"),de=b("div"),m=b("div"),Ae(W.$$.fragment),ye=oe(),j=b("div"),j.innerHTML=te,this.h()},l(V){t=x(V,"DIV",{class:!0,id:!0});var D=X(t);n=x(D,"DIV",{class:!0});var Y=X(n);r=x(Y,"DIV",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-1bx7ii9"&&(r.innerHTML=a),o=ie(Y),i=x(Y,"DIV",{class:!0});var pe=X(i);s=x(pe,"DIV",{class:!0});var ue=X(s);Me(l.$$.fragment,ue),c=ie(ue),u=x(ue,"DIV",{class:!0,"data-svelte-h":!0}),ee(u)!=="svelte-p1r2es"&&(u.innerHTML=f),ue.forEach(v),pe.forEach(v),d=ie(Y),h=x(Y,"DIV",{class:!0});var H=X(h);_=x(H,"DIV",{class:!0});var he=X(_);g=x(he,"DIV",{class:!0});var $e=X(g);Me(q.$$.fragment,$e),$e.forEach(v),S=ie(he),T=x(he,"DIV",{class:!0,"data-svelte-h":!0}),ee(T)!=="svelte-1xoepae"&&(T.innerHTML=P),E=Ie(he,`
				Comparing these charts allows you to assess the relative climate relevance of different sectors
				in your portfolio. For example, while
				`),y=x(he,"STRONG",{"data-svelte-h":!0}),ee(y)!=="svelte-9bd80i"&&(y.textContent=w),A=Ie(he,` may represent
				`),N=x(he,"STRONG",{"data-svelte-h":!0}),ee(N)!=="svelte-1ug2ii1"&&(N.textContent=k),$=Ie(he,`
				of the equity portfolio's market value and `),M=x(he,"STRONG",{"data-svelte-h":!0}),ee(M)!=="svelte-4mxjr6"&&(M.textContent=I),R=Ie(he,` of the corporate bond
				portfolio's market value, they are responsible for `),U=x(he,"STRONG",{"data-svelte-h":!0}),ee(U)!=="svelte-1c3we7j"&&(U.textContent=Q),F=Ie(he,` and
				`),K=x(he,"STRONG",{"data-svelte-h":!0}),ee(K)!=="svelte-1731nyc"&&(K.textContent=L),O=Ie(he,`
				of the portfolio's `),G=x(he,"STRONG",{"data-svelte-h":!0}),ee(G)!=="svelte-1wllah0"&&(G.innerHTML=se),B=Ie(he,` in equity and corporate
				bonds, respectively.`),he.forEach(v),H.forEach(v),le=ie(Y),ce=x(Y,"DIV",{class:!0});var ke=X(ce);de=x(ke,"DIV",{class:!0});var xe=X(de);m=x(xe,"DIV",{class:!0});var Ne=X(m);Me(W.$$.fragment,Ne),Ne.forEach(v),ye=ie(xe),j=x(xe,"DIV",{class:!0,"data-svelte-h":!0}),ee(j)!=="svelte-vf7p0x"&&(j.innerHTML=te),xe.forEach(v),ke.forEach(v),Y.forEach(v),D.forEach(v),this.h()},h(){p(r,"class","analysis-intro grid sm:grid-cols-12"),p(u,"class","table-box sm:col-span-12"),p(s,"class","analysis-table-explanation sm:col-span-12 card p-8"),p(i,"class","analysis-content grid sm:grid-cols-12 p-4"),p(g,"class","analysis-pies-explanation sm:col-span-12"),p(T,"class","analysis-pies-box grid sm:grid-cols-12 card p-4"),p(_,"class","analysis-pie-box sm:col-span-12 card p-8"),p(h,"class","analysis-pie grid sm:grid-cols-12 p-4"),p(m,"class","analysis-exposures-explanation sm:col-span-12"),p(j,"class","analysis-exosures-box grid sm:grid-cols-12 p-4"),p(de,"class","analysis-exposure-box sm:col-span-12 card p-8"),p(ce,"class","analysis-exposures grid sm:grid-cols-12 p-4"),p(n,"class","analysis"),p(t,"class","content p-8"),p(t,"id","content-portfolio-view")},m(V,D){z(V,t,D),C(t,n),C(n,r),C(n,o),C(n,i),C(i,s),Ee(l,s,null),C(s,c),C(s,u),C(n,d),C(n,h),C(h,_),C(_,g),Ee(q,g,null),C(_,S),C(_,T),C(_,E),C(_,y),C(_,A),C(_,N),C(_,$),C(_,M),C(_,R),C(_,U),C(_,F),C(_,K),C(_,O),C(_,G),C(_,B),C(n,le),C(n,ce),C(ce,de),C(de,m),Ee(W,m,null),C(de,ye),C(de,j),re=!0},p(V,[D]){const Y={};D&1&&(Y.$$scope={dirty:D,ctx:V}),l.$set(Y);const pe={};D&1&&(pe.$$scope={dirty:D,ctx:V}),q.$set(pe);const ue={};D&1&&(ue.$$scope={dirty:D,ctx:V}),W.$set(ue)},i(V){re||(me(l.$$.fragment,V),me(q.$$.fragment,V),me(W.$$.fragment,V),re=!0)},o(V){ge(l.$$.fragment,V),ge(q.$$.fragment,V),ge(W.$$.fragment,V),re=!1},d(V){V&&v(t),Pe(l),Pe(q),Pe(W)}}}function _g(e){return Co(async()=>{let n=await(await fetch("data/data_included_table.json")).json(),a=await(await fetch("data/data_value_pie_bonds.json")).json(),i=await(await fetch("data/data_value_pie_equity.json")).json(),l=await(await fetch("data/data_emissions_pie_bonds.json")).json(),u=await(await fetch("data/data_emissions_pie_equity.json")).json(),d=await(await fetch("data/data_techexposure.json")).json();function h(){try{new na(document.querySelector("#valuePieBonds"),a,"USD","of assets' value covered by PACTA sectors","Corporate bonds portion of the portfolio [% market value]")}catch(S){console.error("Error fetching value pie for bonds",S),document.querySelector("#valuePieBonds").innerHTML="",document.querySelector("#valuePieBonds").appendChild(pt())}try{new na(document.querySelector("#valuePieEquity"),i,"USD","of assets' value covered by PACTA sectors","Listed equity portion of the portfolio [% market value]")}catch(S){console.error("Error fetching value pie for equity",S),document.querySelector("#valuePieEquity").innerHTML="",document.querySelector("#valuePieEquity").appendChild(pt())}}function _(){try{new na(document.querySelector("#emissionsPieBonds"),l,"tonnes CO<sub>2</sub> emissions","of assets' emissions covered by PACTA sectors","Corporate bonds portion of the portfolio [% CO2 emissions]")}catch(S){console.error("Error fetching emissions pie for bonds",S),document.querySelector("#emissionsPieBonds").innerHTML="",document.querySelector("#emissionsPieBonds").appendChild(pt())}try{new na(document.querySelector("#emissionsPieEquity"),u,"tonnes CO<sub>2</sub> emissions","of assets' emissions covered by PACTA sectors","Listed equity portion of the portfolio [% CO2 emissions]")}catch(S){console.error("Error fetching emissions pie for equity",S),document.querySelector("#emissionsPieEquity").innerHTML="",document.querySelector("#emissionsPieEquity").appendChild(pt())}}function g(){try{new xs(document.querySelector("#techMixAllBonds"),d,"Corporate Bonds","iShares Global Corp Bond UCITS ETF",to)}catch(S){console.error("Error fetching techmix for bonds",S),document.querySelector("#techMixAllBonds").innerHTML="",document.querySelector("#techMixAllBonds").appendChild(pt())}try{new xs(document.querySelector("#techMixAllEquity"),d,"Listed Equity","iShares MSCI World ETF",to)}catch(S){console.error("Error fetching techmix for equity",S),document.querySelector("#techMixAllEquity").innerHTML="",document.querySelector("#techMixAllEquity").appendChild(pt())}}function q(){try{ng(n,"#includedTable",{columnsText:[1,6],columnsNumeric:[2,5],columnsPercent:[3],columnsShortText:[4],columnValueBreakdown:5,columnToMergeHeaderWithContent:5,columnToMergeHeaderNoContent:6})}catch{document.querySelector("#includedTable").innerHTML="",document.querySelector("#includedTable").appendChild(pt())}}q(),h(),_(),g()}),[]}class bg extends on{constructor(t){super(),sn(this,t,_g,vg,an,{})}}class $l{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,r.innerHTML="",Re(r).attr("chart_type","ExposureStatsTile"),r.classList.add("ExposureStatsTile"),r.classList.add("d3chart"),r.classList.add("chart_container"),this.container=Re(r);const a=250,o=120,i=10,s=5,l=5;let c=(a-l)/2,u=o-s-35,f=(o-s)/2-10,d=a-l;const h=this.container.append("svg").attr("width",a).attr("height",o).attr("viewBox",[0,0,a,o]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let _=document.querySelector("#sector_selector").value,g=document.querySelector("#asset_class_selector").value,q=n.filter(E=>E.asset_type==g).filter(E=>E.sector==_);h.append("g").attr("transform","translate("+[c,i]+")").append("text").text(g).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end"),h.append("g").attr("transform","translate("+[c,f]+")").append("text").text(P(q[0].percentage_value_invested)).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end").style("font-size","2.5em");let S=["of the","total portfolio"];h.append("g").attr("transform","translate("+[c,u]+")").selectAll("text").data(S).enter().append("text").attr("transform",(E,y)=>"translate(0, "+y*15+")").text(E=>E).style("dominant-baseline","middle").style("text-anchor","end"),h.append("g").attr("transform","translate("+[d,i]+")").append("text").text(_).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end"),h.append("g").attr("transform","translate("+[d,f]+")").append("text").text(P(q[0].perc_asset_val_sector)).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end").style("font-size","2.5em");let T=["of the",g,"portion of portfolio"];h.append("g").attr("transform","translate("+[d,u]+")").selectAll("text").data(T).enter().append("text").attr("transform",(E,y)=>"translate(0, "+y*15+")").text(E=>E).style("dominant-baseline","middle").style("text-anchor","end").style("font-weight",(E,y)=>y==1?"bold":"normal");function P(E){return E==0?"0%":E<.001?"< 0.1%":We(".2p")(E)}}}class xg{constructor(t,n){function r(m,W){var ye=[];return W.forEach((j,te)=>{ye[te]={},ye[te].val_type=j,m.filter(re=>re.val_type==j).forEach(re=>{ye[te][re.technology]=re.value})}),ye}function a(m,W,ye){let j=m.filter(D=>D.year==ye),te=r(j,W),re=nl(te[0]).slice(1);return Nl().keys(re)(te)}function o(m,W,ye){let j=m.filter(re=>re.year==ye),te=[];return W.forEach((re,V)=>{let D=j.filter(Y=>Y.val_type==re&Y.green==!0);te[V]={},te[V].val_type=re,D.length>0?te[V].green_sum=D[0].green_sum:te[V].green_sum=0}),te}let i;typeof t=="string"?i=document.querySelector(t):i=t,i.innerHTML="",i.classList.add("stacked_bars"),i.classList.add("d3chart"),i.classList.add("chart_container"),this.container=Re(i);const s=928,l=650,c=50,u=50,f=200,d=200,h=this.container.append("svg").attr("width",s).attr("height",l).attr("viewBox",[0,0,s,l]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let _=document.querySelector("#sector_selector").value,g=document.querySelector("#asset_class_selector").value,q=document.querySelector("#scenario_source_selector").value,S=document.querySelector("#scenario_selector").value,T=document.querySelector("#equity_market_selector").value,P=document.querySelector("#benchmark_selector").value,E=n.filter(m=>m.asset_class==g).filter(m=>m.ald_sector==_).filter(m=>m.scenario_source==q).filter(m=>m.scenario==S).filter(m=>m.equity_market==T).filter(m=>m.this_portfolio|m.portfolio_name==P),y=ve(E,m=>m.year).keys(),w=[];y.forEach((m,W)=>{w[W]=ve(E.filter(ye=>ye.year==m),ye=>ye.val_type).keys()});let A=[];y.forEach((m,W)=>{A[W]={},A[W].year=m,A[W].stackedData=a(E,w[W],m),A[W].greenBars=o(E,w[W],m)});let N=new Set(ve(A[0].stackedData,m=>m.key).keys()),k=new Set(ve(A[1].stackedData,m=>m.key).keys()),$=Array.from(N.union(k));const M=tn().domain([0,1]).range([d,s-u]),I=hn().domain(y).rangeRound([c,l-f]).paddingInner(.1),R=hn().domain(w[0]).rangeRound([0,I.bandwidth()]).paddingInner(.1),U=hn().domain(w[1]).rangeRound([0,I.bandwidth()]).paddingInner(.1);let Q=Math.min(R.bandwidth()-R.bandwidth()/5,U.bandwidth()-U.bandwidth()/5);const F=lt().domain($).range(Math.min(3,Pl[$.length])).unknown("#ccc");h.append("g").attr("transform",function(){return"translate(0, "+I(A[0].year)+")"}).selectAll("g").data(A[0].stackedData).enter().append("g").attr("fill",m=>F(m.key)).attr("class",m=>_+" "+m.key).selectAll("rect").data(m=>m.map(W=>(W.key=m.key,W))).enter().append("rect").attr("x",m=>M(m[0])).attr("y",m=>R(m.data.val_type)).attr("height",Q).attr("width",m=>M(m[1])-M(m[0])).on("mouseover",se).on("mouseout",de).on("mousemove",ce),h.append("g").attr("transform",function(){return"translate(0, "+I(A[1].year)+")"}).selectAll("g").data(A[1].stackedData).enter().append("g").attr("fill",m=>F(m.key)).attr("class",m=>_+" "+m.key).selectAll("rect").data(m=>m.map(W=>(W.key=m.key,W))).enter().append("rect").attr("x",m=>M(m[0])).attr("y",m=>U(m.data.val_type)).attr("height",Q).attr("width",m=>M(m[1])-M(m[0])).on("mouseover",se).on("mouseout",de).on("mousemove",ce),h.append("g").attr("transform",function(){return"translate(0, "+I(A[0].year)+")"}).selectAll().data(A[0].greenBars).join("g").attr("class",m=>"green_bar"+m.val_type).attr("height",5).attr("fill","green").append("rect").attr("x",d).attr("y",m=>R(m.val_type)+11*Q/10).attr("height",Q/5).attr("width",m=>M(m.green_sum)-M(0)).on("mouseover",B).on("mouseout",de).on("mousemove",ce),h.append("g").attr("transform",function(){return"translate(0, "+I(A[1].year)+")"}).selectAll().data(A[1].greenBars).join("g").attr("class",m=>"green_bar"+m.val_type).attr("height",5).attr("fill","green").append("rect").attr("x",d).attr("y",m=>U(m.val_type)+11*Q/10).attr("height",Q/5).attr("width",m=>M(m.green_sum)-M(0)).on("mouseover",B).on("mouseout",de).on("mousemove",ce),h.append("g").attr("transform",`translate(0,${c-c/5})`).attr("class","axis").call(du(M).ticks(5).tickFormat(We(".0%"))).selectAll("text").style("font-size","1.8em"),h.append("g").attr("transform",`translate(0,${l-f})`).attr("class","axis").call(Sn(M).ticks(5).tickFormat(We(".0%"))).selectAll("text").style("font-size","1.8em"),h.append("g").attr("transform",`translate(${d},${I(A[0].year)-20})`).attr("class","axis").call(Xn(R).tickSizeOuter(0)).call(m=>m.selectAll(".domain").remove()).call(m=>m.selectAll(".tick line").remove()).selectAll("text").style("font-size","1.8em").on("mouseover",le).on("mouseout",de).on("mousemove",ce),h.append("g").attr("transform",`translate(${d},${I(A[1].year)})`).attr("class","axis").call(Xn(U).tickSizeOuter(0)).call(m=>m.selectAll(".domain").remove()).call(m=>m.selectAll(".tick line").remove()).selectAll("text").style("font-size","1.8em").on("mouseover",le).on("mouseout",de).on("mousemove",ce),h.append("g").attr("class","axis").call(ks(I).tickSizeOuter(0)).call(m=>m.selectAll(".domain").remove()).call(m=>m.selectAll(".tick line").remove()).selectAll("text").style("font-size","1.8em");let K=h.append("g").attr("transform",`translate(${d},${l-2*f/3})`).attr("class","legend").selectAll("g").data($).enter().append("g").attr("transform",function(m,W){return"translate("+W%3*230+", "+Math.floor(W/3)*30+")"});if(K.append("rect").attr("width",22).attr("height",22).attr("class",m=>_+" "+m),K.append("text").attr("x",30).attr("y",20).text(m=>m).style("font-size","0.9em"),ua(A[0].greenBars,m=>m.green_sum)+ua(A[1].greenBars,m=>m.green_sum)>0){let m=h.append("g").attr("transform",`translate(${d},${l-f/4})`).attr("class","legend").selectAll("g").data(["Low-carbon technologies within a sector"]).enter().append("g");m.append("rect").attr("width",22).attr("height",22).attr("fill","green"),m.append("text").attr("x",30).attr("y",20).text(W=>W).style("font-size","0.9em")}const O=Re(i).append("div").attr("class","d3tooltip").style("display","none");function G(m){return m=Math.round((m+Number.EPSILON)*1e3)/10,m<.1?"< 0.1%":m+"%"}function se(m){O.html(m.key+":<br>"+G(m[1]-m[0])+" of the "+_+" sector.").style("display","inline-block")}function B(m){O.html("Low-carbon technologies:<br>"+G(m.green_sum)+" of the "+_+" sector.").style("display","inline-block")}function le(){this.innerHTML=="Scenario"?O.html(S).style("display","inline-block"):this.innerHTML=="Benchmark"&&O.html(P).style("display","inline-block")}function ce(){O.style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function de(){O.style("display","none")}}}class wg{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,r.innerHTML="",Re(r).attr("chart_type","trajectory_alignment"),r.classList.add("d3chart"),r.classList.add("trajectory_alignment_chart"),Re(r).attr("constructor_name","trajectory_alignment"),r.classList.add("chart_container"),this.container=Re(r);let a=document.querySelector("#asset_class_selector").value,o=document.querySelector("#sector_selector").value,i=document.querySelector("#scenario_source_selector").value,s=document.querySelector("#benchmark_selector").value,l=document.querySelector("#allocation_method_selector").value,c=document.querySelector("#equity_market_selector").value,u=n.filter(Z=>Z.asset_class==a).filter(Z=>Z.ald_sector==o).filter(Z=>Z.scenario_source==i).filter(Z=>!Z.benchmark|Z.portfolio_name==s).filter(Z=>Z.allocation_translation==l).filter(Z=>Z.equity_market_translation==c),f=ve(u,Z=>Z.technology).keys();const d=1e3;let h,_;f.length>3&f.length<=6?(h=550,_=60):f.length>0&f.length<=3?(h=350,_=0):console.log("Too many or too few technologies to create a plot. Please check your data. Maximum number of technologies we support currently is 6.");const g=50,q=50,S=150,T=55,P=this.container.append("svg").attr("width",d).attr("height",h).attr("viewBox",[0,0,d,h]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");n.forEach(Z=>Z.date=Oo("%Y")(Z.year));let E=ko(ve(u.filter(Z=>Z.scenario=="production"),Z=>Z.year).keys());if(u=u.filter(Z=>Z.year<=E),u.length==0){r.querySelector("svg").innerHTML="";return}let y="Production in ",w="Portfolio",A="Benchmark",N={top:"Yearly production",bottom:"volume"},k="* start date of the analysis",$="(Planned) yearly production: ";const M=Re(r).append("div").attr("class","d3tooltip").style("display","none");let I=fe(i),R=J(i),U=3,Q=60,F=(d-T-S-(U-1)*Q)/U,K=195;const L=Sl().range([0,F]).clamp(!0).domain(dn(u,Z=>Z.date));let O=tn().range([K,0]).clamp(!0);const G=1+Math.abs(L.domain().reduce((Z,ne)=>Z.getFullYear()-ne.getFullYear()));let se,B,le,ce,de,m,W,ye,j,te,re,V,D,Y,pe,ue,H,he,$e;f.forEach((Z,ne)=>{if(se=u.filter(ae=>ae.technology==Z),B=P.append("g").attr("transform",`translate(${ne%3*F+Q*(ne%3)+T},${Math.floor(ne/3)*K+_*Math.floor(ne/3)+g})`),le=se.filter(ae=>!ae.benchmark&&ae.scenario=="production"),le.length!=0&&(ce=se.filter(ae=>ae.portfolio_name_translation==s),ce.length==0&&console.log("No benchmark data available for selected combination of benchmark, allocation method, equity market and scenario source. Try changing the selection."),de=se.filter(ae=>!ae.benchmark),se=se.filter(ae=>!ae.benchmark||ae.portfolio_name_translation==s),se.length!=0)){if(m=tl().key(ae=>ae.scenario).entries(de).sort(ae=>ae.key=="production"),W=be(Z),ce.length>0?(j=le[0].value/ce[0].value,ye=dn(ce,ae=>ae.value*j)):ye=null,te=dn(le,ae=>ae.value),re=dn(de,ae=>ae.value),O.domain(dn([ye,te,re].flat())).nice(),W?m.sort((ae,Oe)=>Oe.values.filter(Ce=>Ce.year==E)[0].value>ae.values.filter(Ce=>Ce.year==E)[0].value?1:-1):m.sort((ae,Oe)=>Oe.values.filter(Ce=>Ce.year==E)[0].value>ae.values.filter(Ce=>Ce.year==E)[0].value?-1:1),V=Np().x(ae=>L(ae.date)).y0(W?K:0).y1(ae=>O(ae.value)),D=B.append("g").attr("class","area_paths"),Y=B.select("g.area_paths"),Y.selectAll("*").remove(),D.append("rect").attr("class","worse").attr("x",0).attr("y",0).attr("width",F).attr("height",K).style("fill",R("worse")),Y=D.selectAll(".area").data(m.filter(ae=>ae.key!="production")),Y.enter().append("path").attr("class",ae=>"area "+ae.key).attr("d",ae=>V(ae.values)).style("fill",ae=>R(ae.key)),he=ve(le,ae=>ae.unit_translation).keys()[0],$e=ve(se,ae=>ae.year).keys().slice(0,Math.min(G,5)+1),$e[0]="31-12-"+$e[0]+"*",B.append("g").attr("class","xaxis").attr("transform","translate(0,"+K+")").call(Sn(L).ticks(Math.min(G,5)).tickFormat((ae,Oe)=>$e[Oe])).selectAll("text").style("font-size","1.1em"),B.append("g").attr("class","yaxis").call(Xn(O).ticks(8).tickFormat(We(".2s"))).selectAll("text").style("font-size","1.1em"),B.append("g").attr("class","yaxislabel").append("text").attr("class","yaxislabel").attr("transform","rotate(-90)").attr("y",0-T).attr("x",0-K/2).attr("dy","1em").style("text-anchor","middle").style("alignment-baseline","bottom").text(y+he),pe=B.append("g").attr("class","production_line_grp"),ue=Aa().x(ae=>L(ae.date)).y(ae=>O(+ae.value)),pe.selectAll("path").remove(),pe.selectAll(".dot").remove(),pe.append("path").attr("class","production_line").attr("stroke-width",1.5).attr("fill","none").attr("stroke","black").attr("d",()=>ue(le)),pe.selectAll(".dot").data(le).enter().append("circle").attr("class","dot").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",ae=>L(ae.date)).attr("cy",ae=>O(+ae.value)).on("mouseover",je).on("mousemove",Ot).on("mouseout",Et),H=B.append("g").attr("class","benchmark_line_grp"),H.selectAll("path").remove(),H.selectAll(".dot").remove(),ce.length>0){let ae=Aa().x(Oe=>L(Oe.date)).y(Oe=>O(+Oe.value*j));H.append("path").attr("class","benchmark_line").attr("stroke-width",1.5).attr("fill","none").attr("stroke","black").style("stroke-dasharray","2,2").attr("d",()=>ae(ce)),H.selectAll(".dot").data(ce).enter().append("circle").attr("class","dot").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",Oe=>L(Oe.date)).attr("cy",Oe=>O(+Oe.value*j))}B.append("g").attr("class","mini-plot-title").append("text").attr("y",-g/2).attr("x",F/2).attr("dy","1em").style("text-anchor","middle").style("alignment-baseline","bottom").text(Z)}});let ke=P.append("g").attr("transform","translate("+(F*U+Q*(U-1)+T+27)+", "+g+")").attr("class","legend_grp");P.append("svg:defs").append("svg:marker").attr("id","arrow").attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto-start-reverse").append("svg:path").attr("d","M 0 0 L 10 5 L 0 10 z");let xe=25,Ne=50,qe=m.filter(Z=>Z.key!="production");qe=[{key:"worse"}].concat(qe),qe.sort((Z,ne)=>I.indexOf(Z.key)-I.indexOf(ne.key)),ke.selectAll("*").remove();let we=ke.selectAll(null).data(qe);we.enter().append("rect").attr("x",0).attr("y",(Z,ne)=>ne*xe).attr("width",Ne).attr("height",xe).style("fill",Z=>R(Z.key)),we.enter().append("text").attr("x",Ne+8).attr("y",(Z,ne)=>ne*xe).style("display",(Z,ne)=>ne==0?"none":"inline").style("text-anchor","start").style("alignment-baseline","central").style("font-size","0.8em").text(Z=>Z.key),we.enter().append("line").attr("x1",0).attr("y1",(Z,ne)=>ne*xe).attr("x2",Ne+3).attr("y2",(Z,ne)=>ne*xe).attr("marker-end","url(#arrow)").style("stroke","black").style("stroke-width",1).style("display",(Z,ne)=>ne==0?"none":"inline"),we.data([w,A]).enter().append("text").attr("transform","translate(0,"+(qe.length*xe+10)+")").attr("x",31).attr("y",(Z,ne)=>ne*xe+xe/2).style("text-anchor","start").style("alignment-baseline","central").style("font-size","0.8em").text(Z=>Z),we.data([w,A]).enter().append("line").attr("transform","translate(0,"+(qe.length*xe+10)+")").attr("x1",0).attr("y1",(Z,ne)=>ne*xe+xe/2).attr("x2",26).attr("y2",(Z,ne)=>ne*xe+xe/2).style("stroke","black").style("stroke-width",1.5).style("stroke-dasharray",(Z,ne)=>ne==0?"none":"2,2"),we.data([w,A]).enter().append("circle").attr("transform","translate(0,"+(qe.length*xe+10)+")").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",13).attr("cy",(Z,ne)=>ne*xe+xe/2),we.data([1]).enter().append("circle").attr("transform","translate(0,"+((qe.length+1)*xe+10)+")").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",13).attr("cy",xe+xe/2);let Ge=[N.top,N.bottom];we.data(Ge).enter().append("text").attr("transform","translate(0,"+((qe.length+1)*xe+10)+")").attr("x",31).attr("y",(Z,ne)=>xe+xe/2+ne*(xe/2)).style("text-anchor","start").style("alignment-baseline","central").style("font-size","0.8em").text(Z=>Z),P.append("g").attr("class","footnote").attr("transform","translate("+(d-S)+","+(h-q/3)+")").selectAll(null).data([k]).enter().append("text").attr("x",0).attr("y",0).style("text-anchor","end").style("alignment-baseline","central").style("font-size","0.8em").text(Z=>Z);function je(Z){M.html(w+"<br>"+$+We(".2f")(Z.value)+" "+Z.unit_translation).style("display","inline-block").style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function Ot(){M.style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function Et(){M.style("display","none")}function J(Z){switch(Z){case"GECO2021":return lt().domain(["production","1.5C-Unif","NDC-LTS","CurPol","worse"]).range(["black","#709458","#8db96e","#FDF28D","#e07b73"]);case"WEO2021":return lt().domain(["production","NZE_2050","SDS","APS","STEPS","worse"]).range(["black","#9cab7c","#c3d69b","#FFFFCC","#fde291","#e07b73"]);case"GECO2022":return lt().domain(["production","1.5C","NDC_LTS","Reference","worse"]).range(["black","#9cab7c","#c3d69b","#FFFFCC","#e07b73"]);case"ISF2021":return lt().domain(["production","NZE","worse"]).range(["black","#9cab7c","#e07b73"]);case"WEO2022":return lt().domain(["production","NZE_2050","APS","STEPS","worse"]).range(["black","#9cab7c","#FFFFCC","#fde291","#e07b73"]);case"GECO2023":return lt().domain(["production","1.5C","NDC-LTS","Reference","worse"]).range(["black","#9cab7c","#c3d69b","#FFFFCC","#e07b73"]);case"ISF2023":return lt().domain(["production","1.5°C","worse"]).range(["black","#9cab7c","#e07b73"]);case"WEO2023":return lt().domain(["production","NZE_2050","APS","STEPS","worse"]).range(["black","#9cab7c","#FFFFCC","#fde291","#e07b73"]);default:return lt().domain(["production","ETP_SDS","NZE","IPR FPS 2021","worse"]).range(["black","#9cab7c","#9cab7c","#9cab7c","#e07b73"])}}function fe(Z){let ne;return Z=="GECO2021"?ne=["worse","CurPol","NDC-LTS","1.5C-Unif"]:Z=="WEO2021"?ne=["worse","STEPS","APS","SDS","NZE_2050"]:Z=="GECO2022"?ne=["worse","Reference","NDC_LTS","1.5C"]:Z=="ISF2021"?ne=["worse","NZE"]:Z=="WEO2022"?ne=["worse","STEPS","APS","NZE_2050"]:Z=="WEO2023"?ne=["worse","STEPS","APS","NZE_2050"]:Z=="GECO2023"?ne=["worse","Reference","NDC-LTS","1.5C"]:Z=="ISF2023"?ne=["worse","1.5°C"]:ne=["worse","IPR FPS 2021","NZE","ETP_SDS"],ne}function be(Z){switch(Z){case"Oil":case"Coal":case"Gas":case"ICE":case"CoalCap":case"GasCap":case"OilCap":return!0;case"Electric":case"Hybrid":case"HydroCap":case"NuclearCap":case"RenewablesCap":case"FuelCell":return!1;default:console.log("undefined tech:",Z)}}}}class Cg{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,Re(r).attr("chart_type","time_line"),r.innerHTML="",r.classList.add("time_lineChart"),r.classList.add("d3chart"),r.classList.add("emissionstrajectory_chart"),r.classList.add("chart_container"),this.container=Re(r);const a=928,o=650,i=50,s=50,l=200,c=200,u=this.container.append("svg").attr("width",a).attr("height",o).attr("viewBox",[0,0,a,o]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let f=document.querySelector("#asset_class_selector").value,d=document.querySelector("#sector_selector").value,h=document.querySelector("#allocation_method_selector").value,_=document.querySelector("#equity_market_selector").value,g=document.querySelector("#scenario_source_selector").value,q=document.querySelector("#scenario_selector").value,S=n.filter(B=>B.asset_class==f).filter(B=>B.sector==d).filter(B=>B.allocation_translation==h).filter(B=>B.equity_market==_).filter(B=>B.scenario_source==g).filter(B=>B.scenario==q);const T=Oo("%Y"),P=Sl().domain(dn(S,B=>T(B.year))).range([c,a-s]),E=tn().domain(dn(S,B=>B.value)).nice().range([o-l,i]);let y="#1b324f",w="#00c082",A="Scenario",N="Portfolio",k="Value: ",$="* start date of the analysis";const M=Aa().x(B=>P(T(B.year))).y(B=>E(B.value));let R=tl().key(B=>B.name).entries(S);u.selectAll(".line").data(R).enter().append("path").attr("class","line").style("fill","none").style("stroke",B=>B.values[0].plan=="plan"?y:w).style("stroke-width","2px").attr("id",B=>B.key).attr("d",B=>M(B.values)),u.selectAll(".dot").data(S).enter().append("circle").attr("class","dot").attr("r",5).style("stroke","#fff").style("fill",B=>B.plan=="plan"?y:w).attr("name",B=>B.key).attr("x_value",B=>B.year).attr("y_value",B=>B.value).attr("cx",B=>P(T(B.year))).attr("cy",B=>E(B.value)).on("mouseover",O).on("mousemove",G).on("mouseout",se);const U=Re(r).append("div").attr("class","d3tooltip").style("display","none"),Q=1+Math.abs(P.domain().reduce((B,le)=>B.getFullYear()-le.getFullYear()));let F=ve(S,B=>B.year).keys().slice(0,Math.min(Q,5)+1);F[0]="31-Dec-"+F[0]+"*",u.append("g").attr("transform","translate(0,"+(o-l)+")").call(Sn(P).ticks(Math.min(Q,5)).tickFormat((B,le)=>F[le])).selectAll("text").style("font-size","2em"),u.append("g").attr("transform","translate("+c+",0)").call(Xn(E).ticks(6).tickFormat(We(".3s"))).selectAll("text").style("font-size","2em"),u.append("text").attr("transform",`translate(${c/2},${(o-l)/2+25}) rotate(-90)`).attr("x",0).attr("y",0).attr("dy","1em").style("text-anchor","middle").text(S.map(B=>B.unit_translation)[0]).style("font-size","1.6em"),u.append("g").attr("class","footnote").attr("transform","translate("+(a-s/2)+","+(o-i-5*l/12)+")").append("text").attr("x",0).attr("y",0).style("text-anchor","end").style("alignment-baseline","central").style("font-size","1.4em").text($);let K=[N,S.map(B=>B.scenario_source)[0]+" "+S.map(B=>B.scenario)[0]+" "+A],L=u.append("g").attr("class","legend").attr("transform","translate("+c+","+(o-l/3)+")").selectAll("g").data(K);L.enter().append("line").attr("x1",B=>B==N?0:200).attr("x2",B=>B==N?60:260).attr("y1",0).attr("y2",0).style("stroke-width",2).style("stroke",B=>B==N?y:w),L.enter().append("circle").attr("r",5).attr("cx",B=>B==N?30:230).attr("cy",0).style("stroke","#fff").style("fill",B=>B==N?y:w),L.enter().append("text").attr("x",B=>B==N?70:270).attr("y",3).text(B=>B).attr("alignment-baseline","middle").style("font-size","0.9em");function O(B){U.html((B.plan=="plan"?N:A)+"<br>"+k+We(".5f")(B.value)+" "+B.unit_translation).style("display","inline-block").style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function G(){U.style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function se(){U.style("display","none")}}}function kg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Tg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Sg(e){let t,n="Future production plans";return{c(){t=b("h4"),t.textContent=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1yfuujn"&&(t.textContent=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Ag(e){let t,n=`The charts below present the portfolio alignment with various climate
											transition scenarios by technology, based on the <strong>production plans</strong>
											of the companies in the portfolio. This analysis applies to sectors with well-defined
											technology decarbonization roadmaps, including
											<strong>power, fossil fuels,</strong>
											and <strong>automotive</strong>. The analysis looks at a
											<strong>5-year horizon</strong>, comparing companies’ planned production
											trajectories with those outlined in climate scenarios. The results are
											benchmarked against market indices to help assess potential risks and
											opportunities for alignment with climate goals.
											<br/>
											Note that the scenarios vary in their assumptions about the pace of technological
											change, ranging from rapid to gradual shifts. For more details, refer to the
											<a class="anchor" href="https://pacta.rmi.org/wp-content/uploads/2024/11/202410_P4I_scenario_document.pdf">PACTA for Investors Scenario Document</a>.`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-d6ftat"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Mg(e){let t,n;return t=new gt({props:{$$slots:{content:[Ag],summary:[Sg],iconOpen:[Tg],iconClosed:[kg]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function Eg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Pg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Lg(e){let t,n="Current and Future technology breakdown";return{c(){t=b("h4"),t.textContent=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1l1thx9"&&(t.textContent=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function qg(e){let t,n=`In sectors with established low-carbon alternatives, it is valuable to
												examine how the <strong>technology mix</strong> evolves over the next five years.
												This comparison helps gauge how the portfolio’s technology distribution aligns
												with future decarbonization goals. In the long term, low-carbon technologies
												will play a more critical role than high carbon technologies.`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-102zfiv"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Dg(e){let t,n;return t=new gt({props:{$$slots:{content:[qg],summary:[Lg],iconOpen:[Pg],iconClosed:[Eg]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function Ig(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Ng(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Og(e){let t,n="Alignment of emission intensities";return{c(){t=b("h4"),t.textContent=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-p8wb39"&&(t.textContent=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Hg(e){let t,n=`The emission intensities metric tracks changes in <strong>emissions intensity</strong>
												over time, comparing the current trajectory of the portfolio with the emission
												reduction paths outlined in climate scenarios. It&#39;s a key measure for sectors
												like cement, steel, and aviation, where decarbonization relies on improving efficiency
												and investing in R&amp;D. This metric helps investors understand how companies are
												progressing toward carbon neutrality and assess their potential for future alignment
												with decarbonization goals.
												<br/>`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-t3jo8i"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Rg(e){let t,n;return t=new gt({props:{$$slots:{content:[Hg],summary:[Og],iconOpen:[Ng],iconClosed:[Ig]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function Fg(e){let t,n,r,a=`<h2 class="h3 text-center">Please select a sector and an asset class for the analysis</h2> <br/> <p>The <strong>sector-level analysis</strong> provides a detailed look at your listed equity
				and corporate bond holding’s exposure to key technologies relevant for the climate
				transition in the analysed sector.
				<br/><br/>

				To view the sector-level results, select the appropriate options from the drop-down menus
				below and click <kbd class="kbd">Go!</kbd>. If no results appear after clicking
				<kbd class="kbd">Go!</kbd>, it likely means your portfolio does not have exposure to the
				selected sector or financial asset.</p>`,o,i,s,l,c="Please select",u,f,d,h="Please select",_,g,q="Go!",S,T,P,E,y,w="Please select",A,N,k,$="Please select",M,I,R,U=`<div class="analysis-intro-text sm:col-span-9"><h3 class="h3">Sector-level analysis</h3> <br/>
				This section presents by sector and asset class, how the aggregated production plans of companies
				within the portfolio align with climate goals in terms of technology share, and future build
				out of low carbon technologies or future phase down of high carbon technologies. For sectors
				without technology roadmaps, you will obtain the 5-year emission intensity projections for your
				portfolio, compared to scenario targets. By evaluating sector-level alignment with climate scenarios,
				this section helps you understand your portfolio&#39;s positioning in key sectors for the global
				transition to a low-carbon economy.
				<br/><br/>
				Key features in this section:
				<br/><br/> <ul class="list-disc"><li><strong>Sector Exposure</strong>: Review the portfolio&#39;s exposure to a specific sector,
						as well as its exposure to sector-specific technologies.</li> <li><strong>Climate Scenario Alignment</strong>: Understand how the production plans of
						investee companies in this sector align with different climate pathways.</li> <li><strong>Benchmark Comparison</strong>: See how your portfolio&#39;s performance compares to
						market benchmarks.</li></ul> <br/>
				For deeper insights into the methodology behind these analyses, please refer to the
				<a class="anchor" href="https://rmi.gitbook.io/pacta-knowledge-hub">PACTA Knowledge Hub</a>.</div> <div class="analysis-intro-stats sm:col-span-3 p-0"><div class="exposure-stats" id="exposure-stats"></div></div>`,Q,F,K,L,O,G,se,B,le,ce,de,m,W,ye,j,te,re,V,D,Y,pe,ue,H,he,$e,ke,xe=`<p class="font-bold">No data found for the parameter selection</p> <p class="text-sm">Please make a different selecion in the parameters panel or change the asset class or
					sector.</p>`,Ne,qe,we,Ge,Xe="Parameters",je,Ot,Et,J,fe,be="Scenario source ⓘ",Z,ne,ae="Applies to the technology mix and production volume alignment plots.",Oe,Ce,Ue,Ht="Please select",Zt,Je,Ke,ut="Scenario ⓘ",cn,yt,ft="Applies to the technology mix plot.",Be,wt,Te,et="Please select",Pt,Ze,Lt,nr="Allocation method ⓘ",un,Ct,rr="Applies to the production volume alignment and emission intensity plots.",Ln,kt,tt,gn="Please select",qn,ot,qt,ar="Equity market ⓘ",fn,Rt,or="Applies to the production volume alignment and the technology mix plots.",dt,Tt,St,yn="Please select",Dn,it,Dt,Fo="Benchmark ⓘ",Fa,vn,$o="Applies to the production volume alignment and the technology mix plots.",$a,_n,Kt,Vo="Please select",Rr,Ft,Bo='<p class="font-bold">No data found for this asset class / sector combination</p> <p class="text-sm">Please make a different selecion.</p>',Fr;return se=new en({props:{$$slots:{default:[Mg]},$$scope:{ctx:e}}}),j=new en({props:{$$slots:{default:[Dg]},$$scope:{ctx:e}}}),ue=new en({props:{$$slots:{default:[Rg]},$$scope:{ctx:e}}}),{c(){t=b("div"),n=b("div"),r=b("div"),r.innerHTML=a,o=oe(),i=b("div"),s=b("select"),l=b("option"),l.textContent=c,u=oe(),f=b("select"),d=b("option"),d.textContent=h,_=oe(),g=b("button"),g.textContent=q,S=oe(),T=b("div"),P=b("div"),E=b("select"),y=b("option"),y.textContent=w,A=oe(),N=b("select"),k=b("option"),k.textContent=$,M=oe(),I=b("div"),R=b("div"),R.innerHTML=U,Q=oe(),F=b("div"),K=b("div"),L=b("div"),O=b("div"),G=b("div"),Ae(se.$$.fragment),B=oe(),le=b("div"),ce=oe(),de=b("div"),m=b("div"),W=b("div"),ye=b("div"),Ae(j.$$.fragment),te=oe(),re=b("div"),V=oe(),D=b("div"),Y=b("div"),pe=b("div"),Ae(ue.$$.fragment),H=oe(),he=b("div"),$e=oe(),ke=b("div"),ke.innerHTML=xe,Ne=oe(),qe=b("div"),we=b("div"),Ge=b("h4"),Ge.textContent=Xe,je=oe(),Ot=b("br"),Et=oe(),J=b("label"),fe=b("span"),fe.textContent=be,Z=oe(),ne=b("div"),ne.textContent=ae,Oe=oe(),Ce=b("select"),Ue=b("option"),Ue.textContent=Ht,Zt=oe(),Je=b("label"),Ke=b("span"),Ke.textContent=ut,cn=oe(),yt=b("div"),yt.textContent=ft,Be=oe(),wt=b("select"),Te=b("option"),Te.textContent=et,Pt=oe(),Ze=b("label"),Lt=b("span"),Lt.textContent=nr,un=oe(),Ct=b("div"),Ct.textContent=rr,Ln=oe(),kt=b("select"),tt=b("option"),tt.textContent=gn,qn=oe(),ot=b("label"),qt=b("span"),qt.textContent=ar,fn=oe(),Rt=b("div"),Rt.textContent=or,dt=oe(),Tt=b("select"),St=b("option"),St.textContent=yn,Dn=oe(),it=b("label"),Dt=b("span"),Dt.textContent=Fo,Fa=oe(),vn=b("div"),vn.textContent=$o,$a=oe(),_n=b("select"),Kt=b("option"),Kt.textContent=Vo,Rr=oe(),Ft=b("div"),Ft.innerHTML=Bo,this.h()},l(He){t=x(He,"DIV",{class:!0,id:!0});var st=X(t);n=x(st,"DIV",{class:!0});var bn=X(n);r=x(bn,"DIV",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-107q3q1"&&(r.innerHTML=a),o=ie(bn),i=x(bn,"DIV",{class:!0});var Qt=X(i);s=x(Qt,"SELECT",{class:!0,id:!0});var ir=X(s);l=x(ir,"OPTION",{"data-svelte-h":!0}),ee(l)!=="svelte-1msln"&&(l.textContent=c),ir.forEach(v),u=ie(Qt),f=x(Qt,"SELECT",{class:!0,id:!0});var Uo=X(f);d=x(Uo,"OPTION",{"data-svelte-h":!0}),ee(d)!=="svelte-1msln"&&(d.textContent=h),Uo.forEach(v),_=ie(Qt),g=x(Qt,"BUTTON",{class:!0,id:!0,"data-svelte-h":!0}),ee(g)!=="svelte-2z7m03"&&(g.textContent=q),Qt.forEach(v),bn.forEach(v),st.forEach(v),S=ie(He),T=x(He,"DIV",{class:!0,id:!0});var $r=X(T);P=x($r,"DIV",{class:!0});var Vr=X(P);E=x(Vr,"SELECT",{class:!0,id:!0});var zo=X(E);y=x(zo,"OPTION",{"data-svelte-h":!0}),ee(y)!=="svelte-1msln"&&(y.textContent=w),zo.forEach(v),A=ie(Vr),N=x(Vr,"SELECT",{class:!0,id:!0});var Yo=X(N);k=x(Yo,"OPTION",{"data-svelte-h":!0}),ee(k)!=="svelte-1msln"&&(k.textContent=$),Yo.forEach(v),Vr.forEach(v),M=ie($r),I=x($r,"DIV",{class:!0});var Br=X(I);R=x(Br,"DIV",{class:!0,"data-svelte-h":!0}),ee(R)!=="svelte-1gypapr"&&(R.innerHTML=U),Q=ie(Br),F=x(Br,"DIV",{class:!0,id:!0});var In=X(F);K=x(In,"DIV",{class:!0,id:!0});var Ur=X(K);L=x(Ur,"DIV",{class:!0});var Wo=X(L);O=x(Wo,"DIV",{class:!0,id:!0});var zr=X(O);G=x(zr,"DIV",{class:!0});var Go=X(G);Me(se.$$.fragment,Go),Go.forEach(v),B=ie(zr),le=x(zr,"DIV",{class:!0,id:!0}),X(le).forEach(v),zr.forEach(v),Wo.forEach(v),ce=ie(Ur),de=x(Ur,"DIV",{class:!0});var Yr=X(de);m=x(Yr,"DIV",{class:!0});var jo=X(m);W=x(jo,"DIV",{class:!0});var Wr=X(W);ye=x(Wr,"DIV",{class:!0});var Xo=X(ye);Me(j.$$.fragment,Xo),Xo.forEach(v),te=ie(Wr),re=x(Wr,"DIV",{class:!0,id:!0}),X(re).forEach(v),Wr.forEach(v),jo.forEach(v),V=ie(Yr),D=x(Yr,"DIV",{class:!0});var Zo=X(D);Y=x(Zo,"DIV",{class:!0});var Gr=X(Y);pe=x(Gr,"DIV",{class:!0});var Ko=X(pe);Me(ue.$$.fragment,Ko),Ko.forEach(v),H=ie(Gr),he=x(Gr,"DIV",{class:!0,id:!0}),X(he).forEach(v),Gr.forEach(v),Zo.forEach(v),Yr.forEach(v),Ur.forEach(v),$e=ie(In),ke=x(In,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ee(ke)!=="svelte-ittqtt"&&(ke.innerHTML=xe),Ne=ie(In),qe=x(In,"DIV",{class:!0});var Qo=X(qe);we=x(Qo,"DIV",{class:!0});var ht=X(we);Ge=x(ht,"H4",{class:!0,"data-svelte-h":!0}),ee(Ge)!=="svelte-1ywp2eh"&&(Ge.textContent=Xe),je=ie(ht),Ot=x(ht,"BR",{}),Et=ie(ht),J=x(ht,"LABEL",{class:!0});var Nn=X(J);fe=x(Nn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ee(fe)!=="svelte-26q0d9"&&(fe.textContent=be),Z=ie(Nn),ne=x(Nn,"DIV",{class:!0,"data-svelte-h":!0}),ee(ne)!=="svelte-3boqv3"&&(ne.textContent=ae),Oe=ie(Nn),Ce=x(Nn,"SELECT",{class:!0,id:!0});var Jo=X(Ce);Ue=x(Jo,"OPTION",{"data-svelte-h":!0}),ee(Ue)!=="svelte-1msln"&&(Ue.textContent=Ht),Jo.forEach(v),Nn.forEach(v),Zt=ie(ht),Je=x(ht,"LABEL",{class:!0});var On=X(Je);Ke=x(On,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ee(Ke)!=="svelte-1stzdk0"&&(Ke.textContent=ut),cn=ie(On),yt=x(On,"DIV",{class:!0,"data-svelte-h":!0}),ee(yt)!=="svelte-1n6ege7"&&(yt.textContent=ft),Be=ie(On),wt=x(On,"SELECT",{class:!0,id:!0});var ei=X(wt);Te=x(ei,"OPTION",{"data-svelte-h":!0}),ee(Te)!=="svelte-1msln"&&(Te.textContent=et),ei.forEach(v),On.forEach(v),Pt=ie(ht),Ze=x(ht,"LABEL",{class:!0});var Hn=X(Ze);Lt=x(Hn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ee(Lt)!=="svelte-j1nbmh"&&(Lt.textContent=nr),un=ie(Hn),Ct=x(Hn,"DIV",{class:!0,"data-svelte-h":!0}),ee(Ct)!=="svelte-q3h5s3"&&(Ct.textContent=rr),Ln=ie(Hn),kt=x(Hn,"SELECT",{class:!0,id:!0});var ti=X(kt);tt=x(ti,"OPTION",{"data-svelte-h":!0}),ee(tt)!=="svelte-1msln"&&(tt.textContent=gn),ti.forEach(v),Hn.forEach(v),qn=ie(ht),ot=x(ht,"LABEL",{class:!0});var Rn=X(ot);qt=x(Rn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ee(qt)!=="svelte-13akdy5"&&(qt.textContent=ar),fn=ie(Rn),Rt=x(Rn,"DIV",{class:!0,"data-svelte-h":!0}),ee(Rt)!=="svelte-i17isc"&&(Rt.textContent=or),dt=ie(Rn),Tt=x(Rn,"SELECT",{class:!0,id:!0});var ni=X(Tt);St=x(ni,"OPTION",{"data-svelte-h":!0}),ee(St)!=="svelte-1msln"&&(St.textContent=yn),ni.forEach(v),Rn.forEach(v),Dn=ie(ht),it=x(ht,"LABEL",{class:!0});var Fn=X(it);Dt=x(Fn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ee(Dt)!=="svelte-1t4yf28"&&(Dt.textContent=Fo),Fa=ie(Fn),vn=x(Fn,"DIV",{class:!0,"data-svelte-h":!0}),ee(vn)!=="svelte-i17isc"&&(vn.textContent=$o),$a=ie(Fn),_n=x(Fn,"SELECT",{class:!0,id:!0});var ri=X(_n);Kt=x(ri,"OPTION",{"data-svelte-h":!0}),ee(Kt)!=="svelte-1msln"&&(Kt.textContent=Vo),ri.forEach(v),Fn.forEach(v),ht.forEach(v),Qo.forEach(v),In.forEach(v),Br.forEach(v),$r.forEach(v),Rr=ie(He),Ft=x(He,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ee(Ft)!=="svelte-16t1fa1"&&(Ft.innerHTML=Bo),this.h()},h(){p(r,"class","intro-text p-8"),l.__value="Not_selected",rt(l,l.__value),p(s,"class","select max-w-48 variant-outline-surface"),p(s,"id","sector_selector_landing"),d.__value="Not_selected",rt(d,d.__value),p(f,"class","select max-w-48 variant-outline-surface"),p(f,"id","asset_class_selector_landing"),p(g,"class","btn variant-filled-surface"),p(g,"id","go_button_landing"),p(i,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),p(n,"class","intro-box card"),p(t,"class","content p-8"),p(t,"id","content-landing-page"),y.__value="Not_selected",rt(y,y.__value),p(E,"class","select max-w-48 variant-outline-surface"),p(E,"id","sector_selector"),k.__value="Not_selected",rt(k,k.__value),p(N,"class","select max-w-48 variant-outline-surface"),p(N,"id","asset_class_selector"),p(P,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),p(R,"class","analysis-intro grid sm:grid-cols-12 p-2"),p(G,"class","trajectory-explanation"),p(le,"class","trajectory-plot"),p(le,"id","trajectory-plot"),p(O,"class","plot-trajectory-box grid card p-8"),p(O,"id","trajectory-box"),p(L,"class","plot-trajectory-card-box p-2 sm:col-span-10"),p(ye,"class","techmix-explanation"),p(re,"class","techmix-plot"),p(re,"id","techmix-plot"),p(W,"class","techmix-plot-box sm:col-span-3 card p-8"),p(m,"class","techmix-plot-card-box p-2 sm:col-span-3"),p(pe,"class","emission-intensity-explanation"),p(he,"class","emission-intensity-plot"),p(he,"id","emission-intensity-plot"),p(Y,"class","emission-intensity-plot-box sm:col-span-3 card p-8"),p(D,"class","emission-intensity-card-box p-2 sm:col-span-3"),p(de,"class","other-sector-plots-box grid sm:grid-cols-6"),p(K,"class","analysis-plots sm:col-span-10"),p(K,"id","analysis-plots"),p(ke,"class","alert-message sm:col-span-10 bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),p(ke,"role","alert"),p(ke,"id","alert-message-parameters"),p(Ge,"class","h4"),p(fe,"id","scenario-source-label"),p(fe,"class","svelte-1a8g59e"),p(ne,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),Ue.__value="Not_selected",rt(Ue,Ue.__value),p(Ce,"class","select variant-outline-surface"),p(Ce,"id","scenario_source_selector"),p(J,"class","label"),p(Ke,"id","scenario-label"),p(Ke,"class","svelte-1a8g59e"),p(yt,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),Te.__value="Not_selected",rt(Te,Te.__value),p(wt,"class","select variant-outline-surface"),p(wt,"id","scenario_selector"),p(Je,"class","label"),p(Lt,"id","allocation-method-label"),p(Lt,"class","svelte-1a8g59e"),p(Ct,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),tt.__value="Not_selected",rt(tt,tt.__value),p(kt,"class","select variant-outline-surface"),p(kt,"id","allocation_method_selector"),p(Ze,"class","label"),p(qt,"id","equity-market-label"),p(qt,"class","svelte-1a8g59e"),p(Rt,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),St.__value="Not_selected",rt(St,St.__value),p(Tt,"class","select variant-outline-surface"),p(Tt,"id","equity_market_selector"),p(ot,"class","label"),p(Dt,"id","benchmark-label"),p(Dt,"class","svelte-1a8g59e"),p(vn,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),Kt.__value="Not_selected",rt(Kt,Kt.__value),p(_n,"class","select variant-outline-surface"),p(_n,"id","benchmark_selector"),p(it,"class","label"),p(we,"class","analysis-parameters sm:col-span-2 p-8 card"),p(qe,"class","parameters-box p-2 sm:col-span-2"),p(F,"class","analysis-content grid sm:grid-cols-12"),p(F,"id","analysis-content"),p(I,"class","analysis p-8"),p(T,"class","content p-8 hidden"),p(T,"id","content-sector-view"),p(Ft,"class","alert-message bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),p(Ft,"role","alert"),p(Ft,"id","alert-message")},m(He,st){z(He,t,st),C(t,n),C(n,r),C(n,o),C(n,i),C(i,s),C(s,l),C(i,u),C(i,f),C(f,d),C(i,_),C(i,g),z(He,S,st),z(He,T,st),C(T,P),C(P,E),C(E,y),C(P,A),C(P,N),C(N,k),C(T,M),C(T,I),C(I,R),C(I,Q),C(I,F),C(F,K),C(K,L),C(L,O),C(O,G),Ee(se,G,null),C(O,B),C(O,le),C(K,ce),C(K,de),C(de,m),C(m,W),C(W,ye),Ee(j,ye,null),C(W,te),C(W,re),C(de,V),C(de,D),C(D,Y),C(Y,pe),Ee(ue,pe,null),C(Y,H),C(Y,he),C(F,$e),C(F,ke),C(F,Ne),C(F,qe),C(qe,we),C(we,Ge),C(we,je),C(we,Ot),C(we,Et),C(we,J),C(J,fe),C(J,Z),C(J,ne),C(J,Oe),C(J,Ce),C(Ce,Ue),C(we,Zt),C(we,Je),C(Je,Ke),C(Je,cn),C(Je,yt),C(Je,Be),C(Je,wt),C(wt,Te),C(we,Pt),C(we,Ze),C(Ze,Lt),C(Ze,un),C(Ze,Ct),C(Ze,Ln),C(Ze,kt),C(kt,tt),C(we,qn),C(we,ot),C(ot,qt),C(ot,fn),C(ot,Rt),C(ot,dt),C(ot,Tt),C(Tt,St),C(we,Dn),C(we,it),C(it,Dt),C(it,Fa),C(it,vn),C(it,$a),C(it,_n),C(_n,Kt),z(He,Rr,st),z(He,Ft,st),Fr=!0},p(He,[st]){const bn={};st&1&&(bn.$$scope={dirty:st,ctx:He}),se.$set(bn);const Qt={};st&1&&(Qt.$$scope={dirty:st,ctx:He}),j.$set(Qt);const ir={};st&1&&(ir.$$scope={dirty:st,ctx:He}),ue.$set(ir)},i(He){Fr||(me(se.$$.fragment,He),me(j.$$.fragment,He),me(ue.$$.fragment,He),Fr=!0)},o(He){ge(se.$$.fragment,He),ge(j.$$.fragment,He),ge(ue.$$.fragment,He),Fr=!1},d(He){He&&(v(t),v(S),v(T),v(Rr),v(Ft)),Pe(se),Pe(j),Pe(ue)}}}function $g(e){return Co(async()=>{let n=await(await fetch("data/data_exposure_stats.json")).json(),a=await(await fetch("data/data_techmix_sector.json")).json(),i=await(await fetch("data/data_trajectory_alignment.json")).json(),l=await(await fetch("data/data_emissions.json")).json();function c(){try{new $l(document.querySelector("#exposure-stats"),n)}catch($){console.error("Error fetching exposure stats: ",$),document.querySelector("#exposure-stats").innerHTML="",document.querySelector("#exposure-stats").appendChild(pt())}}function u(){try{new xg(document.querySelector("#techmix-plot"),a)}catch($){console.error("Error fetching techmix: ",$),document.querySelector("#techmix-plot").innerHTML="",document.querySelector("#techmix-plot").appendChild(pt())}}function f(){try{const $=["Power","Automotive","Oil&Gas","Coal"];let M=document.querySelector("#sector_selector").value;$.includes(M)?(document.querySelector("#trajectory-box").classList.remove("hidden"),new wg(document.querySelector("#trajectory-plot"),i)):document.querySelector("#trajectory-box").classList.add("hidden")}catch($){console.error("Error fetching trajectory alignment: ",$),document.querySelector("#trajectory-box").innerHTML="",document.querySelector("#trajectory-box").appendChild(pt())}}function d(){try{new Cg(document.querySelector("#emission-intensity-plot"),l)}catch($){console.error("Error fetching emission intensity plot: ",$),document.querySelector("#emission-intensity-plot").innerHTML="",document.querySelector("#emission-intensity-plot").appendChild(pt())}}function h(){const $=document.querySelector("#sector_selector_landing"),M=document.querySelector("#sector_selector");let I=new Set(ve(i,F=>F.ald_sector).keys()),R=new Set(ve(a,F=>F.ald_sector).keys()),U=new Set(ve(l,F=>F.sector).keys()),Q=Array.from(I.union(R).union(U));$.length=0,M.length=0,Q.forEach(F=>$.add(new Option(F,F))),Q.forEach(F=>M.add(new Option(F,F)))}function _(){const $=document.querySelector("#asset_class_selector_landing"),M=document.querySelector("#asset_class_selector");let I=new Set(ve(i,F=>F.asset_class).keys()),R=new Set(ve(a,F=>F.asset_class).keys()),U=new Set(ve(l,F=>F.asset_class).keys()),Q=Array.from(I.union(R).union(U));$.length=0,M.length=0,Q.forEach(F=>$.add(new Option(F,F))),Q.forEach(F=>M.add(new Option(F,F)))}function g(){let $=document.querySelector("#asset_class_selector").value,M=document.querySelector("#sector_selector").value,I=a.filter(F=>F.asset_class==$).filter(F=>F.ald_sector==M),R=i.filter(F=>F.asset_class==$).filter(F=>F.ald_sector==M),U=l.filter(F=>F.asset_class==$).filter(F=>F.ald_sector==M);return[I,R,U].some(F=>F.length!=0)}function q(){document.querySelector("#analysis-content").classList.add("hidden"),document.querySelector("#alert-message").classList.remove("hidden")}function S(){document.querySelector("#analysis-content").classList.remove("hidden"),document.querySelector("#alert-message").classList.add("hidden")}function T(){document.querySelector("#analysis-plots").classList.add("hidden"),document.querySelector("#alert-message-parameters").classList.remove("hidden")}function P(){document.querySelector("#analysis-plots").classList.remove("hidden"),document.querySelector("#alert-message-parameters").classList.add("hidden")}function E(){let $=document.querySelector("#scenario_source_selector").value,M=document.querySelector("#asset_class_selector").value,I=document.querySelector("#sector_selector").value,R=a.filter(L=>L.asset_class==M).filter(L=>L.ald_sector==I),U=new Set(ve(R,L=>L.scenario_source).keys()),Q=i.filter(L=>L.asset_class==M).filter(L=>L.ald_sector==I),F=new Set(ve(Q,L=>L.scenario_source).keys()),K=Array.from(U.union(F));if(K.length!=0){P();const L=document.querySelector("#scenario_source_selector");L.length=0,K.forEach(O=>L.add(new Option(O,O))),L.options[Math.max(0,K.indexOf($))].selected="selected"}else T()}function y(){let $=document.querySelector("#asset_class_selector").value,M=document.querySelector("#sector_selector").value,I=document.querySelector("#scenario_source_selector").value,R=document.querySelector("#scenario_selector").value,U=a.filter(F=>F.asset_class==$).filter(F=>F.ald_sector==M).filter(F=>F.scenario_source==I),Q=ve(U,F=>F.scenario).keys();if(Q.length!=0){P();const F=document.querySelector("#scenario_selector");F.length=0,Q.forEach(K=>F.add(new Option(K,K))),F.options[Math.max(0,Q.indexOf(R))].selected="selected"}else T()}function w(){let $=document.querySelector("#allocation_method_selector").value,M=document.querySelector("#asset_class_selector").value,I=document.querySelector("#sector_selector").value,R=l.filter(L=>L.asset_class==M).filter(L=>L.ald_sector==I),U=new Set(ve(R,L=>L.allocation_translation).keys()),Q=i.filter(L=>L.asset_class==M).filter(L=>L.ald_sector==I),F=new Set(ve(Q,L=>L.allocation_translation).keys()),K=Array.from(U.union(F));if(K.length!=0){P();const L=document.querySelector("#allocation_method_selector");L.length=0,K.forEach(O=>L.add(new Option(O,O))),L.options[Math.max(0,K.indexOf($))].selected="selected"}else T()}function A(){let $=document.querySelector("#equity_market_selector").value,M=document.querySelector("#asset_class_selector").value,I=document.querySelector("#sector_selector").value,R=a.filter(L=>L.asset_class==M).filter(L=>L.ald_sector==I),U=new Set(ve(R,L=>L.equity_market).keys()),Q=i.filter(L=>L.asset_class==M).filter(L=>L.ald_sector==I),F=new Set(ve(Q,L=>L.equity_market_translation).keys()),K=Array.from(U.union(F));if(K.length!=0){P();const L=document.querySelector("#equity_market_selector");L.length=0,K.forEach(O=>L.add(new Option(O,O))),L.options[Math.max(0,K.indexOf($))].selected="selected"}else T()}function N(){let $=document.querySelector("#benchmark_selector").value,M=document.querySelector("#asset_class_selector").value,I=document.querySelector("#sector_selector").value,R=document.querySelector("#equity_market_selector").value,U=a.filter(O=>O.asset_class==M).filter(O=>O.ald_sector==I).filter(O=>O.equity_market==R).filter(O=>!O.this_portfolio),Q=new Set(ve(U,O=>O.portfolio_name).keys()),F=i.filter(O=>O.asset_class==M).filter(O=>O.ald_sector==I).filter(O=>O.equity_market==R).filter(O=>O.this_benchmark),K=new Set(ve(F,O=>O.portfolio_name).keys()),L=Array.from(Q.union(K));if(L.length!=0){P();const O=document.querySelector("#benchmark_selector");O.length=0,L.forEach(G=>O.add(new Option(G,G))),O.options[Math.max(0,L.indexOf($))].selected="selected"}else T()}function k(){const $=document.querySelector("#go_button_landing"),M=document.querySelector("#asset_class_selector"),I=document.querySelector("#sector_selector");$.addEventListener("click",function(){let L=document.querySelector("#asset_class_selector_landing").value,O=document.querySelector("#sector_selector_landing").value;M.value=L,I.value=O,document.querySelector("#content-landing-page").classList.toggle("hidden"),document.querySelector("#content-sector-view").classList.toggle("hidden"),c(),g()?(S(),f(),u(),d()):q()}),I.addEventListener("change",function(){c(),g()?(S(),E(),y(),A(),N(),f(),u(),d()):q()}),M.addEventListener("change",function(){c(),g()?(S(),E(),y(),w(),A(),N(),f(),u(),d()):q()}),document.querySelector("#benchmark_selector").addEventListener("change",function(){f(),u()}),document.querySelector("#scenario_source_selector").addEventListener("change",function(){y(),f(),u(),d()}),document.querySelector("#scenario_selector").addEventListener("change",function(){u(),d()}),document.querySelector("#equity_market_selector").addEventListener("change",function(){N(),f(),u(),d()}),document.querySelector("#allocation_method_selector").addEventListener("change",function(){f(),d()})}h(),_(),c(),g()?(S(),E(),y(),w(),A(),N(),k(),u(),f(),d()):q()}),[]}class Vg extends on{constructor(t){super(),sn(this,t,$g,Fg,an,{})}}function Bg(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}class Ug{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,r.innerHTML="",r.classList.add("BubbleChart"),r.classList.add("d3chart"),r.classList.add("companybubble_chart"),r.classList.add("chart_container"),this.container=Re(r);const a=600,o=500,i=40,s=60,l=80,c=85;let u=o-i-l,f=5,d="plan_tech_share",h="y",_="port_weight",g="#A9A9A9",q="company_name",S="#1b324f",T="#1b324f",P="Current capacity in low-carbon technologies",E="(as % of sector production capacity)",y="Planned new capacity in low-carbon technologies",w="(as a % of the scenario target for YEAR)",A=P,N=y,k="Weight in portfolio (% of AUM)",$="Portfolio weight";const M=this.container.append("svg").attr("width",a).attr("height",o).attr("viewBox",[0,0,a,o]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let I=document.querySelector("#sector_selector").value,R=document.querySelector("#asset_class_selector").value,U=document.querySelector("#scenario_source_selector").value,Q=document.querySelector("#scenario_selector").value,F=document.querySelector("#allocation_method_selector").value,K=n.filter(Y=>Y.asset_class==R).filter(Y=>Y.ald_sector_translation==I).filter(Y=>Y.scenario_source==U).filter(Y=>Y.scenario==Q).filter(Y=>Y.allocation==F);var L=K.map(Y=>Y.year)[0]+f,O=0;let G=tn().range([0,u]).domain([0-O,1+O]).nice(),se=tn().range([u,0]).clamp(!0).domain([0-O,1+O]).nice(),B=tn().range([1,20]).domain(dn(K,Y=>Y[_])).nice(),le=Sn(G).ticks(6).tickFormat(We(".0%")),ce=Xn(se).ticks(6).tickFormat(We(".0%"));M.append("g").attr("class","xaxis").style("stroke-width","1px").attr("transform","translate("+c+","+(o-l)+")"),M.select(".xaxis").call(le).selectAll(".domain").attr("stroke",g),M.select(".xaxis").selectAll(".tick").selectAll("line").attr("stroke",g),M.select(".xaxis").selectAll("text").style("font-size","1.2em"),M.append("text").attr("class","xtitle").attr("transform","translate("+(u/2+c)+" ,"+(o-l+40)+")").style("text-anchor","middle").text(P),M.append("text").attr("class","xsubtitle").attr("transform","translate("+(u/2+c)+" ,"+(o-l+55)+")").style("text-anchor","middle").text(E),M.append("g").attr("class","yaxis").style("stroke-width","1px").attr("transform","translate("+c+","+(i+Math.max(0,o-i-l-u))+")"),M.append("text").attr("class","ytitle").attr("transform","rotate(-90)").attr("x",-(o/2)).attr("y",10).attr("dy","1em").style("text-anchor","middle").text(y),w=w.replaceAll("YEAR",L),M.append("text").attr("class","ysubtitle").attr("transform","rotate(-90)").attr("y",25).attr("x",-(o/2)).attr("dy","1em").style("text-anchor","middle").text(w),M.select(".yaxis").call(ce).selectAll(".domain").attr("stroke",g),M.select(".yaxis").selectAll(".tick").selectAll("line").attr("stroke",g),M.select(".yaxis").selectAll("text").style("font-size","1.2em"),M.append("line").attr("transform","translate("+c+","+(i+Math.max(0,o-i-l-u))+")").attr("x1",G(.5)).attr("x2",G(.5)).attr("y1",se(0)).attr("y2",se(1)).attr("stroke","black").attr("stroke-dasharray","1, 2"),M.append("line").attr("transform","translate("+c+","+(i+Math.max(0,o-i-l-u))+")").attr("x1",G(0)).attr("x2",G(1)).attr("y1",se(.5)).attr("y2",se(.5)).attr("stroke","black").attr("stroke-dasharray","1, 2"),M.append("g").attr("transform","translate("+c+","+(i+Math.max(0,o-i-l-u))+")").selectAll(".bubble").data(K).enter().append("circle").attr("class","bubble").attr("cx",Y=>G(Y[d])).attr("cy",Y=>se(Y[h])).attr("r",Y=>B(Y[_])).style("opacity","0.7").style("fill",S).attr("stroke","#1b324f").on("mouseover",re).on("mousemove",V).on("mouseout",D);let de=B.ticks(3),m=de.map(Y=>B(Y)),W=Bg(m.map(Y=>Y*2)),ye=ou(de,W),j=M.append("g").attr("transform","translate("+(u+c+s/4)+","+(i+u/5)+")");j.selectAll("circle").data(ye).enter().append("circle").attr("cx",35).attr("cy",Y=>20+Y[1]).attr("r",Y=>B(Y[0])).style("fill",S).attr("stroke",T).style("opacity","0.7"),j.selectAll("text").data(ye).enter().append("text").text(Y=>We("~%")(Y[0].toPrecision(3))).attr("alignment-baseline","central").attr("font-size","0.9em").attr("x",40+B.range()[1]).attr("y",Y=>20+Y[1]),j.append("text").attr("x",10).attr("y",5).attr("alignment-baseline","central").text($);let te=Re(r).append("div").attr("class","d3tooltip").style("display","none");function re(Y){let pe="<br>"+k+": "+We("~%")(Y[_].toPrecision(3));te.html("<b>"+Y[q]+"</b><br><br>"+A+": "+We(".1%")(Y[d])+"<br>"+N+": "+We(".1%")(Y[h])+pe).style("display","inline-block").style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function V(){te.style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function D(){te.style("display","none")}}}class zg{constructor(t,n,r,a){let o;typeof t=="string"?o=document.querySelector(t):o=t,o.innerHTML="",o.classList.add("techexposure_company"),o.classList.add("d3chart"),o.classList.add("chart_container"),this.container=Re(o);const i=928,s=775,l=40,c=90,u=140;let f=90;const d=17,h=2;let _={before_sec:" of ",after_sec:" sector"},g="Weights",q={befor_scen:"* Aligned to ",after_scen:" scenario in year ",after_year:"."};const S=this.container.append("svg").attr("width",i).attr("height",s).attr("viewBox",[0,0,i,s]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;"),T=Re(o).append("div").attr("class","d3tooltip").style("display","none");let P=document.querySelector("#sector_selector").value,E=document.querySelector("#asset_class_selector").value,y=document.querySelector("#scenario_source_selector").value,w=document.querySelector("#scenario_selector").value,A=document.querySelector("#allocation_method_selector").value,N=n.filter(J=>J.ald_sector_translation==P)[0].ald_sector,[k,$]=$e(r,E,P,y,w,A);if(k=qe(k,a.filter(J=>J.sector==P)[0].tech_order),k.length==0)throw new Error("No data found after applying selected filters");n.forEach((J,fe)=>{n[fe].id_translation=J.id});let[M,I]=$e(n,E,P,y,w,A);if(M.length==0)throw new Error("No data found after applying selected filters");M=qe(M,a.filter(J=>J.sector==P)[0].tech_order);let R=Ge(M,"id"),U=Ge(k,"id"),F=(R>=U?R:U).length*11;f<F&&(f=F);let K=hn(),L=tn().domain([0,1]).range([0,i-f-c]),O=hn(),G=nl(M[0]).slice(1),se=ve(M,function(J){return J.id}).keys(),B=ve(k,function(J){return J.id}).keys(),le=B.length+se.length,ce=(s-l-u-d)/le,de=S.append("g").attr("class","y_axis_labels_up"),m=S.append("g").attr("class","y_axis_labels_down"),W=S.append("g").attr("class","bars_group").attr("transform","translate("+f+","+l+")");we(W,L,K,de,"bars_up",k,G,B,0,i-c-f,ce,h,N),we(W,L,K,m,"bars_down",M,G,se,B.length*ce+d,i-c-f,ce,h,N);var ye=We(".0%");S.append("g").attr("class","xaxis_group").attr("transform","translate("+f+","+(s-u)+")").call(Sn(L).tickFormat(ye)).selectAll("text").style("text-anchor","middle").style("font-size","2em");var j=I.map(function(J){return(J.port_weight*100).toFixed(2)+"%"});O.range([0,se.length*ce]).domain(se),S.append("g").attr("class","y_axis_weights_labels").attr("transform","translate( "+(i-c+5)+", "+(B.length*ce+d+l)+" )").call(ks(O).tickSize(0).tickValues(se).tickFormat(function(J,fe){return j[fe]})).call(J=>J.select(".domain").remove()).selectAll("text").attr("font-size","2em"),S.append("g").attr("class","weights_label").append("text").attr("x",i-c+5+1).attr("y",B.length*ce+d-5+l).attr("font-size","1.5em").text(g);let te=S.append("g").attr("class","legend").attr("transform","translate( "+f+","+(s-2*u/3)+")"),re=[];G.forEach((J,fe)=>{re[fe]={},re[fe].technology=J,re[fe].technology_translation=n.filter(be=>be.technology==J)[0].technology_translation,re[fe].class=N+" "+J});let D=Ge(re,"technology_translation").length*10,Y=Math.round((i-f-c)/(D+45));Math.ceil(re.length/Y)==1&&(D=Math.max(100,D)),te.selectAll("rect").data(re).enter().append("rect").attr("class",J=>J.class).attr("width",15).attr("height",15).attr("x",(J,fe)=>fe%Y*(D+45)).attr("y",(J,fe)=>Math.floor(fe/Y)*30),te.selectAll("text").data(re).enter().append("text").text(J=>J.technology_translation).style("alignment-baseline","central").style("text-anchor","start").attr("font-size","0.9em").attr("x",(J,fe)=>fe%Y*(D+45)+20).attr("y",(J,fe)=>Math.floor(fe/Y)*30+7);let pe=S.append("g").attr("class","footnote").attr("transform","translate("+(i-c)+","+(s-u/6)+")"),ue=q.befor_scen+y+" "+w+q.after_scen+r.map(J=>J.year)[0]+q.after_year;pe.selectAll("text").data([ue]).enter().append("text").attr("x",0).attr("y",0).style("text-anchor","end").style("alignment-baseline","central").style("font-size","1.5em").text(J=>J);function H(J){let fe=[];return J.forEach(be=>{ne=!1;for(var Z=0;Z<fe.length;Z++)var ne=ne||fe[Z].id==be.id_translation;ne||fe.push({id:be.id_translation,port_weight:be.port_weight})}),fe}function he(J,fe){var be=[];return fe.forEach((Z,ne)=>{be[ne]={},be[ne].id=Z.id,J.filter(ae=>ae.id_translation==Z.id).forEach(function(ae){be[ne][ae.technology]=ae.plan_tech_share})}),be}function $e(J,fe,be,Z,ne,ae){let Oe=Ne(J,fe,be,Z,ne,ae);var Ce=H(Oe);return[he(Oe,Ce),Ce]}function ke(J){let fe=r.findIndex(be=>be.technology===J);return fe>-1?r[fe].technology_translation:(fe=n.findIndex(be=>be.technology===J),fe>-1?n[fe].technology_translation:J)}function xe(J){let fe=r.findIndex(be=>be.ald_sector===J);return fe>-1?r[fe].ald_sector_translation:(fe=n.findIndex(be=>be.ald_sector===J),fe>-1?n[fe].ald_sector_translation:J)}function Ne(J,fe,be,Z,ne,ae){return J.filter(Ce=>Ce.asset_class_translation==fe).filter(Ce=>Ce.ald_sector_translation==be).filter(Ce=>Ce.scenario_source==Z).filter(Ce=>Ce.scenario==ne).filter(Ce=>Ce.allocation==ae)}function qe(J,fe){let be=[];return J.forEach(function(Z,ne){if(be[ne]={},be[ne].id=Z.id,fe.forEach(function(ae){Object.keys(Z).includes(ae)&&(be[ne][ae]=Z[ae])}),Object.keys(Z).length!=Object.keys(be[ne]).length)throw new Error("Not all technologies for the sector found in json/tech_order_in_sectors.json dataset. Please append the dataset with new technologies if needed.")}),be}function we(J,fe,be,Z,ne,ae,Oe,Ce,Ue,Ht,Zt,Je,Ke){be.range([0,Ce.length*Zt]).domain(Ce),Z.attr("transform","translate("+f+","+(l+Ue)+")").call(Xn(be).tickSize(0)).call(Be=>Be.select(".domain").remove()).selectAll("text").attr("font-size","2em");var ut=lt(Ml),cn=Nl().keys(Oe)(ae);J.selectAll("rect").selectAll("."+ne).data([]).exit().attr("width",0).remove(),J.selectAll("g").selectAll("."+ne).data([]).exit().remove(),J.append("g").selectAll("g").data(cn).enter().append("g").attr("class",Be=>Ke+" "+Be.key+" "+ne).attr("fill",function(Be){return ut(Be.key)}).attr("technology",function(Be){return ke(Be.key)}).attr("sector",function(){return xe(Ke)}).selectAll("rect").data(function(Be){return Be}).enter().append("rect").attr("class",ne).attr("x",function(Be){return fe(Be[0])}).attr("y",function(Be){return Ue+be(Be.data.id)}).attr("width",function(Be){return fe(Be[1])-fe(Be[0])}).attr("height",Zt-Je).on("mouseover",je).on("mouseout",Et).on("mousemove",Ot)}function Ge(J,fe){let be=ko(J,ne=>ne[fe].length);return new Array(be).join("a")}function Xe(J){return J=Math.round((J+Number.EPSILON)*1e3)/10,J<.1?"< 0.1%":J+"%"}function je(J){var fe=Re(this.parentElement),be=fe.attr("technology"),Z=fe.attr("sector");T.html(be+"<br>"+Xe(J[1]-J[0])+_.before_sec+Z+_.after_sec).style("display","inline-block")}function Ot(){T.style("left",Fe.pageX+10+"px").style("top",Fe.pageY-20+"px")}function Et(){T.style("display","none")}}}function Yg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Wg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Gg(e){let t,n="Company Exposure to Low- and High-Carbon Technologies";return{c(){t=b("h4"),t.textContent=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-fpsons"&&(t.textContent=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function jg(e){let t,n=`This chart illustrates the current and future technology exposure and future
											plans for climate alignment of companies in the sector. Companies on the left
											have higher exposure to high-carbon technologies, while those on the right are
											more aligned with low-carbon solutions.
											<br/><br/>
											It also compares each company&#39;s plans for expanding low-carbon technologies against
											the selected climate scenario. Companies lower on the chart have smaller planned
											investments in low-carbon tech, while those higher up have larger planned expansions.
											<br/><br/>
											The size of the dots reflects each company&#39;s influence on the portfolio’s overall
											climate alignment, with larger dots representing companies with greater weight.`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-xu5sy0"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Xg(e){let t,n;return t=new gt({props:{$$slots:{content:[jg],summary:[Gg],iconOpen:[Wg],iconClosed:[Yg]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function Zg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-xmark")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Kg(e){let t;return{c(){t=b("i"),this.h()},l(n){t=x(n,"I",{class:!0}),X(t).forEach(v),this.h()},h(){p(t,"class","fa-xl fa-solid fa-circle-info")},m(n,r){z(n,t,r)},p:_e,d(n){n&&v(t)}}}function Qg(e){let t,n="Future technology mix";return{c(){t=b("h4"),t.textContent=n,this.h()},l(r){t=x(r,"H4",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-xda8ug"&&(t.textContent=n),this.h()},h(){p(t,"class","h4")},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function Jg(e){let t,n=`This section presents the <strong>most significant companies</strong> in your
											portfolio, based on their weight, within the <strong>Power</strong> and
											<strong>Automotive</strong>
											sectors. For each company, we show its future <strong>technology mix</strong>.
											<br/> <br/>
											By understanding the <strong>technology breakdown</strong> of these key
											companies, you can assess how their planned production activities contribute
											to the overall
											<strong>climate alignment</strong>
											of the portfolio. This analysis supports
											<strong>transition risk management</strong>
											and helps inform <strong>engagement strategies</strong> for companies that may
											need to accelerate their transition to low-carbon solutions.`;return{c(){t=b("p"),t.innerHTML=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-qpzt5q"&&(t.innerHTML=n)},m(r,a){z(r,t,a)},p:_e,d(r){r&&v(t)}}}function e0(e){let t,n;return t=new gt({props:{$$slots:{content:[Jg],summary:[Qg],iconOpen:[Kg],iconClosed:[Zg]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,a){const o={};a&1&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function t0(e){let t,n,r,a=`<h2 class="h3 text-center">Please select a sector and an asset class for the analysis</h2> <br/> <p>The <strong>company-level analysis</strong> focuses on identifying the companies within your
				portfolio with the greatest impact on the overall climate alignment results for the
				<strong>Automotive</strong> and the <strong>Power</strong> Sectors on your listed equity and
				corporate bond investments.
				<br/><br/>
				To view the company-level results, select the appropriate options from the drop-down menus below
				and click <kbd class="kbd">Go!</kbd>. If no results appear after clicking
				<kbd class="kbd">Go!</kbd>, it likely means your portfolio does not have exposure to the
				selected sector or financial asset.</p>`,o,i,s,l,c="Please select",u,f,d,h="Please select",_,g,q="Go!",S,T,P,E,y,w="Please select",A,N,k,$="Please select",M,I,R,U=`<div class="analysis-intro-text sm:col-span-9 p-2"><h3 class="h3">Company-level analysis</h3> <p>This section allows you to drill down into specific companies and evaluate their role in
					driving or hindering progress towards low-carbon solutions. It highlights leaders and
					laggards in adopting low-carbon technologies, providing key insights for engagement
					strategies, investment decisions, and managing transition risks. This analysis supports
					climate-related decisions, such as investment selection, engagement, or exclusion, and
					helps shape targeted climate strategies.
					<br/><br/>
					Key features in this section:
					<br/><br/></p> <ul class="list-disc"><li><strong>Critical Players</strong>: Identify the most influential companies in your
						portfolio’s alignment with climate goals.</li> <li><strong>Leaders and Laggards</strong>: Discover which companies are at the forefront of
						adopting low-carbon alternatives and which are lagging behind.</li></ul> <br/></div> <div class="analysis-intro-stats sm:col-span-3"><div class="exposure-stats" id="exposure-stats"></div></div>`,Q,F,K,L,O,G,se,B,le,ce,de,m,W,ye,j,te,re,V,D=`<p class="font-bold">No data found for the parameter selection</p> <p class="text-sm">Please make a different selecion in the parameters panel or change the asset class or
					sector.</p>`,Y,pe,ue,H,he="Parameters",$e,ke,xe,Ne,qe,we="Scenario source",Ge,Xe,je,Ot="Please select",Et,J,fe,be="Scenario",Z,ne,ae,Oe="Please select",Ce,Ue,Ht,Zt="Allocation method",Je,Ke,ut,cn="Please select",yt,ft,Be='<p class="font-bold">No data found for this asset class / sector combination</p> <p class="text-sm">Please make a different selecion.</p>',wt;return se=new en({props:{$$slots:{default:[Xg]},$$scope:{ctx:e}}}),ye=new en({props:{$$slots:{default:[e0]},$$scope:{ctx:e}}}),{c(){t=b("div"),n=b("div"),r=b("div"),r.innerHTML=a,o=oe(),i=b("div"),s=b("select"),l=b("option"),l.textContent=c,u=oe(),f=b("select"),d=b("option"),d.textContent=h,_=oe(),g=b("button"),g.textContent=q,S=oe(),T=b("div"),P=b("div"),E=b("select"),y=b("option"),y.textContent=w,A=oe(),N=b("select"),k=b("option"),k.textContent=$,M=oe(),I=b("div"),R=b("div"),R.innerHTML=U,Q=oe(),F=b("div"),K=b("div"),L=b("div"),O=b("div"),G=b("div"),Ae(se.$$.fragment),B=oe(),le=b("div"),ce=oe(),de=b("div"),m=b("div"),W=b("div"),Ae(ye.$$.fragment),j=oe(),te=b("div"),re=oe(),V=b("div"),V.innerHTML=D,Y=oe(),pe=b("div"),ue=b("div"),H=b("h4"),H.textContent=he,$e=oe(),ke=b("br"),xe=oe(),Ne=b("label"),qe=b("span"),qe.textContent=we,Ge=oe(),Xe=b("select"),je=b("option"),je.textContent=Ot,Et=oe(),J=b("label"),fe=b("span"),fe.textContent=be,Z=oe(),ne=b("select"),ae=b("option"),ae.textContent=Oe,Ce=oe(),Ue=b("label"),Ht=b("span"),Ht.textContent=Zt,Je=oe(),Ke=b("select"),ut=b("option"),ut.textContent=cn,yt=oe(),ft=b("div"),ft.innerHTML=Be,this.h()},l(Te){t=x(Te,"DIV",{class:!0,id:!0});var et=X(t);n=x(et,"DIV",{class:!0});var Pt=X(n);r=x(Pt,"DIV",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-13ogo46"&&(r.innerHTML=a),o=ie(Pt),i=x(Pt,"DIV",{class:!0});var Ze=X(i);s=x(Ze,"SELECT",{class:!0,id:!0});var Lt=X(s);l=x(Lt,"OPTION",{"data-svelte-h":!0}),ee(l)!=="svelte-1msln"&&(l.textContent=c),Lt.forEach(v),u=ie(Ze),f=x(Ze,"SELECT",{class:!0,id:!0});var nr=X(f);d=x(nr,"OPTION",{"data-svelte-h":!0}),ee(d)!=="svelte-1msln"&&(d.textContent=h),nr.forEach(v),_=ie(Ze),g=x(Ze,"BUTTON",{class:!0,id:!0,"data-svelte-h":!0}),ee(g)!=="svelte-2z7m03"&&(g.textContent=q),Ze.forEach(v),Pt.forEach(v),et.forEach(v),S=ie(Te),T=x(Te,"DIV",{class:!0,id:!0});var un=X(T);P=x(un,"DIV",{class:!0});var Ct=X(P);E=x(Ct,"SELECT",{class:!0,id:!0});var rr=X(E);y=x(rr,"OPTION",{"data-svelte-h":!0}),ee(y)!=="svelte-1msln"&&(y.textContent=w),rr.forEach(v),A=ie(Ct),N=x(Ct,"SELECT",{class:!0,id:!0});var Ln=X(N);k=x(Ln,"OPTION",{"data-svelte-h":!0}),ee(k)!=="svelte-1msln"&&(k.textContent=$),Ln.forEach(v),Ct.forEach(v),M=ie(un),I=x(un,"DIV",{class:!0});var kt=X(I);R=x(kt,"DIV",{class:!0,"data-svelte-h":!0}),ee(R)!=="svelte-1ake552"&&(R.innerHTML=U),Q=ie(kt),F=x(kt,"DIV",{class:!0,id:!0});var tt=X(F);K=x(tt,"DIV",{class:!0,id:!0});var gn=X(K);L=x(gn,"DIV",{class:!0});var qn=X(L);O=x(qn,"DIV",{class:!0});var ot=X(O);G=x(ot,"DIV",{class:!0});var qt=X(G);Me(se.$$.fragment,qt),qt.forEach(v),B=ie(ot),le=x(ot,"DIV",{class:!0,id:!0}),X(le).forEach(v),ot.forEach(v),qn.forEach(v),ce=ie(gn),de=x(gn,"DIV",{class:!0});var ar=X(de);m=x(ar,"DIV",{class:!0});var fn=X(m);W=x(fn,"DIV",{class:!0});var Rt=X(W);Me(ye.$$.fragment,Rt),Rt.forEach(v),j=ie(fn),te=x(fn,"DIV",{class:!0,id:!0}),X(te).forEach(v),fn.forEach(v),ar.forEach(v),gn.forEach(v),re=ie(tt),V=x(tt,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ee(V)!=="svelte-ittqtt"&&(V.innerHTML=D),Y=ie(tt),pe=x(tt,"DIV",{class:!0});var or=X(pe);ue=x(or,"DIV",{class:!0});var dt=X(ue);H=x(dt,"H4",{class:!0,"data-svelte-h":!0}),ee(H)!=="svelte-1ywp2eh"&&(H.textContent=he),$e=ie(dt),ke=x(dt,"BR",{}),xe=ie(dt),Ne=x(dt,"LABEL",{class:!0});var Tt=X(Ne);qe=x(Tt,"SPAN",{"data-svelte-h":!0}),ee(qe)!=="svelte-jrcxpn"&&(qe.textContent=we),Ge=ie(Tt),Xe=x(Tt,"SELECT",{class:!0,id:!0});var St=X(Xe);je=x(St,"OPTION",{"data-svelte-h":!0}),ee(je)!=="svelte-1msln"&&(je.textContent=Ot),St.forEach(v),Tt.forEach(v),Et=ie(dt),J=x(dt,"LABEL",{class:!0});var yn=X(J);fe=x(yn,"SPAN",{"data-svelte-h":!0}),ee(fe)!=="svelte-1yokr7c"&&(fe.textContent=be),Z=ie(yn),ne=x(yn,"SELECT",{class:!0,id:!0});var Dn=X(ne);ae=x(Dn,"OPTION",{"data-svelte-h":!0}),ee(ae)!=="svelte-1msln"&&(ae.textContent=Oe),Dn.forEach(v),yn.forEach(v),Ce=ie(dt),Ue=x(dt,"LABEL",{class:!0});var it=X(Ue);Ht=x(it,"SPAN",{"data-svelte-h":!0}),ee(Ht)!=="svelte-1qc0h03"&&(Ht.textContent=Zt),Je=ie(it),Ke=x(it,"SELECT",{class:!0,id:!0});var Dt=X(Ke);ut=x(Dt,"OPTION",{"data-svelte-h":!0}),ee(ut)!=="svelte-1msln"&&(ut.textContent=cn),Dt.forEach(v),it.forEach(v),dt.forEach(v),or.forEach(v),tt.forEach(v),kt.forEach(v),un.forEach(v),yt=ie(Te),ft=x(Te,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ee(ft)!=="svelte-16t1fa1"&&(ft.innerHTML=Be),this.h()},h(){p(r,"class","intro-text p-8"),l.__value="Not_selected",rt(l,l.__value),p(s,"class","select max-w-48 variant-outline-surface"),p(s,"id","sector_selector_landing"),d.__value="Not_selected",rt(d,d.__value),p(f,"class","select max-w-48 variant-outline-surface"),p(f,"id","asset_class_selector_landing"),p(g,"class","btn variant-filled-surface"),p(g,"id","go_button_landing"),p(i,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),p(n,"class","intro-box card"),p(t,"class","content p-8"),p(t,"id","content-landing-page"),y.__value="Not_selected",rt(y,y.__value),p(E,"class","select max-w-48 variant-outline-surface"),p(E,"id","sector_selector"),k.__value="Not_selected",rt(k,k.__value),p(N,"class","select max-w-48 variant-outline-surface"),p(N,"id","asset_class_selector"),p(P,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),p(R,"class","analysis-intro grid sm:grid-cols-12 p-4"),p(G,"class","bubble-explanation"),p(le,"class","bubble-plot"),p(le,"id","bubble-plot"),p(O,"class","plot-bubble-box sm:col-span-3 card p-8"),p(L,"class","plot-bubble-card-box sm:col-span-3 p-2"),p(W,"class","techmix-explanation"),p(te,"class","techmix-plot"),p(te,"id","techmix-plot"),p(m,"class","plot-techmix sm:col-span-3 card p-8"),p(de,"class","plot-techmix-card-box sm:col-span-3 p-2"),p(K,"class","analysis-plots sm:col-span-10 grid sm:grid-cols-6"),p(K,"id","analysis-plots"),p(V,"class","alert-message sm:col-span-10 bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),p(V,"role","alert"),p(V,"id","alert-message-parameters"),p(H,"class","h4"),je.__value="Not_selected",rt(je,je.__value),p(Xe,"class","select variant-outline-surface"),p(Xe,"id","scenario_source_selector"),p(Ne,"class","label"),ae.__value="Not_selected",rt(ae,ae.__value),p(ne,"class","select variant-outline-surface"),p(ne,"id","scenario_selector"),p(J,"class","label"),ut.__value="Not_selected",rt(ut,ut.__value),p(Ke,"class","select variant-outline-surface"),p(Ke,"id","allocation_method_selector"),p(Ue,"class","label"),p(ue,"class","analysis-parameters sm:col-span-2 card p-8"),p(pe,"class","parameters-box p-2 sm:col-span-2"),p(F,"class","analysis-content grid sm:grid-cols-12 p-4"),p(F,"id","analysis-content"),p(I,"class","analysis p-8 grid"),p(T,"class","content p-8 hidden"),p(T,"id","content-company-view"),p(ft,"class","alert-message bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),p(ft,"role","alert"),p(ft,"id","alert-message")},m(Te,et){z(Te,t,et),C(t,n),C(n,r),C(n,o),C(n,i),C(i,s),C(s,l),C(i,u),C(i,f),C(f,d),C(i,_),C(i,g),z(Te,S,et),z(Te,T,et),C(T,P),C(P,E),C(E,y),C(P,A),C(P,N),C(N,k),C(T,M),C(T,I),C(I,R),C(I,Q),C(I,F),C(F,K),C(K,L),C(L,O),C(O,G),Ee(se,G,null),C(O,B),C(O,le),C(K,ce),C(K,de),C(de,m),C(m,W),Ee(ye,W,null),C(m,j),C(m,te),C(F,re),C(F,V),C(F,Y),C(F,pe),C(pe,ue),C(ue,H),C(ue,$e),C(ue,ke),C(ue,xe),C(ue,Ne),C(Ne,qe),C(Ne,Ge),C(Ne,Xe),C(Xe,je),C(ue,Et),C(ue,J),C(J,fe),C(J,Z),C(J,ne),C(ne,ae),C(ue,Ce),C(ue,Ue),C(Ue,Ht),C(Ue,Je),C(Ue,Ke),C(Ke,ut),z(Te,yt,et),z(Te,ft,et),wt=!0},p(Te,[et]){const Pt={};et&1&&(Pt.$$scope={dirty:et,ctx:Te}),se.$set(Pt);const Ze={};et&1&&(Ze.$$scope={dirty:et,ctx:Te}),ye.$set(Ze)},i(Te){wt||(me(se.$$.fragment,Te),me(ye.$$.fragment,Te),wt=!0)},o(Te){ge(se.$$.fragment,Te),ge(ye.$$.fragment,Te),wt=!1},d(Te){Te&&(v(t),v(S),v(T),v(yt),v(ft)),Pe(se),Pe(ye)}}}function n0(e){return Co(async()=>{let n=await(await fetch("data/data_exposure_stats.json")).json(),a=await(await fetch("data/data_company_bubble.json")).json(),i=await(await fetch("data/data_techexposure_company_companies.json")).json(),l=await(await fetch("data/data_techexposure_company_portfolio.json")).json();function c(){try{new $l(document.querySelector("#exposure-stats"),n)}catch{document.querySelector("#exposure-stats").innerHTML="",document.querySelector("#exposure-stats").appendChild(pt())}}function u(){try{new Ug(document.querySelector("#bubble-plot"),a)}catch{document.querySelector("#bubble-plot").innerHTML="",document.querySelector("#bubble-plot").appendChild(pt())}}function f(){try{new zg(document.querySelector("#techmix-plot"),i,l,to)}catch{document.querySelector("#techmix-plot").innerHTML="",document.querySelector("#techmix-plot").appendChild(pt())}}function d(){const N=document.querySelector("#sector_selector_landing"),k=document.querySelector("#sector_selector");let $=new Set(ve(a,U=>U.ald_sector).keys()),M=new Set(ve(l,U=>U.ald_sector).keys()),I=new Set(ve(i,U=>U.ald_sector).keys()),R=Array.from($.union(M).union(I));N.length=0,k.length=0,R.forEach(U=>N.add(new Option(U,U))),R.forEach(U=>k.add(new Option(U,U)))}function h(){const N=document.querySelector("#asset_class_selector_landing"),k=document.querySelector("#asset_class_selector");let $=new Set(ve(a,U=>U.asset_class).keys()),M=new Set(ve(l,U=>U.asset_class).keys()),I=new Set(ve(i,U=>U.asset_class).keys()),R=Array.from($.union(M).union(I));N.length=0,k.length=0,R.forEach(U=>N.add(new Option(U,U))),R.forEach(U=>k.add(new Option(U,U)))}function _(){let N=document.querySelector("#asset_class_selector").value,k=document.querySelector("#sector_selector").value,$=l.filter(U=>U.asset_class==N).filter(U=>U.ald_sector==k),M=i.filter(U=>U.asset_class==N).filter(U=>U.ald_sector==k),I=a.filter(U=>U.asset_class==N).filter(U=>U.ald_sector==k);return[$,M,I].some(U=>U.length!=0)}function g(){document.querySelector("#analysis-content").classList.add("hidden"),document.querySelector("#alert-message").classList.remove("hidden")}function q(){document.querySelector("#analysis-content").classList.remove("hidden"),document.querySelector("#alert-message").classList.add("hidden")}function S(){document.querySelector("#analysis-plots").classList.add("hidden"),document.querySelector("#alert-message-parameters").classList.remove("hidden")}function T(){document.querySelector("#analysis-plots").classList.remove("hidden"),document.querySelector("#alert-message-parameters").classList.add("hidden")}function P(){let N=document.querySelector("#scenario_source_selector").value,k=document.querySelector("#asset_class_selector").value,$=document.querySelector("#sector_selector").value,M=l.filter(L=>L.asset_class==k).filter(L=>L.ald_sector==$),I=new Set(ve(M,L=>L.scenario_source).keys()),R=i.filter(L=>L.asset_class==k).filter(L=>L.ald_sector==$),U=new Set(ve(R,L=>L.scenario_source).keys()),Q=a.filter(L=>L.asset_class==k).filter(L=>L.ald_sector==$),F=new Set(ve(Q,L=>L.scenario_source).keys()),K=Array.from(I.union(U).union(F));if(K.length!=0){T();const L=document.querySelector("#scenario_source_selector");L.length=0,K.forEach(O=>L.add(new Option(O,O))),L.options[Math.max(0,K.indexOf(N))].selected="selected"}else S()}function E(){let N=document.querySelector("#asset_class_selector").value,k=document.querySelector("#sector_selector").value,$=document.querySelector("#scenario_source_selector").value,M=document.querySelector("#scenario_selector").value,I=l.filter(O=>O.asset_class==N).filter(O=>O.ald_sector==k).filter(O=>O.scenario_source==$),R=new Set(ve(I,O=>O.scenario).keys()),U=i.filter(O=>O.asset_class==N).filter(O=>O.ald_sector==k).filter(O=>O.scenario_source==$),Q=new Set(ve(U,O=>O.scenario).keys()),F=a.filter(O=>O.asset_class==N).filter(O=>O.ald_sector==k).filter(O=>O.scenario_source==$),K=new Set(ve(F,O=>O.scenario).keys()),L=Array.from(R.union(Q).union(K));if(L.length!=0){T();const O=document.querySelector("#scenario_selector");O.length=0,L.forEach(G=>O.add(new Option(G,G))),O.options[Math.max(0,L.indexOf(M))].selected="selected"}else S()}function y(){let N=document.querySelector("#allocation_method_selector").value,k=document.querySelector("#asset_class_selector").value,$=document.querySelector("#sector_selector").value,M=l.filter(L=>L.asset_class==k).filter(L=>L.ald_sector==$),I=new Set(ve(M,L=>L.allocation).keys()),R=i.filter(L=>L.asset_class==k).filter(L=>L.ald_sector==$),U=new Set(ve(R,L=>L.allocation).keys()),Q=a.filter(L=>L.asset_class==k).filter(L=>L.ald_sector==$),F=new Set(ve(Q,L=>L.allocation).keys()),K=Array.from(I.union(U).union(F));if(K.length!=0){T();const L=document.querySelector("#allocation_method_selector");L.length=0,K.forEach(O=>L.add(new Option(w(O.replace("_"," ")),O))),L.options[Math.max(0,K.indexOf(N))].selected="selected"}else S()}function w(N){return String(N).charAt(0).toUpperCase()+String(N).slice(1)}function A(){const N=document.querySelector("#go_button_landing"),k=document.querySelector("#asset_class_selector"),$=document.querySelector("#sector_selector");N.addEventListener("click",function(){let U=document.querySelector("#asset_class_selector_landing").value,Q=document.querySelector("#sector_selector_landing").value;k.value=U,$.value=Q,document.querySelector("#content-landing-page").classList.toggle("hidden"),document.querySelector("#content-company-view").classList.toggle("hidden"),c(),_()?(q(),u(),f()):g()}),$.addEventListener("change",function(){c(),_()?(q(),P(),E(),u(),f()):g()}),k.addEventListener("change",function(){c(),_()?(q(),P(),E(),y(),u(),f()):g()}),document.querySelector("#scenario_source_selector").addEventListener("change",function(){E(),u(),f()}),document.querySelector("#scenario_selector").addEventListener("change",function(){u(),f()}),document.querySelector("#allocation_method_selector").addEventListener("change",function(){u(),f()})}d(),h(),P(),E(),y(),A(),c(),u(),f()}),[]}class r0 extends on{constructor(t){super(),sn(this,t,n0,t0,an,{})}}function a0(e){let t;return{c(){t=De("Introduction")},l(n){t=Ie(n,"Introduction")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function o0(e){let t;return{c(){t=De("Portfolio-level Overview")},l(n){t=Ie(n,"Portfolio-level Overview")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function i0(e){let t;return{c(){t=De("Sector-level Analysis")},l(n){t=Ie(n,"Sector-level Analysis")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function s0(e){let t;return{c(){t=De("Company-level Analysis")},l(n){t=Ie(n,"Company-level Analysis")},m(n,r){z(n,t,r)},d(n){n&&v(t)}}}function l0(e){let t,n,r,a,o,i,s,l,c,u,f,d;function h(y){e[1](y)}let _={name:"pacta_intro",value:0,$$slots:{default:[a0]},$$scope:{ctx:e}};e[0]!==void 0&&(_.group=e[0]),t=new Zr({props:_}),pr.push(()=>Xr(t,"group",h));function g(y){e[2](y)}let q={name:"portfolio_view",value:1,$$slots:{default:[o0]},$$scope:{ctx:e}};e[0]!==void 0&&(q.group=e[0]),a=new Zr({props:q}),pr.push(()=>Xr(a,"group",g));function S(y){e[3](y)}let T={name:"sector_view",value:2,$$slots:{default:[i0]},$$scope:{ctx:e}};e[0]!==void 0&&(T.group=e[0]),s=new Zr({props:T}),pr.push(()=>Xr(s,"group",S));function P(y){e[4](y)}let E={name:"company_view",value:3,$$slots:{default:[s0]},$$scope:{ctx:e}};return e[0]!==void 0&&(E.group=e[0]),u=new Zr({props:E}),pr.push(()=>Xr(u,"group",P)),{c(){Ae(t.$$.fragment),r=oe(),Ae(a.$$.fragment),i=oe(),Ae(s.$$.fragment),c=oe(),Ae(u.$$.fragment)},l(y){Me(t.$$.fragment,y),r=ie(y),Me(a.$$.fragment,y),i=ie(y),Me(s.$$.fragment,y),c=ie(y),Me(u.$$.fragment,y)},m(y,w){Ee(t,y,w),z(y,r,w),Ee(a,y,w),z(y,i,w),Ee(s,y,w),z(y,c,w),Ee(u,y,w),d=!0},p(y,w){const A={};w&32&&(A.$$scope={dirty:w,ctx:y}),!n&&w&1&&(n=!0,A.group=y[0],jr(()=>n=!1)),t.$set(A);const N={};w&32&&(N.$$scope={dirty:w,ctx:y}),!o&&w&1&&(o=!0,N.group=y[0],jr(()=>o=!1)),a.$set(N);const k={};w&32&&(k.$$scope={dirty:w,ctx:y}),!l&&w&1&&(l=!0,k.group=y[0],jr(()=>l=!1)),s.$set(k);const $={};w&32&&($.$$scope={dirty:w,ctx:y}),!f&&w&1&&(f=!0,$.group=y[0],jr(()=>f=!1)),u.$set($)},i(y){d||(me(t.$$.fragment,y),me(a.$$.fragment,y),me(s.$$.fragment,y),me(u.$$.fragment,y),d=!0)},o(y){ge(t.$$.fragment,y),ge(a.$$.fragment,y),ge(s.$$.fragment,y),ge(u.$$.fragment,y),d=!1},d(y){y&&(v(r),v(i),v(c)),Pe(t,y),Pe(a,y),Pe(s,y),Pe(u,y)}}}function c0(e){let t,n="Tab not found";return{c(){t=b("p"),t.textContent=n},l(r){t=x(r,"P",{"data-svelte-h":!0}),ee(t)!=="svelte-1it2u72"&&(t.textContent=n)},m(r,a){z(r,t,a)},i:_e,o:_e,d(r){r&&v(t)}}}function u0(e){let t,n;return t=new r0({}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function f0(e){let t,n;return t=new Vg({}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function d0(e){let t,n;return t=new bg({}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function h0(e){let t,n;return t=new Zc({}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function m0(e){let t,n,r,a;const o=[h0,d0,f0,u0,c0],i=[];function s(l,c){return l[0]===0?0:l[0]===1?1:l[0]===2?2:l[0]===3?3:4}return t=s(e),n=i[t]=o[t](e),{c(){n.c(),r=jn()},l(l){n.l(l),r=jn()},m(l,c){i[t].m(l,c),z(l,r,c),a=!0},p(l,c){let u=t;t=s(l),t!==u&&(kn(),ge(i[u],1,1,()=>{i[u]=null}),Tn(),n=i[t],n||(n=i[t]=o[t](l),n.c()),me(n,1),n.m(r.parentNode,r))},i(l){a||(me(n),a=!0)},o(l){ge(n),a=!1},d(l){l&&v(r),i[t].d(l)}}}function p0(e){let t,n;return t=new kc({props:{$$slots:{panel:[m0],default:[l0]},$$scope:{ctx:e}}}),{c(){Ae(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,a){Ee(t,r,a),n=!0},p(r,[a]){const o={};a&33&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function g0(e,t,n){let r=0;function a(l){r=l,n(0,r)}function o(l){r=l,n(0,r)}function i(l){r=l,n(0,r)}function s(l){r=l,n(0,r)}return[r,a,o,i,s]}class x0 extends on{constructor(t){super(),sn(this,t,g0,p0,an,{})}}export{x0 as component};
